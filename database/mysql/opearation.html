<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.12" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.46" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vanhung4499.github.io/database/mysql/opearation.html"><meta property="og:site_name" content="vanhung4499"><meta property="og:title" content="MySQL Opearation"><meta property="og:description" content="MySQL Operation N·∫øu c√¥ng ty c·ªßa b·∫°n c√≥ DBA, th√¨ t√¥i xin ch√∫c m·ª´ng b·∫°n, b·∫°n c√≥ th·ªÉ b·ªè qua vi·ªác qu·∫£n tr·ªã Mysql. N·∫øu c√¥ng ty c·ªßa b·∫°n kh√¥ng c√≥ DBA, h√£y h·ªçc c√°ch th·ª±c hi·ªán c√°c ho·∫°t ƒë..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-06-26T14:44:55.000Z"><meta property="article:author" content="Hung Nguyen"><meta property="article:modified_time" content="2024-06-26T14:44:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL Opearation","image":["https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png"],"dateModified":"2024-06-26T14:44:55.000Z","author":[{"@type":"Person","name":"Hung Nguyen","url":"https://vanhung4499.github.io","email":"vanhung4499@gmail.com"}]}</script><meta name="robots" content="all"><meta name="author" content="Hung Nguyen"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="Java, JVM, MySQL, Spring, Redis, MyBatis, SpringBoot, Frontend, Backend, Fullstack, DevOps, Hackintosh"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><title>MySQL Opearation | vanhung4499</title><meta name="description" content="MySQL Operation N·∫øu c√¥ng ty c·ªßa b·∫°n c√≥ DBA, th√¨ t√¥i xin ch√∫c m·ª´ng b·∫°n, b·∫°n c√≥ th·ªÉ b·ªè qua vi·ªác qu·∫£n tr·ªã Mysql. N·∫øu c√¥ng ty c·ªßa b·∫°n kh√¥ng c√≥ DBA, h√£y h·ªçc c√°ch th·ª±c hi·ªán c√°c ho·∫°t ƒë...">
    <link rel="preload" href="/assets/style-CQc2aIVV.css" as="style"><link rel="stylesheet" href="/assets/style-CQc2aIVV.css">
    <link rel="modulepreload" href="/assets/app-C-_dXKvP.js"><link rel="modulepreload" href="/assets/opearation.html-CHqRre6-.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">vanhung4499</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->Home<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog.html" aria-label="Blog"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-blog" style=""></span><!--]-->Blog<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/dsa/" aria-label="Algorithm"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><!--]-->Algorithm<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Programming"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>Programming<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/java/" aria-label="Java"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/golang/" aria-label="Golang"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-golang" style=""></span><!--]-->Golang<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/js/" aria-label="JavaScript"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-js" style=""></span><!--]-->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/ts/" aria-label="TypeScript"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-t" style=""></span><!--]-->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/python/" aria-label="Python"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-python" style=""></span><!--]-->Python<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Database"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span>Database<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/sql/" aria-label="SQL"><!---->SQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/database/mysql/" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/mongodb/" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/redis/" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elasticsearch/" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Framework"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-server" style=""></span>Framework<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/spring/" aria-label="Spring"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/nestjs/" aria-label="NestJS"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-js" style=""></span><!--]-->NestJS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/gin/" aria-label="Gin"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-golang" style=""></span><!--]-->Gin<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="DevOps"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-tools" style=""></span>DevOps<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/docker/" aria-label="Docker"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-docker" style=""></span><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/kubernetes/" aria-label="Kubernetes"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-kubernetes" style=""></span><!--]-->Kubernetes<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/jenkins/" aria-label="Jenkins"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-jenkins" style=""></span><!--]-->Jenkins<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/git/" aria-label="Git"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-github" style=""></span><!--]-->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/linux/" aria-label="Linux"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-linux" style=""></span><!--]-->Linux<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Design"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-paint-brush" style=""></span>Design<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/design-pattern/" aria-label="Design Pattern"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-paint-brush" style=""></span><!--]-->Design Pattern<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/system-design/" aria-label="System Design"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-gear" style=""></span><!--]-->System Design<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/projects/" aria-label="Projects"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-project-diagram" style=""></span><!--]-->Projects<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="About"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-circle-info" style=""></span>About<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/me.html" aria-label="Me"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-circle-info" style=""></span><!--]-->Me<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/" aria-label="Page"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-file" style=""></span><!--]-->Page<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vanhung4499/vanhung4499.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/overview.html" aria-label="MySQL Overview"><!---->MySQL Overview<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/guide.html" aria-label="MySQL Guide"><!---->MySQL Guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><!---->MySQL Architecture<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/engine.html" aria-label="MySQL Storage Engine"><!---->MySQL Storage Engine<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><!---->MySQL Index<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/transaction.html" aria-label="MySQL Transaction"><!---->MySQL Transaction<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/lock.html" aria-label="Lock"><!---->Lock<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/replication.html" aria-label="MySQL Replication"><!---->MySQL Replication<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><!---->MySQL Optimization<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link vp-sidebar-page active" href="/database/mysql/opearation.html" aria-label="MySQL Opearation"><!---->MySQL Opearation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><!---->MySQL Configuration<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MongoDB</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Elasticsearch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Elastic Stack</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQL Opearation</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://vanhung4499.github.io" target="_blank" rel="noopener noreferrer">Hung Nguyen</a></span><span property="author" content="Hung Nguyen"></span></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="articleSection" content="mysql"></span><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-26T14:44:55.000Z"></span><!----><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 21 min</span><meta property="timeRequired" content="PT21M"></span><span class="page-word-info" aria-label="Wordsüî†" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>About 6249 words</span><meta property="wordCount" content="6249"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cai-ƒëat-va-trien-khai">C√†i ƒë·∫∑t v√† tri·ªÉn khai</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cai-ƒëat-tren-windows">C√†i ƒë·∫∑t tr√™n Windows</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cai-ƒëat-tren-centos">C√†i ƒë·∫∑t tr√™n CentOS</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#khoi-tao-mat-khau-cho-co-so-du-lieu">Kh·ªüi t·∫°o m·∫≠t kh·∫©u cho c∆° s·ªü d·ªØ li·ªáu</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-hinh-truy-cap-tu-xa">C·∫•u h√¨nh truy c·∫≠p t·ª´ xa</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-qua-xac-thuc-ƒëang-nhap">B·ªè qua x√°c th·ª±c ƒëƒÉng nh·∫≠p</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ket-noi-tu-may-khach">K·∫øt n·ªëi t·ª´ m√°y kh√°ch</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-ket-noi">Xem k·∫øt n·ªëi</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tao-nguoi-dung">T·∫°o ng∆∞·ªùi d√πng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-nguoi-dung">Xem ng∆∞·ªùi d√πng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cap-quyen">C·∫•p quy·ªÅn</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#thu-hoi-quyen">Thu h·ªìi quy·ªÅn</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-quyen">Xem quy·ªÅn</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#thay-ƒëoi-mat-khau-nguoi-dung">Thay ƒë·ªïi m·∫≠t kh·∫©u ng∆∞·ªùi d√πng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#sao-luu-va-khoi-phuc">Sao l∆∞u v√† kh√¥i ph·ª•c</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#go-cai-ƒëat">G·ª° c√†i ƒë·∫∑t</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#trien-khai-master-slave">Tri·ªÉn khai Master-Slave</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#truy-van-cham">Truy v·∫•n ch·∫≠m</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cap-ƒëo-co-lap">C·∫•p ƒë·ªô c√¥ l·∫≠p</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cau-hinh-may-chu">C·∫•u h√¨nh m√°y ch·ªß</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ƒëuong-dan-tep-cau-hinh">ƒê∆∞·ªùng d·∫´n t·ªáp c·∫•u h√¨nh</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cu-phap-cau-hinh">C√∫ ph√°p c·∫•u h√¨nh</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#giai-thich-cac-cau-hinh-pho-bien">Gi·∫£i th√≠ch c√°c c·∫•u h√¨nh ph·ªï bi·∫øn</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-van-ƒëe-thuong-gap">C√°c v·∫•n ƒë·ªÅ th∆∞·ªùng g·∫∑p</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#qua-nhieu-ket-noi-too-many-connections">Qu√° nhi·ªÅu k·∫øt n·ªëi (Too many connections)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cach-sua-chua-bang-du-lieu-bi-hong">C√°ch s·ª≠a ch·ªØa b·∫£ng d·ªØ li·ªáu b·ªã h·ªèng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-du-lieu">C·∫•u tr√∫c d·ªØ li·ªáu</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="mysql-operation" tabindex="-1"><a class="header-anchor" href="#mysql-operation"><span>MySQL Operation</span></a></h1><blockquote><p>N·∫øu c√¥ng ty c·ªßa b·∫°n c√≥ DBA, th√¨ t√¥i xin ch√∫c m·ª´ng b·∫°n, b·∫°n c√≥ th·ªÉ b·ªè qua vi·ªác qu·∫£n tr·ªã Mysql. N·∫øu c√¥ng ty c·ªßa b·∫°n kh√¥ng c√≥ DBA, h√£y h·ªçc c√°ch th·ª±c hi·ªán c√°c ho·∫°t ƒë·ªông qu·∫£n tr·ªã c∆° b·∫£n c·ªßa Mysql, ƒë√≥ l√† ƒëi·ªÅu c·∫ßn thi·∫øt ƒë·ªÉ t·ª± b·∫£o v·ªá m√¨nh khi ho·∫°t ƒë·ªông trong lƒ©nh v·ª±c n√†y.</p></blockquote><h2 id="cai-ƒëat-va-trien-khai" tabindex="-1"><a class="header-anchor" href="#cai-ƒëat-va-trien-khai"><span>C√†i ƒë·∫∑t v√† tri·ªÉn khai</span></a></h2><h3 id="cai-ƒëat-tren-windows" tabindex="-1"><a class="header-anchor" href="#cai-ƒëat-tren-windows"><span>C√†i ƒë·∫∑t tr√™n Windows</span></a></h3><p>(1) T·∫£i phi√™n b·∫£n Mysql 5.7 Portable (kh√¥ng c·∫ßn c√†i ƒë·∫∑t)</p><p>Link t·∫£i: https://dev.mysql.com/downloads/mysql/5.7.html#downloads</p><p>(2) Gi·∫£i n√©n v√† t·∫°o file my.ini trong th∆∞ m·ª•c g·ªëc</p><p>V√≠ d·ª• file my.ini:</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Thi·∫øt l·∫≠p c·ªïng 3306</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">port</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Thi·∫øt l·∫≠p ƒë∆∞·ªùng d·∫´n c√†i ƒë·∫∑t mysql, thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y cho ph√π h·ª£p v·ªõi th∆∞ m·ª•c b·∫°n gi·∫£i n√©n</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">basedir</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">D:\\Tools\\DB\\mysql\\mysql-5.7.31</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># S·ªë k·∫øt n·ªëi t·ªëi ƒëa</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">max_connections</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">200</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Mysql s·ª≠ d·ª•ng b·ªô k√Ω t·ª± m·∫∑c ƒë·ªãnh l√† latin1</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">character-set-server</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">utf8</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Thi·∫øt l·∫≠p engine l∆∞u tr·ªØ m·∫∑c ƒë·ªãnh cho b·∫£ng m·ªõi</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">default-storage-engine</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">INNODB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Thi·∫øt l·∫≠p b·ªô k√Ω t·ª± m·∫∑c ƒë·ªãnh cho client mysql</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">default-character-set</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">utf8</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) Th·ª±c hi·ªán c√°c l·ªánh c√†i ƒë·∫∑t</p><p>Tr√™n c·ª≠a s·ªï CMD, th·ª±c hi·ªán l·∫ßn l∆∞·ª£t c√°c l·ªánh c√†i ƒë·∫∑t sau:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>cd D:\\Tools\\DB\\mysql\\mysql-5.7.31</span></span>
<span class="line"><span>mysqld --initialize</span></span>
<span class="line"><span>mysqld -install</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Gi·∫£i th√≠ch:</p><ul><li><code>mysqld --initialize</code> s·∫Ω t·ª± ƒë·ªông kh·ªüi t·∫°o v√† t·∫°o th∆∞ m·ª•c data.</li><li><code>mysqld -install</code> s·∫Ω c√†i ƒë·∫∑t d·ªãch v·ª• mysql.</li></ul><p>(4) Kh·ªüi ƒë·ªông d·ªãch v·ª•</p><p>Tr√™n c·ª≠a s·ªï CMD, th·ª±c hi·ªán l·ªánh <code>net start mysql</code> ƒë·ªÉ kh·ªüi ƒë·ªông d·ªãch v·ª•.</p><h3 id="cai-ƒëat-tren-centos" tabindex="-1"><a class="header-anchor" href="#cai-ƒëat-tren-centos"><span>C√†i ƒë·∫∑t tr√™n CentOS</span></a></h3><blockquote><p>B√†i vi·∫øt n√†y ch·ªâ gi·ªõi thi·ªáu c√°ch c√†i ƒë·∫∑t th√¥ng qua g√≥i rpm</p></blockquote><h4 id="cai-ƒëat-nguon-yum-cua-mysql" tabindex="-1"><a class="header-anchor" href="#cai-ƒëat-nguon-yum-cua-mysql"><span>C√†i ƒë·∫∑t ngu·ªìn yum c·ªßa mysql</span></a></h4><p>Link t·∫£i ch√≠nh th·ª©c: https://dev.mysql.com/downloads/repo/yum/</p><p>(1) T·∫£i g√≥i yum</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="color:#032F62;--shiki-dark:#98C379;"> https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(2) C√†i ƒë·∫∑t t·ªáp repo yum v√† c·∫≠p nh·∫≠t b·ªô nh·ªõ cache yum</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">rpm</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -ivh</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql80-community-release-el7-1.noarch.rpm</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>K·∫øt qu·∫£ th·ª±c hi·ªán:</p><p>S·∫Ω t·∫°o ra hai t·ªáp repo trong th∆∞ m·ª•c /etc/yum.repos.d/</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="color:#032F62;--shiki-dark:#98C379;"> ls</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community.repo</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-source.repo</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>C·∫≠p nh·∫≠t yum:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">yum</span><span style="color:#032F62;--shiki-dark:#98C379;"> clean</span><span style="color:#032F62;--shiki-dark:#98C379;"> all</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">yum</span><span style="color:#032F62;--shiki-dark:#98C379;"> makecache</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) Ki·ªÉm tra tr·∫°ng th√°i c√†i ƒë·∫∑t rpm</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="color:#032F62;--shiki-dark:#98C379;"> yum</span><span style="color:#032F62;--shiki-dark:#98C379;"> search</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="color:#032F62;--shiki-dark:#98C379;"> server</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-common.i686</span><span style="color:#032F62;--shiki-dark:#98C379;"> :</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> database</span><span style="color:#032F62;--shiki-dark:#98C379;"> common</span><span style="color:#032F62;--shiki-dark:#98C379;"> files</span><span style="color:#032F62;--shiki-dark:#98C379;"> for</span><span style="color:#032F62;--shiki-dark:#98C379;"> server</span><span style="color:#032F62;--shiki-dark:#98C379;"> and</span><span style="color:#032F62;--shiki-dark:#98C379;"> client</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-common.x86_64</span><span style="color:#032F62;--shiki-dark:#98C379;"> :</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> database</span><span style="color:#032F62;--shiki-dark:#98C379;"> common</span><span style="color:#032F62;--shiki-dark:#98C379;"> files</span><span style="color:#032F62;--shiki-dark:#98C379;"> for</span><span style="color:#032F62;--shiki-dark:#98C379;"> server</span><span style="color:#032F62;--shiki-dark:#98C379;"> and</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-test.x86_64</span><span style="color:#032F62;--shiki-dark:#98C379;"> :</span><span style="color:#032F62;--shiki-dark:#98C379;"> Test</span><span style="color:#032F62;--shiki-dark:#98C379;"> suite</span><span style="color:#032F62;--shiki-dark:#98C379;"> for</span><span style="color:#032F62;--shiki-dark:#98C379;"> the</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> database</span><span style="color:#032F62;--shiki-dark:#98C379;"> server</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">                       :</span><span style="color:#032F62;--shiki-dark:#98C379;"> administering</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> servers</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-server.x86_64</span><span style="color:#032F62;--shiki-dark:#98C379;"> :</span><span style="color:#032F62;--shiki-dark:#98C379;"> A</span><span style="color:#032F62;--shiki-dark:#98C379;"> very</span><span style="color:#032F62;--shiki-dark:#98C379;"> fast</span><span style="color:#032F62;--shiki-dark:#98C379;"> and</span><span style="color:#032F62;--shiki-dark:#98C379;"> reliable</span><span style="color:#032F62;--shiki-dark:#98C379;"> SQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> database</span><span style="color:#032F62;--shiki-dark:#98C379;"> server</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Sau khi c√†i ƒë·∫∑t mysql b·∫±ng yum, s·∫Ω c√≥ m·ªôt s·ªë th∆∞ m·ª•c quan tr·ªçng:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>## T·ªáp c·∫•u h√¨nh</span></span>
<span class="line"><span>/etc/my.cnf</span></span>
<span class="line"><span>## Th∆∞ m·ª•c c∆° s·ªü d·ªØ li·ªáu</span></span>
<span class="line"><span>/var/lib/mysql/</span></span>
<span class="line"><span>## T·ªáp c·∫•u h√¨nh</span></span>
<span class="line"><span>/usr/share/mysql (l·ªánh mysql.server v√† t·ªáp c·∫•u h√¨nh)</span></span>
<span class="line"><span>## C√°c l·ªánh li√™n quan</span></span>
<span class="line"><span>/usr/bin (mysqladmin, mysqldump v√† c√°c l·ªánh kh√°c)</span></span>
<span class="line"><span>## T·ªáp kh·ªüi ƒë·ªông</span></span>
<span class="line"><span>/usr/lib/systemd/system/mysqld.service (ƒëƒÉng k√Ω d·ªãch v·ª• systemd)</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(4) C√†i ƒë·∫∑t m√°y ch·ªß mysql</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">yum</span><span style="color:#032F62;--shiki-dark:#98C379;"> install</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql-community-server</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="quan-ly-dich-vu-mysql" tabindex="-1"><a class="header-anchor" href="#quan-ly-dich-vu-mysql"><span>Qu·∫£n l√Ω d·ªãch v·ª• mysql</span></a></h4><p>Sau khi c√†i ƒë·∫∑t mysql b·∫±ng yum, s·∫Ω c√≥ m·ªôt d·ªãch v·ª• systemd c√≥ t√™n <code>mysqld</code>.</p><p>Qu·∫£n l√Ω d·ªãch v·ª• r·∫•t ƒë∆°n gi·∫£n:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## Ki·ªÉm tra tr·∫°ng th√°i</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> status</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## K√≠ch ho·∫°t d·ªãch v·ª•</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> enable</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## V√¥ hi·ªáu h√≥a d·ªãch v·ª•</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> disable</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## Kh·ªüi ƒë·ªông d·ªãch v·ª•</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> start</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## Kh·ªüi ƒë·ªông l·∫°i d·ªãch v·ª•</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> restart</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">## D·ª´ng d·ªãch v·ª•</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> stop</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysqld</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="khoi-tao-mat-khau-cho-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-tao-mat-khau-cho-co-so-du-lieu"><span>Kh·ªüi t·∫°o m·∫≠t kh·∫©u cho c∆° s·ªü d·ªØ li·ªáu</span></a></h3><p>Xem m·∫≠t kh·∫©u t·∫°m th·ªùi:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="color:#032F62;--shiki-dark:#98C379;"> grep</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;password&quot;</span><span style="color:#032F62;--shiki-dark:#98C379;"> /var/log/mysqld.log</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">2018-09-30T03:13:41.727736Z</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> [Note] [MY-010454] [Server] A temporary password is generated </span><span style="color:#D73A49;--shiki-dark:#C678DD;">for</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> root@localhost: %:lt+srWu4k1</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Th·ª±c hi·ªán l·ªánh sau:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -uroot</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66;">temporary_password</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Nh·∫≠p m·∫≠t kh·∫©u t·∫°m th·ªùi ƒë·ªÉ truy c·∫≠p v√†o mysql. N·∫øu b·∫°n mu·ªën thay ƒë·ªïi m·∫≠t kh·∫©u, th·ª±c hi·ªán l·ªánh sau:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">ALTER</span><span style="color:#032F62;--shiki-dark:#98C379;"> USER</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;@&#39;localhost&#39;</span><span style="color:#032F62;--shiki-dark:#98C379;"> IDENTIFIED</span><span style="color:#032F62;--shiki-dark:#98C379;"> BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>L∆∞u √Ω: M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh c√≥ ƒë·ªô m·∫°nh trung b√¨nh, bao g·ªìm ch·ªØ hoa, ch·ªØ th∆∞·ªùng, ch·ªØ s·ªë v√† k√Ω t·ª± ƒë·∫∑c bi·ªát. B·∫°n ch·ªâ c√≥ th·ªÉ thay ƒë·ªïi c·∫•u h√¨nh ƒë·ªÉ s·ª≠ d·ª•ng m·∫≠t kh·∫©u ƒë∆°n gi·∫£n h∆°n sau khi ƒë√£ thay ƒë·ªïi th√†nh c√¥ng m·∫≠t kh·∫©u.</p><h3 id="cau-hinh-truy-cap-tu-xa" tabindex="-1"><a class="header-anchor" href="#cau-hinh-truy-cap-tu-xa"><span>C·∫•u h√¨nh truy c·∫≠p t·ª´ xa</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">root</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ALL </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">ALTER</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">WITH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">FLUSH PRIVILEGES;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bo-qua-xac-thuc-ƒëang-nhap" tabindex="-1"><a class="header-anchor" href="#bo-qua-xac-thuc-ƒëang-nhap"><span>B·ªè qua x√°c th·ª±c ƒëƒÉng nh·∫≠p</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="color:#032F62;--shiki-dark:#98C379;"> /etc/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Th√™m d√≤ng <code>skip-grant-tables</code> d∆∞·ªõi ph·∫ßn <code>[mysqld]</code>.</p><p>Ch·ª©c nƒÉng n√†y cho ph√©p b·ªè qua x√°c th·ª±c ƒëƒÉng nh·∫≠p, nghƒ©a l√† b·∫°n c√≥ th·ªÉ ƒëƒÉng nh·∫≠p v√†o root v·ªõi b·∫•t k·ª≥ m·∫≠t kh·∫©u n√†o.</p><p>Th·ª±c hi·ªán <code>systemctl restart mysqld</code> ƒë·ªÉ kh·ªüi ƒë·ªông l·∫°i mysql.</p><h3 id="ket-noi-tu-may-khach" tabindex="-1"><a class="header-anchor" href="#ket-noi-tu-may-khach"><span>K·∫øt n·ªëi t·ª´ m√°y kh√°ch</span></a></h3><p>C√∫ ph√°p: <code>mysql -h&lt;host&gt; -P&lt;port&gt; -u&lt;username&gt; -p&lt;password&gt;</code></p><p>N·∫øu kh√¥ng ch·ªâ ƒë·ªãnh m·∫≠t kh·∫©u m·ªôt c√°ch r√µ r√†ng, b·∫°n s·∫Ω ƒë∆∞·ª£c y√™u c·∫ßu nh·∫≠p m·∫≠t kh·∫©u tr∆∞·ªõc khi truy c·∫≠p.</p><p>„ÄêV√≠ d·ª•„ÄëK·∫øt n·ªëi ƒë·∫øn Mysql c·ª•c b·ªô</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -h</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -P</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 3306</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -u</span><span style="color:#032F62;--shiki-dark:#98C379;"> root</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -p</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Enter</span><span style="color:#032F62;--shiki-dark:#98C379;"> password:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Welcome</span><span style="color:#032F62;--shiki-dark:#98C379;"> to</span><span style="color:#032F62;--shiki-dark:#98C379;"> the</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> monitor.</span><span style="color:#032F62;--shiki-dark:#98C379;">  Commands</span><span style="color:#032F62;--shiki-dark:#98C379;"> end</span><span style="color:#032F62;--shiki-dark:#98C379;"> with</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ; </span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">or</span><span style="color:#005CC5;--shiki-dark:#56B6C2;"> \g</span><span style="color:#032F62;--shiki-dark:#98C379;">.</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Your</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> connection</span><span style="color:#032F62;--shiki-dark:#98C379;"> id</span><span style="color:#032F62;--shiki-dark:#98C379;"> is</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 13501</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Server</span><span style="color:#032F62;--shiki-dark:#98C379;"> version:</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 8.0.19</span><span style="color:#032F62;--shiki-dark:#98C379;"> MySQL</span><span style="color:#032F62;--shiki-dark:#98C379;"> Community</span><span style="color:#032F62;--shiki-dark:#98C379;"> Server</span><span style="color:#032F62;--shiki-dark:#98C379;"> -</span><span style="color:#032F62;--shiki-dark:#98C379;"> GPL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Copyright</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Oracle</span><span style="color:#032F62;--shiki-dark:#98C379;"> is</span><span style="color:#032F62;--shiki-dark:#98C379;"> a</span><span style="color:#032F62;--shiki-dark:#98C379;"> registered</span><span style="color:#032F62;--shiki-dark:#98C379;"> trademark</span><span style="color:#032F62;--shiki-dark:#98C379;"> of</span><span style="color:#032F62;--shiki-dark:#98C379;"> Oracle</span><span style="color:#032F62;--shiki-dark:#98C379;"> Corporation</span><span style="color:#032F62;--shiki-dark:#98C379;"> and/or</span><span style="color:#032F62;--shiki-dark:#98C379;"> its</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">affiliates.</span><span style="color:#032F62;--shiki-dark:#98C379;"> Other</span><span style="color:#032F62;--shiki-dark:#98C379;"> names</span><span style="color:#032F62;--shiki-dark:#98C379;"> may</span><span style="color:#032F62;--shiki-dark:#98C379;"> be</span><span style="color:#032F62;--shiki-dark:#98C379;"> trademarks</span><span style="color:#032F62;--shiki-dark:#98C379;"> of</span><span style="color:#032F62;--shiki-dark:#98C379;"> their</span><span style="color:#032F62;--shiki-dark:#98C379;"> respective</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">owners.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Type</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;help;&#39;</span><span style="color:#032F62;--shiki-dark:#98C379;"> or</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;\h&#39;</span><span style="color:#032F62;--shiki-dark:#98C379;"> for</span><span style="color:#032F62;--shiki-dark:#98C379;"> help.</span><span style="color:#032F62;--shiki-dark:#98C379;"> Type</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;\c&#39;</span><span style="color:#032F62;--shiki-dark:#98C379;"> to</span><span style="color:#032F62;--shiki-dark:#98C379;"> clear</span><span style="color:#032F62;--shiki-dark:#98C379;"> the</span><span style="color:#032F62;--shiki-dark:#98C379;"> current</span><span style="color:#032F62;--shiki-dark:#98C379;"> input</span><span style="color:#032F62;--shiki-dark:#98C379;"> statement.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xem-ket-noi" tabindex="-1"><a class="header-anchor" href="#xem-ket-noi"><span>Xem k·∫øt n·ªëi</span></a></h3><p>Sau khi k·∫øt n·ªëi th√†nh c√¥ng, n·∫øu b·∫°n kh√¥ng c√≥ ho·∫°t ƒë·ªông ti·∫øp theo, k·∫øt n·ªëi s·∫Ω ·ªü tr·∫°ng th√°i r·∫£nh r·ªói v√† b·∫°n c√≥ th·ªÉ th·∫•y n√≥ trong l·ªánh <code>show processlist</code>. N·∫øu m√°y kh√°ch kh√¥ng c√≥ ho·∫°t ƒë·ªông trong m·ªôt kho·∫£ng th·ªùi gian d√†i, tr√¨nh k·∫øt n·ªëi s·∫Ω t·ª± ƒë·ªông ƒë√≥ng n√≥. Th·ªùi gian n√†y ƒë∆∞·ª£c ƒëi·ªÅu ch·ªânh b·ªüi tham s·ªë <code>wait_timeout</code>, gi√° tr·ªã m·∫∑c ƒë·ªãnh l√† 8 gi·ªù.</p><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="tao-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#tao-nguoi-dung"><span>T·∫°o ng∆∞·ªùi d√πng</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">username</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gi·∫£i th√≠ch:</p><ul><li>username: T√™n ng∆∞·ªùi d√πng b·∫°n mu·ªën t·∫°o</li><li>host: X√°c ƒë·ªãnh ng∆∞·ªùi d√πng c√≥ th·ªÉ ƒëƒÉng nh·∫≠p t·ª´ m√°y ch·ªß n√†o. N·∫øu l√† ng∆∞·ªùi d√πng c·ª•c b·ªô, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng localhost. N·∫øu b·∫°n mu·ªën ng∆∞·ªùi d√πng c√≥ th·ªÉ ƒëƒÉng nh·∫≠p t·ª´ b·∫•t k·ª≥ m√°y ch·ªß t·ª´ xa n√†o, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng k√Ω t·ª± ƒë·∫°i di·ªán <code>%</code>.</li><li>password: M·∫≠t kh·∫©u ƒëƒÉng nh·∫≠p c·ªßa ng∆∞·ªùi d√πng. M·∫≠t kh·∫©u c√≥ th·ªÉ ƒë·ªÉ tr·ªëng. N·∫øu ƒë·ªÉ tr·ªëng, ng∆∞·ªùi d√πng c√≥ th·ªÉ ƒëƒÉng nh·∫≠p v√†o m√°y ch·ªß m√† kh√¥ng c·∫ßn m·∫≠t kh·∫©u.</li></ul><p>V√≠ d·ª•:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">dog</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;localhost&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">pig</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;192.168.1.101_&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENDIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">pig</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">pig</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">pig</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>L∆∞u √Ω: Trong Mysql 8, x√°c th·ª±c m·∫∑c ƒë·ªãnh kh√¥ng c√≤n l√† <code>password</code>. V√¨ v·∫≠y, khi t·∫°o ng∆∞·ªùi d√πng, <code>create user &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</code> kh√¥ng th·ªÉ k·∫øt n·ªëi t·ª´ m√°y kh√°ch.</p><p>V√¨ v·∫≠y, b·∫°n c·∫ßn th√™m <code>IDENTIFIED WITH mysql_native_password</code>, v√≠ d·ª•: <code>CREATE USER &#39;slave&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</code></p></blockquote><h3 id="xem-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#xem-nguoi-dung"><span>Xem ng∆∞·ªùi d√πng</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- Xem t·∫•t c·∫£ ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SELECT DISTINCT</span><span style="color:#005CC5;--shiki-dark:#56B6C2;"> CONCAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;User: &#39;&#39;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, user, </span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;&#39;&#39;@&#39;&#39;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, host, </span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;&#39;&#39;;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="color:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> query</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> mysql</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">user</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cap-quyen" tabindex="-1"><a class="header-anchor" href="#cap-quyen"><span>C·∫•p quy·ªÅn</span></a></h3><p>C√∫ ph√°p:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> privileges </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> databasename</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">tablename</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;host&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gi·∫£i th√≠ch:</p><ul><li>privileges: C√°c quy·ªÅn th·ª±c hi·ªán c·ªßa ng∆∞·ªùi d√πng, nh∆∞ <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, vv. N·∫øu mu·ªën c·∫•p t·∫•t c·∫£ quy·ªÅn, s·ª≠ d·ª•ng <code>ALL</code>.</li><li>databasename: T√™n c∆° s·ªü d·ªØ li·ªáu.</li><li>tablename: T√™n b·∫£ng. N·∫øu mu·ªën c·∫•p quy·ªÅn cho ng∆∞·ªùi d√πng tr√™n t·∫•t c·∫£ c∆° s·ªü d·ªØ li·ªáu v√† b·∫£ng, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <code>*.*</code>.</li></ul><p>V√≠ d·ª•:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> SELECT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">INSERT</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> ON</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> test</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">user</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ALL </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ALL </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> maindataplus.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>L∆∞u √Ω:</p><p>Ng∆∞·ªùi d√πng ƒë∆∞·ª£c c·∫•p quy·ªÅn b·∫±ng c√°c l·ªánh tr√™n kh√¥ng th·ªÉ c·∫•p quy·ªÅn cho ng∆∞·ªùi d√πng kh√°c. N·∫øu b·∫°n mu·ªën cho ph√©p ng∆∞·ªùi d√πng c·∫•p quy·ªÅn, s·ª≠ d·ª•ng l·ªánh sau:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- C·∫•u h√¨nh quy·ªÅn c·ª• th·ªÉ cho ng∆∞·ªùi d√πng ƒë√£ ch·ªâ ƒë·ªãnh</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> privileges </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> databasename</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">tablename</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> WITH</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> GRANT</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> OPTION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- G√°n t·∫•t c·∫£ quy·ªÅn cho ng∆∞·ªùi d√πng root</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> ALL </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> WITH</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> GRANT</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> OPTION</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="thu-hoi-quyen" tabindex="-1"><a class="header-anchor" href="#thu-hoi-quyen"><span>Thu h·ªìi quy·ªÅn</span></a></h3><p>C√∫ ph√°p:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">REVOKE</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> privilege </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> databasename</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">tablename</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> FROM</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Gi·∫£i th√≠ch:</p><p>privilege, databasename, tablename: T∆∞∆°ng t·ª± nh∆∞ ph·∫ßn c·∫•p quy·ªÅn.</p><p>V√≠ d·ª•:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">REVOKE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> SELECT</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> FROM</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>L∆∞u √Ω:</p><p>N·∫øu b·∫°n ƒë√£ c·∫•p quy·ªÅn cho ng∆∞·ªùi d√πng <code>&#39;pig&#39;@&#39;%&#39;</code> nh∆∞ sau (ho·∫∑c t∆∞∆°ng t·ª±): <code>GRANT SELECT ON test.user TO &#39;pig&#39;@&#39;%&#39;</code>, th√¨ vi·ªác s·ª≠ d·ª•ng l·ªánh <code>REVOKE SELECT ON *.* FROM &#39;pig&#39;@&#39;%&#39;;</code> s·∫Ω kh√¥ng thu h·ªìi quy·ªÅn <code>SELECT</code> c·ªßa ng∆∞·ªùi d√πng tr√™n b·∫£ng <code>user</code> trong c∆° s·ªü d·ªØ li·ªáu <code>test</code>. Ng∆∞·ª£c l·∫°i, n·∫øu quy·ªÅn ƒë∆∞·ª£c c·∫•p b·∫±ng <code>GRANT SELECT ON *.* TO &#39;pig&#39;@&#39;%&#39;;</code>, th√¨ l·ªánh <code>REVOKE SELECT ON test.user FROM &#39;pig&#39;@&#39;%&#39;;</code> c≈©ng kh√¥ng thu h·ªìi quy·ªÅn <code>SELECT</code> c·ªßa ng∆∞·ªùi d√πng tr√™n b·∫£ng <code>user</code> trong c∆° s·ªü d·ªØ li·ªáu <code>test</code>.</p><p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh <code>SHOW GRANTS FOR &#39;pig&#39;@&#39;%&#39;;</code> ƒë·ªÉ xem th√¥ng tin chi ti·∫øt.</p><h3 id="xem-quyen" tabindex="-1"><a class="header-anchor" href="#xem-quyen"><span>Xem quy·ªÅn</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- Xem quy·ªÅn c·ªßa ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW GRANTS </span><span style="color:#D73A49;--shiki-dark:#C678DD;">FOR</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="thay-ƒëoi-mat-khau-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#thay-ƒëoi-mat-khau-nguoi-dung"><span>Thay ƒë·ªïi m·∫≠t kh·∫©u ng∆∞·ªùi d√πng</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SET</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> FOR</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;newpassword&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>N·∫øu ƒëang ƒëƒÉng nh·∫≠p v·ªõi ng∆∞·ªùi d√πng hi·ªán t·∫°i, s·ª≠ d·ª•ng:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SET</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;newpassword&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>V√≠ d·ª•:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SET</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> FOR</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> PASSWORD</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;123456&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="sao-luu-va-khoi-phuc" tabindex="-1"><a class="header-anchor" href="#sao-luu-va-khoi-phuc"><span>Sao l∆∞u v√† kh√¥i ph·ª•c</span></a></h3><p>ƒê·ªÉ sao l∆∞u d·ªØ li·ªáu MySQL, ch√∫ng ta s·ª≠ d·ª•ng l·ªánh mysqldump.</p><p>Mysqldump s·∫Ω sao l∆∞u d·ªØ li·ªáu trong c∆° s·ªü d·ªØ li·ªáu th√†nh m·ªôt t·ªáp vƒÉn b·∫£n, c·∫•u tr√∫c b·∫£ng v√† d·ªØ li·ªáu c·ªßa b·∫£ng s·∫Ω ƒë∆∞·ª£c l∆∞u tr·ªØ trong t·ªáp vƒÉn b·∫£n ƒë∆∞·ª£c t·∫°o ra.</p><p>Sao l∆∞u:</p><h4 id="sao-luu-mot-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-mot-co-so-du-lieu"><span>Sao l∆∞u m·ªôt c∆° s·ªü d·ªØ li·ªáu</span></a></h4><p>C√∫ ph√°p:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysqldump </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">h </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">host</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">P</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">port</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">u</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">p</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">database</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;"> [&lt;table1&gt; &lt;table2&gt; ...]</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> &gt;</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> backup</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><strong><code>host</code></strong> - M√°y ch·ªß Mysql</li><li><strong><code>port</code></strong> - C·ªïng c·ªßa m√°y ch·ªß Mysql</li><li><strong><code>username</code></strong> - T√™n ng∆∞·ªùi d√πng c∆° s·ªü d·ªØ li·ªáu</li><li><strong><code>dbname</code></strong> - T√™n c∆° s·ªü d·ªØ li·ªáu</li><li>Tham s·ªë table1 v√† table2 ƒë·∫°i di·ªán cho t√™n c√°c b·∫£ng c·∫ßn sao l∆∞u, n·∫øu ƒë·ªÉ tr·ªëng th√¨ sao l∆∞u to√†n b·ªô c∆° s·ªü d·ªØ li·ªáu;</li><li>Tham s·ªë BackupName.sql ƒë·∫°i di·ªán cho t√™n t·ªáp sao l∆∞u ƒë∆∞·ª£c t·∫°o ra, b·∫°n c√≥ th·ªÉ th√™m ƒë∆∞·ªùng d·∫´n tuy·ªát ƒë·ªëi tr∆∞·ªõc t√™n t·ªáp. Th√¥ng th∆∞·ªùng, c∆° s·ªü d·ªØ li·ªáu ƒë∆∞·ª£c sao l∆∞u th√†nh m·ªôt t·ªáp c√≥ ph·∫ßn m·ªü r·ªông l√† sql.</li></ul><h4 id="sao-luu-nhieu-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-nhieu-co-so-du-lieu"><span>Sao l∆∞u nhi·ªÅu c∆° s·ªü d·ªØ li·ªáu</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysqldump </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">u </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">p </span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">--databases &lt;database1&gt; &lt;database2&gt; ... &gt; backup.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="sao-luu-tat-ca-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-tat-ca-co-so-du-lieu"><span>Sao l∆∞u t·∫•t c·∫£ c∆° s·ªü d·ªØ li·ªáu</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysqldump </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">u </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">p </span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">--all-databases &gt; backup.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="khoi-phuc-mot-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-phuc-mot-co-so-du-lieu"><span>Kh√¥i ph·ª•c m·ªôt c∆° s·ªü d·ªØ li·ªáu</span></a></h4><p>ƒê·ªÉ kh√¥i ph·ª•c d·ªØ li·ªáu MySQL, ch√∫ng ta s·ª≠ d·ª•ng l·ªánh mysql.</p><p>C√∫ ph√°p:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">h </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">host</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">P</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">port</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">u</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">p</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">database</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> backup</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="khoi-phuc-tat-ca-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-phuc-tat-ca-co-so-du-lieu"><span>Kh√¥i ph·ª•c t·∫•t c·∫£ c∆° s·ªü d·ªØ li·ªáu</span></a></h4><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql </span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">u</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">username</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> -</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">p </span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">--all-databases &lt; backup.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="go-cai-ƒëat" tabindex="-1"><a class="header-anchor" href="#go-cai-ƒëat"><span>G·ª° c√†i ƒë·∫∑t</span></a></h3><p>(1) Xem MySQL ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="color:#032F62;--shiki-dark:#98C379;"> rpm</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -qa</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -i</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">perl-DBD-MySQL-4.023-6.el7.x86_64</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql80-community-release-el7-1.noarch</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-common-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-client-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-libs-compat-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql-community-libs-8.0.12-1.el7.x86_64</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2) G·ª° c√†i ƒë·∫∑t MySQL</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">yum</span><span style="color:#032F62;--shiki-dark:#98C379;"> remove</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql-community-server.x86_64</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="trien-khai-master-slave" tabindex="-1"><a class="header-anchor" href="#trien-khai-master-slave"><span>Tri·ªÉn khai Master-Slave</span></a></h3><p>Gi·∫£ s·ª≠ b·∫°n c·∫ßn c·∫•u h√¨nh m·ªôt m√¥i tr∆∞·ªùng m√°y ch·ªß Master-Slave cho MySQL:</p><ul><li>Node Master: 192.168.8.10</li><li>Node Slave: 192.168.8.11</li></ul><h4 id="cac-buoc-tren-node-master" tabindex="-1"><a class="header-anchor" href="#cac-buoc-tren-node-master"><span>C√°c b∆∞·ªõc tr√™n Node Master</span></a></h4><p>(1) S·ª≠a ƒë·ªïi c·∫•u h√¨nh v√† kh·ªüi ƒë·ªông l·∫°i</p><p>Ch·∫°y l·ªánh <code>vi /etc/my.cnf</code> v√† th√™m c·∫•u h√¨nh sau:</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">server-id</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">1</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">log_bin</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">/var/lib/mysql/binlog</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>server-id</code> - S·ªë ID c·ªßa m√°y ch·ªß. Trong ki·∫øn tr√∫c Master-Slave, m·ªói m√°y ph·∫£i c√≥ m·ªôt ID duy nh·∫•t.</li><li><code>log_bin</code> - ƒê∆∞·ªùng d·∫´n v√† t√™n t·ªáp nh·∫≠t k√Ω ƒë·ªìng b·ªô, h√£y ƒë·∫£m b·∫£o r·∫±ng th∆∞ m·ª•c n√†y c√≥ quy·ªÅn ghi cho MySQL;</li></ul><p>Sau khi ch·ªânh s·ª≠a, kh·ªüi ƒë·ªông l·∫°i MySQL ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">systemctl </span><span style="color:#D73A49;--shiki-dark:#C678DD;">restart</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(2) T·∫°o ng∆∞·ªùi d√πng cho ƒë·ªìng b·ªô ho√°</p><p>Truy c·∫≠p v√†o b·∫£ng ƒëi·ªÅu khi·ªÉn MySQL:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>$ mysql -u root -p</span></span>
<span class="line"><span>Password:</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Th·ª±c hi·ªán c√°c c√¢u l·ªánh SQL sau:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- a. T·∫°o ng∆∞·ªùi d√πng slave</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">slave</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">WITH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- C·∫•p quy·ªÅn REPLICATION SLAVE cho slave</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- b. Ho·∫∑c, t·∫°o ng∆∞·ªùi d√πng slave v√† cho ph√©p ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p t·ª´ b·∫•t k·ª≥ m√°y ch·ªß n√†o</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- N·∫øu c√≥ nhi·ªÅu slave v√† b·∫°n mu·ªën t·∫•t c·∫£ c√°c slave s·ª≠ d·ª•ng c√πng m·ªôt t√™n ng∆∞·ªùi d√πng v√† m·∫≠t kh·∫©u, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°ch n√†y</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">slave</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">WITH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- L√†m m·ªõi th√¥ng tin b·∫£ng ph√¢n quy·ªÅn</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">FLUSH PRIVILEGES;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>L∆∞u √Ω: Trong MySQL 8, ph∆∞∆°ng th·ª©c x√°c th·ª±c m·∫∑c ƒë·ªãnh kh√¥ng c√≤n l√† <code>password</code>. V√¨ v·∫≠y, khi t·∫°o ng∆∞·ªùi d√πng, <code>create user &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</code> kh√¥ng th·ªÉ k·∫øt n·ªëi t·ª´ m√°y kh√°ch. V√¨ v·∫≠y, b·∫°n c·∫ßn th√™m <code>IDENTIFIED WITH mysql_native_password BY &#39;password&#39;</code> khi t·∫°o ng∆∞·ªùi d√πng.</p></blockquote><p>SQL qu·∫£n l√Ω ng∆∞·ªùi d√πng b·ªï sung:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- Xem t·∫•t c·∫£ ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SELECT DISTINCT</span><span style="color:#005CC5;--shiki-dark:#56B6C2;"> CONCAT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;User: &#39;&#39;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, user, </span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;&#39;&#39;@&#39;&#39;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, host, </span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;&#39;&#39;;&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="color:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> query</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> mysql</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">user</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- Xem quy·ªÅn c·ªßa ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW GRANTS </span><span style="color:#D73A49;--shiki-dark:#C678DD;">FOR</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- T·∫°o ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- a. T·∫°o ng∆∞·ªùi d√πng slave v√† ch·ªâ cho ph√©p ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p t·ª´ m√°y ch·ªß 192.168.8.11</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> &#39;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">slave</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&#39;@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="color:#D73A49;--shiki-dark:#C678DD;">WITH</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="color:#D73A49;--shiki-dark:#C678DD;">BY</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- C·∫•p quy·ªÅn REPLICATION SLAVE cho slave</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">GRANT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> *</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- X√≥a ng∆∞·ªùi d√πng</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">DROP</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> USER</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) Th√™m kh√≥a ƒë·ªçc</p><p>ƒê·ªÉ ƒë·∫£m b·∫£o d·ªØ li·ªáu tr√™n m√°y ch·ªß ch√≠nh v√† m√°y ch·ªß ph·ª• gi·ªØ nguy√™n, ch√∫ng ta s·∫Ω th√™m kh√≥a ƒë·ªçc cho MySQL, bi·∫øn n√≥ th√†nh ch·ªâ c√≥ th·ªÉ ƒë·ªçc.</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> FLUSH TABLES </span><span style="color:#D73A49;--shiki-dark:#C678DD;">WITH</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> READ</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> LOCK;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(4) Xem tr·∫°ng th√°i c·ªßa m√°y ch·ªß ch√≠nh</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show </span><span style="color:#D73A49;--shiki-dark:#C678DD;">master</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> status</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| </span><span style="color:#D73A49;--shiki-dark:#C678DD;">File</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">             | Position | Binlog_Do_DB | Binlog_Ignore_DB                            | Executed_Gtid_Set |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| mysql</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">bin</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">000001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> |     </span><span style="color:#005CC5;--shiki-dark:#D19A66;">4202</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> |              | mysql,information_schema,performance_schema |                   |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> row</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> set</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#005CC5;--shiki-dark:#D19A66;">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">00</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> sec)</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>L∆∞u √Ω: Ghi l·∫°i <code>File</code> v√† <code>Position</code>, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ch√∫ng sau n√†y.</p></blockquote><p>(5) Xu·∫•t SQL</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysqldump</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -u</span><span style="color:#032F62;--shiki-dark:#98C379;"> root</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --all-databases</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --master-data</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="color:#032F62;--shiki-dark:#98C379;"> dbdump.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(6) M·ªü kh√≥a ƒë·ªçc</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> UNLOCK</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> TABLES;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(7) Truy·ªÅn SQL t·ª´ xa ƒë·∫øn m√°y ch·ªß ph·ª•</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">scp</span><span style="color:#032F62;--shiki-dark:#98C379;"> dbdump.sql</span><span style="color:#032F62;--shiki-dark:#98C379;"> root@192.168.8.11:/home</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="cac-buoc-tren-node-slave" tabindex="-1"><a class="header-anchor" href="#cac-buoc-tren-node-slave"><span>C√°c b∆∞·ªõc tr√™n Node Slave</span></a></h4><p>(1) S·ª≠a ƒë·ªïi c·∫•u h√¨nh v√† kh·ªüi ƒë·ªông l·∫°i</p><p>Ch·∫°y l·ªánh <code>vi /etc/my.cnf</code> v√† th√™m c·∫•u h√¨nh sau:</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">server-id</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">2</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">log_bin</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="color:#24292E;--shiki-dark:#98C379;">/var/lib/mysql/binlog</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>server-id</code> - S·ªë ID c·ªßa m√°y ch·ªß. Trong ki·∫øn tr√∫c Master-Slave, m·ªói m√°y ph·∫£i c√≥ m·ªôt ID duy nh·∫•t.</li><li><code>log_bin</code> - ƒê∆∞·ªùng d·∫´n v√† t√™n t·ªáp nh·∫≠t k√Ω ƒë·ªìng b·ªô, h√£y ƒë·∫£m b·∫£o r·∫±ng th∆∞ m·ª•c n√†y c√≥ quy·ªÅn ghi cho MySQL;</li></ul><p>Sau khi ch·ªânh s·ª≠a, kh·ªüi ƒë·ªông l·∫°i MySQL ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">systemctl</span><span style="color:#032F62;--shiki-dark:#98C379;"> restart</span><span style="color:#032F62;--shiki-dark:#98C379;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(2) Nh·∫≠p SQL</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">mysql</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -u</span><span style="color:#032F62;--shiki-dark:#98C379;"> root</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="color:#032F62;--shiki-dark:#98C379;"> /home/dbdump.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(3) Thi·∫øt l·∫≠p k·∫øt n·ªëi v·ªõi m√°y ch·ªß ch√≠nh tr√™n m√°y ch·ªß ph·ª•</p><p>Truy c·∫≠p v√†o b·∫£ng ƒëi·ªÅu khi·ªÉn MySQL:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>$ mysql -u root -p</span></span>
<span class="line"><span>Password:</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Th·ª±c hi·ªán c√°c c√¢u l·ªánh SQL sau:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- D·ª´ng d·ªãch v·ª• slave</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">STOP</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> SLAVE;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-- L∆∞u √Ω: MASTER_USER v√†</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">CHANGE </span><span style="color:#D73A49;--shiki-dark:#C678DD;">MASTER</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TO</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">MASTER_HOST</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;192.168.8.10&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">MASTER_USER</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;slave&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">MASTER_PASSWORD</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;password&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">MASTER_LOG_FILE</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;binlog.000001&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">MASTER_LOG_POS</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;">4202</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>MASTER_LOG_FILE</code> v√† <code>MASTER_LOG_POS</code> ph·∫£i t∆∞∆°ng ·ª©ng v·ªõi gi√° tr·ªã <code>File</code> v√† <code>Position</code> thu ƒë∆∞·ª£c t·ª´ l·ªánh <code>show master status</code>.</li><li><code>MASTER_HOST</code> l√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß ch√≠nh.</li><li><code>MASTER_USER</code> v√† <code>MASTER_PASSWORD</code> l√† t√™n ng∆∞·ªùi d√πng v√† m·∫≠t kh·∫©u ƒë√£ ƒëƒÉng k√Ω tr√™n m√°y ch·ªß ch√≠nh.</li></ul><p>(4) Kh·ªüi ƒë·ªông qu√° tr√¨nh sao l∆∞u</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> start</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> slave;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(5) Ki·ªÉm tra tr·∫°ng th√°i ƒë·ªìng b·ªô gi·ªØa m√°y ch·ªß ch√≠nh v√† m√°y ch·ªß ph·ª•</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show slave </span><span style="color:#D73A49;--shiki-dark:#C678DD;">status</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">\G;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>L∆∞u √Ω: N·∫øu c·∫£ hai tham s·ªë sau ƒë√¢y ƒë·ªÅu l√† YES, ƒëi·ªÅu ƒë√≥ c√≥ nghƒ©a l√† c·∫•u h√¨nh ƒë√£ ƒë√∫ng.</p><ul><li><code>Slave_IO_Running</code></li><li><code>Slave_SQL_Running</code></li></ul><p>(6) ƒê·∫∑t m√°y ch·ªß ph·ª• th√†nh ch·ªâ ƒë·ªçc</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> set</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> global</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> read_only</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> set</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> global</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> super_read_only</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show </span><span style="color:#D73A49;--shiki-dark:#C678DD;">global</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> variables </span><span style="color:#D73A49;--shiki-dark:#C678DD;">like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;%read_only%&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| Variable_name         | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">Value</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| innodb_read_only      | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">OFF</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| </span><span style="color:#D73A49;--shiki-dark:#C678DD;">read_only</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">             | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">    |</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| super_read_only       | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">ON</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">    |</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| transaction_read_only | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">OFF</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>L∆∞u √Ω: ƒê·∫∑t m√°y ch·ªß ph·ª• th√†nh ch·ªâ ƒë·ªçc kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn qu√° tr√¨nh ƒë·ªìng b·ªô ho√° Master-Slave</p></blockquote><h3 id="truy-van-cham" tabindex="-1"><a class="header-anchor" href="#truy-van-cham"><span>Truy v·∫•n ch·∫≠m</span></a></h3><p>Ki·ªÉm tra xem truy v·∫•n ch·∫≠m c√≥ ƒë∆∞·ª£c b·∫≠t hay kh√¥ng:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">show variables </span><span style="color:#D73A49;--shiki-dark:#C678DD;">like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;%slow_query_log&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh <code>set global slow_query_log</code> ƒë·ªÉ b·∫≠t ho·∫∑c t·∫Øt truy v·∫•n ch·∫≠m: ON ƒë·ªÉ b·∫≠t; OFF ƒë·ªÉ t·∫Øt.</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">set</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> global</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> slow_query_log</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;ON&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Xem ng∆∞·ª°ng th·ªùi gian truy v·∫•n ch·∫≠m:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">show variables </span><span style="color:#D73A49;--shiki-dark:#C678DD;">like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;%long_query_time%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ƒê·∫∑t ng∆∞·ª°ng th·ªùi gian truy v·∫•n ch·∫≠m:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">set</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> global</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> long_query_time </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="cap-ƒëo-co-lap" tabindex="-1"><a class="header-anchor" href="#cap-ƒëo-co-lap"><span>C·∫•p ƒë·ªô c√¥ l·∫≠p</span></a></h3><p>Xem c·∫•p ƒë·ªô c√¥ l·∫≠p hi·ªán t·∫°i:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show variables </span><span style="color:#D73A49;--shiki-dark:#C678DD;">like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;transaction_isolation&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| Variable_name         | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">Value</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">           |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| transaction_isolation | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">READ</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">-</span><span style="color:#D73A49;--shiki-dark:#C678DD;">COMMITTED</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">  |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cau-hinh-may-chu" tabindex="-1"><a class="header-anchor" href="#cau-hinh-may-chu"><span>C·∫•u h√¨nh m√°y ch·ªß</span></a></h2><blockquote><p><strong><em>Trong h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p, c·∫•u h√¨nh m·∫∑c ƒë·ªãnh ƒë√£ ƒë·ªß ƒë·ªÉ x·ª≠ l√Ω h·∫ßu h·∫øt c√°c t√¨nh hu·ªëng, kh√¥ng n√™n thay ƒë·ªïi c·∫•u h√¨nh m√°y ch·ªß MySQL tr·ª´ khi b·∫°n bi·∫øt r√µ r·∫±ng s·ª± thay ƒë·ªïi ƒë√≥ c√≥ l·ª£i.</em></strong></p><p>H√£y c·ªë g·∫Øng kh√¥ng s·ª≠ d·ª•ng t√≠nh nƒÉng b·ªô nh·ªõ cache c·ªßa MySQL, v√¨ n√≥ y√™u c·∫ßu c√°c y√™u c·∫ßu truy v·∫•n gi·ªëng nhau ho√†n to√†n ƒë·ªÉ tr√∫ng cache. C√°ch ti·∫øp c·∫≠n n√†y th·ª±c t·∫ø kh√¥ng hi·ªáu qu·∫£ v√† tƒÉng th√™m chi ph√≠. Trong c√°c t√¨nh hu·ªëng th·ª±c t·∫ø, ch√∫ng ta th∆∞·ªùng s·ª≠ d·ª•ng l∆∞u tr·ªØ key-value nh∆∞ Redis ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ cache, hi·ªáu su·∫•t cao h∆°n nhi·ªÅu so v·ªõi b·ªô nh·ªõ cache truy v·∫•n c·ªßa MySQL.</p></blockquote><h3 id="ƒëuong-dan-tep-cau-hinh" tabindex="-1"><a class="header-anchor" href="#ƒëuong-dan-tep-cau-hinh"><span>ƒê∆∞·ªùng d·∫´n t·ªáp c·∫•u h√¨nh</span></a></h3><p>Tr∆∞·ªõc ti√™n, b·∫°n c·∫ßn x√°c ƒë·ªãnh ƒë∆∞·ªùng d·∫´n t·ªáp c·∫•u h√¨nh MySQL.</p><p>Tr√™n c√°c h·ªá ƒëi·ªÅu h√†nh Linux kh√°c nhau, ƒë∆∞·ªùng d·∫´n t·ªáp c·∫•u h√¨nh MySQL c√≥ th·ªÉ kh√°c nhau. ƒê∆∞·ªùng d·∫´n th√¥ng th∆∞·ªùng l√† /etc/my.cnf ho·∫∑c /etc/mysql/my.cnf.</p><p>N·∫øu b·∫°n kh√¥ng bi·∫øt ƒë∆∞·ªùng d·∫´n t·ªáp c·∫•u h√¨nh, b·∫°n c√≥ th·ªÉ th·ª≠ c√°c b∆∞·ªõc sau:</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># which mysqld</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># /usr/sbin/mysqld --verbose --help | grep -A 1 &#39;Default options&#39;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">Default</span><span style="color:#032F62;--shiki-dark:#98C379;"> options</span><span style="color:#032F62;--shiki-dark:#98C379;"> are</span><span style="color:#032F62;--shiki-dark:#98C379;"> read</span><span style="color:#032F62;--shiki-dark:#98C379;"> from</span><span style="color:#032F62;--shiki-dark:#98C379;"> the</span><span style="color:#032F62;--shiki-dark:#98C379;"> following</span><span style="color:#032F62;--shiki-dark:#98C379;"> files</span><span style="color:#032F62;--shiki-dark:#98C379;"> in</span><span style="color:#032F62;--shiki-dark:#98C379;"> the</span><span style="color:#032F62;--shiki-dark:#98C379;"> given</span><span style="color:#032F62;--shiki-dark:#98C379;"> order:</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">/etc/my.cnf</span><span style="color:#032F62;--shiki-dark:#98C379;"> /etc/mysql/my.cnf</span><span style="color:#032F62;--shiki-dark:#98C379;"> /usr/etc/my.cnf</span><span style="color:#032F62;--shiki-dark:#98C379;"> ~/.my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cu-phap-cau-hinh" tabindex="-1"><a class="header-anchor" href="#cu-phap-cau-hinh"><span>C√∫ ph√°p c·∫•u h√¨nh</span></a></h3><p><strong>C√°c c·∫•u h√¨nh MySQL ƒë∆∞·ª£c thi·∫øt l·∫≠p b·∫±ng ch·ªØ th∆∞·ªùng, c√°c t·ª´ kh√≥a ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u g·∫°ch d∆∞·ªõi (<code>_</code>) ho·∫∑c d·∫•u g·∫°ch ngang (<code>-</code>).</strong></p><p>ƒê·ªÅ ngh·ªã s·ª≠ d·ª•ng m·ªôt ki·ªÉu c√∫ ph√°p c·ªë ƒë·ªãnh ƒë·ªÉ d·ªÖ d√†ng t√¨m ki·∫øm c√°c c·∫•u h√¨nh.</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Hai ƒë·ªãnh d·∫°ng sau ƒë√¢y t∆∞∆°ng ƒë∆∞∆°ng nhau</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --auto-increment-offset=5</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> --auto_increment_offset=5</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="giai-thich-cac-cau-hinh-pho-bien" tabindex="-1"><a class="header-anchor" href="#giai-thich-cac-cau-hinh-pho-bien"><span>Gi·∫£i th√≠ch c√°c c·∫•u h√¨nh ph·ªï bi·∫øn</span></a></h3><blockquote><p>ƒê√¢y l√† m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n ph·ªï bi·∫øn, b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m: [[MySQL Configuration]]</p></blockquote><p>D∆∞·ªõi ƒë√¢y l√† m·ªôt m·∫´u c·∫•u h√¨nh ph·ªï bi·∫øn, n·ªôi dung nh∆∞ sau:</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># GENERAL</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">datadir</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/lib/mysql</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">socket</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">  =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">pid_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.pid</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">user</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">port</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">default_storage_engine</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">default_time_zone</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;+8:00&#39;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">character_set_server</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> utf8mb4</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">collation_server</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> utf8mb4_0900_ai_ci</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># LOG</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">log_error</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/log/mysql/mysql-error.log</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">slow_query_log</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">slow_query_log_file</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/log/mysql/mysql-slow.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># InnoDB</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">innodb_buffer_pool_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">innodb_log_file_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">innodb_file_per_table</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">innodb_flush_method</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> O_DIRECT</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># MyIsam</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">key_buffer_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># OTHER</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">tmp_table_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">max_heap_table_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">query_cache_type</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">query_cache_size</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">max_connections</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">thread_cache</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">open_files_limit</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 65535</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">socket</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">  =</span><span style="color:#24292E;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">port</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="color:#24292E;--shiki-dark:#98C379;"> 3306</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>GENERAL <ul><li><code>datadir</code> - ƒê∆∞·ªùng d·∫´n th∆∞ m·ª•c d·ªØ li·ªáu MySQL</li><li><code>socket</code> - T·ªáp socket</li><li><code>pid_file</code> - T·ªáp PID</li><li><code>user</code> - Ng∆∞·ªùi d√πng kh·ªüi ƒë·ªông quy tr√¨nh d·ªãch v·ª• MySQL</li><li><code>port</code> - S·ªë c·ªïng d·ªãch v·ª•, m·∫∑c ƒë·ªãnh l√† <code>3306</code></li><li><code>default_storage_engine</code> - ƒê·ªông c∆° l∆∞u tr·ªØ m·∫∑c ƒë·ªãnh c·ªßa MySQL t·ª´ phi√™n b·∫£n 5.1 tr·ªü ƒëi l√† InnoDB</li><li><code>default_time_zone</code> - M√∫i gi·ªù m·∫∑c ƒë·ªãnh. H·∫ßu h·∫øt c√°c khu v·ª±c c·ªßa Trung Qu·ªëc n·∫±m trong m√∫i gi·ªù GMT+8, t·ª©c l√† <code>+8:00</code></li><li><code>character_set_server</code> - B·ªô k√Ω t·ª± m·∫∑c ƒë·ªãnh c·ªßa c∆° s·ªü d·ªØ li·ªáu</li><li><code>collation_server</code> - B·ªô k√Ω t·ª± c·ªßa c∆° s·ªü d·ªØ li·ªáu t∆∞∆°ng ·ª©ng v·ªõi m·ªôt s·ªë quy t·∫Øc s·∫Øp x·∫øp, h√£y ch·∫Øc ch·∫Øn r·∫±ng n√≥ ph√π h·ª£p v·ªõi <code>character_set_server</code></li></ul></li><li>LOG <ul><li><code>log_error</code> - ƒê∆∞·ªùng d·∫´n t·ªáp nh·∫≠t k√Ω l·ªói</li><li><code>slow_query_log</code> - C√≥ b·∫≠t nh·∫≠t k√Ω truy v·∫•n ch·∫≠m hay kh√¥ng</li><li><code>slow_query_log_file</code> - ƒê∆∞·ªùng d·∫´n t·ªáp nh·∫≠t k√Ω truy v·∫•n ch·∫≠m</li></ul></li><li>InnoDB <ul><li><code>innodb_buffer_pool_size</code> - InnoDB s·ª≠ d·ª•ng m·ªôt b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ ch·ªâ m·ª•c v√† d·ªØ li·ªáu g·ªëc, kh√¥ng gi·ªëng nh∆∞ MyISAM. K√≠ch th∆∞·ªõc b·ªô nh·ªõ ƒë·ªám c√†ng l·ªõn, s·ªë l·∫ßn I/O ƒëƒ©a c·∫ßn thi·∫øt ƒë·ªÉ truy c·∫≠p d·ªØ li·ªáu trong b·∫£ng c√†ng √≠t. <ul><li>Tr√™n m·ªôt m√°y ch·ªß c∆° s·ªü d·ªØ li·ªáu ƒë·ªôc l·∫≠p, b·∫°n c√≥ th·ªÉ ƒë·∫∑t bi·∫øn n√†y th√†nh 60% - 80% c·ªßa k√≠ch th∆∞·ªõc b·ªô nh·ªõ v·∫≠t l√Ω c·ªßa m√°y ch·ªß.</li><li>L∆∞u √Ω kh√¥ng ƒë·∫∑t gi√° tr·ªã qu√° l·ªõn, n·∫øu kh√¥ng s·∫Ω chi·∫øm d·ª•ng kh√¥ng gian swap c·ªßa h·ªá th·ªëng, l√†m ch·∫≠m h·ªá ƒëi·ªÅu h√†nh v√† gi·∫£m hi·ªáu su·∫•t truy v·∫•n SQL.</li><li>Gi√° tr·ªã m·∫∑c ƒë·ªãnh: 128M, gi√° tr·ªã ƒë·ªÅ ngh·ªã: 60% - 80% c·ªßa b·ªô nh·ªõ v·∫≠t l√Ω</li></ul></li><li><code>innodb_log_file_size</code> - K√≠ch th∆∞·ªõc t·ªáp nh·∫≠t k√Ω. Gi√° tr·ªã m·∫∑c ƒë·ªãnh: 48M, gi√° tr·ªã ƒë·ªÅ ngh·ªã: ƒëi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc d·ª±a tr√™n kh√¥ng gian ƒëƒ©a c·ªßa h·ªá th·ªëng v√† t·ªëc ƒë·ªô tƒÉng nh·∫≠t k√Ω</li><li><code>innodb_file_per_table</code> - Gi·∫£i th√≠ch: M·∫∑c ƒë·ªãnh t·ª´ MySQL 5.7 tr·ªü ƒëi, m·ªói b·∫£ng c√≥ m·ªôt kh√¥ng gian b·∫£ng ri√™ng. Gi√° tr·ªã m·∫∑c ƒë·ªãnh l√† 1, b·∫≠t.</li><li><code>innodb_flush_method</code> - Gi·∫£i th√≠ch: ƒêi·ªÅu khi·ªÉn c√°ch m·ªü v√† ghi t·ªáp d·ªØ li·ªáu v√† nh·∫≠t k√Ω redo c·ªßa InnoDB, c√≥ ba ch·∫ø ƒë·ªô: fdatasync (m·∫∑c ƒë·ªãnh), O_DSYNC, O_DIRECT. Gi√° tr·ªã m·∫∑c ƒë·ªãnh l√† r·ªóng, gi√° tr·ªã ƒë·ªÅ ngh·ªã: s·ª≠ d·ª•ng SAN ho·∫∑c RAID, ƒë·ªÅ ngh·ªã s·ª≠ d·ª•ng O_DIRECT, n·∫øu kh√¥ng hi·ªÉu th√¨ m·∫∑c ƒë·ªãnh s·ª≠ d·ª•ng O_DIRECT trong m√¥i tr∆∞·ªùng s·∫£n xu·∫•t <ul><li><code>fdatasync</code>: D·ªØ li·ªáu t·ªáp, b·ªô ƒë·ªám OS -&gt; b·ªô ƒë·ªám OS -&gt; ƒëƒ©a; T·ªáp nh·∫≠t k√Ω, b·ªô ƒë·ªám OS -&gt; b·ªô ƒë·ªám OS -&gt; ƒëƒ©a;</li><li><code>O_DSYNC</code>: D·ªØ li·ªáu t·ªáp, b·ªô ƒë·ªám OS -&gt; b·ªô ƒë·ªám OS -&gt; ƒëƒ©a; T·ªáp nh·∫≠t k√Ω, b·ªô ƒë·ªám OS -&gt; ƒëƒ©a;</li><li><code>O_DIRECT</code>: D·ªØ li·ªáu t·ªáp, b·ªô ƒë·ªám OS -&gt; ƒëƒ©a; T·ªáp nh·∫≠t k√Ω, b·ªô ƒë·ªám OS -&gt; b·ªô ƒë·ªám OS -&gt; ƒëƒ©a;</li></ul></li></ul></li><li>MyIsam <ul><li><code>key_buffer_size</code> - X√°c ƒë·ªãnh k√≠ch th∆∞·ªõc b·ªô ƒë·ªám ch·ªâ m·ª•c, cho ph√©p chia s·∫ª gi·ªØa c√°c lu·ªìng cho b·∫£ng MyISAM, kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn InnoDB. ·∫¢nh h∆∞·ªüng ƒë√°ng k·ªÉ ƒë·∫øn hi·ªáu su·∫•t c·ªßa MyISAM. <ul><li>Kh√¥ng n√™n ƒë·∫∑t gi√° tr·ªã l·ªõn h∆°n 30% dung l∆∞·ª£ng b·ªô nh·ªõ kh·∫£ d·ª•ng, v√¨ m·ªôt ph·∫ßn b·ªô nh·ªõ c≈©ng ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi h·ªá ƒëi·ªÅu h√†nh ƒë·ªÉ ƒë·ªám d·ªØ li·ªáu h√†ng.</li><li>Th·∫≠m ch√≠ trong tr∆∞·ªùng h·ª£p b·∫°n kh√¥ng s·ª≠ d·ª•ng b·∫£ng MyISAM, b·∫°n v·∫´n n√™n ƒë·∫∑t gi√° tr·ªã t·ª´ 8-64M b·ªüi v√¨ n√≥ c≈©ng ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi c√°c b·∫£ng t·∫°m th·ªùi n·ªôi b·ªô.</li><li>Gi√° tr·ªã m·∫∑c ƒë·ªãnh: 8M, gi√° tr·ªã ƒë·ªÅ ngh·ªã: 256M ho·∫∑c 384M ƒë·ªëi v·ªõi m√°y ch·ªß c√≥ 4GB RAM.</li><li>L∆∞u √Ω: ƒê·∫∑t gi√° tr·ªã qu√° l·ªõn s·∫Ω l√†m gi·∫£m hi·ªáu su·∫•t t·ªïng th·ªÉ c·ªßa m√°y ch·ªß!</li></ul></li></ul></li><li>OTHER <ul><li><code>tmp_table_size</code> - K√≠ch th∆∞·ªõc t·ªëi ƒëa c·ªßa b·∫£ng t·∫°m th·ªùi trong b·ªô nh·ªõ, m·∫∑c ƒë·ªãnh l√† 16M, ·ªü ƒë√¢y ƒë·∫∑t th√†nh 128M</li><li><code>max_heap_table_size</code> - K√≠ch th∆∞·ªõc c·ªßa b·∫£ng t·∫°m th·ªùi ƒë∆∞·ª£c t·∫°o b·ªüi ng∆∞·ªùi d√πng trong b·ªô nh·ªõ, m·∫∑c ƒë·ªãnh l√† 16M, th∆∞·ªùng ƒë∆∞·ª£c ƒë·∫∑t c√πng v·ªõi <code>tmp_table_size</code> ƒë·ªÉ gi·ªõi h·∫°n k√≠ch th∆∞·ªõc b·∫£ng t·∫°m th·ªùi c·ªßa ng∆∞·ªùi d√πng. N·∫øu v∆∞·ª£t qu√° gi·ªõi h·∫°n, MySQL s·∫Ω t·ª± ƒë·ªông chuy·ªÉn n√≥ th√†nh b·∫£ng MyISAM d·ª±a tr√™n ƒëƒ©a, l∆∞u tr·ªØ trong th∆∞ m·ª•c tmpdir ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh, tƒÉng t·∫£i I/O, ƒë·ªÅ ngh·ªã tƒÉng k√≠ch th∆∞·ªõc khi c√≥ nhi·ªÅu b·ªô nh·ªõ.</li><li><code>query_cache_type</code> - Bi·∫øn h·ªá th·ªëng n√†y ƒëi·ªÅu khi·ªÉn vi·ªác b·∫≠t v√† t·∫Øt ch·ª©c nƒÉng b·ªô nh·ªõ cache truy v·∫•n, 0 ƒë·ªÉ t·∫Øt, 1 ƒë·ªÉ b·∫≠t, 2 ƒë·ªÉ ch·ªâ b·ªô nh·ªõ cache truy v·∫•n khi <code>select</code> ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh <code>SQL_CACHE</code>.</li><li><code>query_cache_size</code> - Gi√° tr·ªã m·∫∑c ƒë·ªãnh l√† 1M, ∆∞u ƒëi·ªÉm c·ªßa b·ªô nh·ªõ cache truy v·∫•n l√† n√≥ c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ t·ªëc ƒë·ªô c·ªßa m√°y ch·ªß. N·∫øu b·∫°n c√≥ nhi·ªÅu truy v·∫•n gi·ªëng nhau v√† √≠t thay ƒë·ªïi b·∫£ng, b·ªô nh·ªõ cache truy v·∫•n c√≥ th·ªÉ l√†m gi·∫£m hi·ªáu su·∫•t thay v√¨ tƒÉng hi·ªáu su·∫•t.</li><li><code>max_connections</code> - S·ªë k·∫øt n·ªëi t·ªëi ƒëa, c√≥ th·ªÉ ƒë·∫∑t gi√° tr·ªã t·ªëi ƒëa l√† 16384, th∆∞·ªùng xem x√©t m·ªôt s·ªë t·ªïng h·ª£p d·ª±a tr√™n s·ªë ng∆∞·ªùi d√πng ƒë·ªìng th·ªùi tr·ª±c tuy·∫øn, n·∫øu th∆∞·ªùng xuy√™n g·∫∑p th√¥ng b√°o l·ªói &quot;Too Many Connections&quot; khi truy c·∫≠p, b·∫°n c·∫ßn tƒÉng gi√° tr·ªã n√†y.</li><li><code>thread_cache</code> - Khi kh√°ch h√†ng ng·∫Øt k·∫øt n·ªëi, m√°y ch·ªß x·ª≠ l√Ω kh√°ch h√†ng n√†y s·∫Ω ƒë∆∞·ª£c l∆∞u tr·ªØ trong b·ªô nh·ªõ cache ƒë·ªÉ ph·ª•c v·ª• kh√°ch h√†ng ti·∫øp theo thay v√¨ b·ªã h·ªßy b·ªè. C√≥ th·ªÉ t√°i s·ª≠ d·ª•ng, gi·∫£m chi ph√≠ h·ªá th·ªëng. Gi√° tr·ªã m·∫∑c ƒë·ªãnh l√† 9, gi√° tr·ªã ƒë·ªÅ ngh·ªã: hai c√°ch l·∫•y gi√° tr·ªã, <ul><li>C√°ch 1, d·ª±a tr√™n b·ªô nh·ªõ v·∫≠t l√Ω, 1G -&gt; 8; 2G -&gt; 16; 3G -&gt; 32;&gt; 3G -&gt; 64;</li><li>C√°ch 2, d·ª±a tr√™n <code>show status like &#39;threads%&#39;</code>, xem gi√° tr·ªã Threads_connected.</li></ul></li><li><code>open_files_limit</code> - Gi·ªõi h·∫°n s·ªë m√¥ t·∫£ t·ªáp m√† MySQL m·ªü, m·∫∑c ƒë·ªãnh t·ªëi thi·ªÉu l√† 1024; <ul><li>Khi open_files_limit kh√¥ng ƒë∆∞·ª£c c·∫•u h√¨nh, so s√°nh max_connections * 5 v√† gi√° tr·ªã ulimit -n, s·ª≠ d·ª•ng gi√° tr·ªã l·ªõn h∆°n,</li><li>Khi open_file_limit ƒë∆∞·ª£c c·∫•u h√¨nh, so s√°nh open_files_limit v√† max_connections * 5, s·ª≠ d·ª•ng gi√° tr·ªã l·ªõn h∆°n</li><li>L∆∞u √Ω: V·∫´n c√≥ th·ªÉ x·∫£y ra l·ªói &quot;Can&#39;t create a new thread&quot;; trong tr∆∞·ªùng h·ª£p n√†y, quan s√°t gi·ªõi h·∫°n ulimit c·ªßa h·ªá th·ªëng <code>cat /proc/mysql</code> ti·∫øn tr√¨nh / gi·ªõi h·∫°n, quan s√°t gi·ªõi h·∫°n ulimit c·ªßa ti·∫øn tr√¨nh <code>cat /proc/mysql</code> / gi·ªõi h·∫°n</li><li>N·∫øu gi√° tr·ªã qu√° nh·ªè, xem x√©t s·ª≠a b·∫£ng c·∫•u h√¨nh h·ªá th·ªëng, <code>/etc/security/limits.conf</code> v√† <code>/etc/security/limits.d/90-nproc.conf</code></li></ul></li></ul></li></ul><h2 id="cac-van-ƒëe-thuong-gap" tabindex="-1"><a class="header-anchor" href="#cac-van-ƒëe-thuong-gap"><span>C√°c v·∫•n ƒë·ªÅ th∆∞·ªùng g·∫∑p</span></a></h2><h3 id="qua-nhieu-ket-noi-too-many-connections" tabindex="-1"><a class="header-anchor" href="#qua-nhieu-ket-noi-too-many-connections"><span>Qu√° nhi·ªÅu k·∫øt n·ªëi (Too many connections)</span></a></h3><p><strong>Hi·ªán t∆∞·ª£ng</strong></p><p>Khi c·ªë g·∫Øng k·∫øt n·ªëi v·ªõi MySQL, b·∫°n g·∫∑p ph·∫£i l·ªói &quot;Too many connections&quot;.</p><p><strong>Nguy√™n nh√¢n</strong></p><p>S·ªë l∆∞·ª£ng lu·ªìng k·∫øt n·ªëi v∆∞·ª£t qu√° gi√° tr·ªã t·ªëi ƒëa, t·ª´ ch·ªëi truy c·∫≠p.</p><p><strong>Gi·∫£i ph√°p</strong></p><p>N·∫øu s·ªë l∆∞·ª£ng lu·ªìng k·∫øt n·ªëi th·ª±c t·∫ø qu√° l·ªõn, b·∫°n c√≥ th·ªÉ xem x√©t th√™m c√°c m√°y ch·ªß ƒë·ªÉ ph√¢n t·∫£i c√¥ng vi·ªác; n·∫øu s·ªë l∆∞·ª£ng lu·ªìng th·ª±c t·∫ø kh√¥ng qu√° l·ªõn, b·∫°n c√≥ th·ªÉ c·∫•u h√¨nh <code>max_connections</code> ƒë·ªÉ tƒÉng s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa ƒë∆∞·ª£c cho ph√©p. L∆∞u √Ω r·∫±ng s·ªë l∆∞·ª£ng k·∫øt n·ªëi kh√¥ng n√™n qu√° l·ªõn, th√¥ng th∆∞·ªùng, m·ªói gi√¢y c√≥ kho·∫£ng 2000 k·∫øt n·ªëi ƒë·ªìng th·ªùi, b·∫°n c√≥ th·ªÉ xem x√©t m·ªü r·ªông khi s·ªë l∆∞·ª£ng k·∫øt n·ªëi ƒë·ªìng th·ªùi ƒë·∫°t kho·∫£ng 1000 k·∫øt n·ªëi m·ªói gi√¢y.</p><p>(1) Xem s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show variables </span><span style="color:#D73A49;--shiki-dark:#C678DD;">like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;%max_connections%&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| Variable_name          | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">Value</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| max_connections        | </span><span style="color:#005CC5;--shiki-dark:#D19A66;">151</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| mysqlx_max_connections | </span><span style="color:#005CC5;--shiki-dark:#D19A66;">100</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">------------------------+-------+</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2) Xem s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa m√† m√°y ch·ªß ƒë√£ ph·∫£n h·ªìi</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">mysql</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> show </span><span style="color:#D73A49;--shiki-dark:#C678DD;">global</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> status</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> like</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;Max_used_connections&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| Variable_name        | </span><span style="color:#D73A49;--shiki-dark:#C678DD;">Value</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">| Max_used_connections | </span><span style="color:#005CC5;--shiki-dark:#D19A66;">142</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#ABB2BF;">+</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> row</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> set</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#005CC5;--shiki-dark:#D19A66;">0</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">00</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> sec)</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) ƒê·∫∑t s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa t·∫°m th·ªùi</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">set</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> GLOBAL</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> max_connections</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;">256</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>L∆∞u √Ω: Khi m√°y ch·ªß kh·ªüi ƒë·ªông l·∫°i, s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t l·∫°i.</p><p>(4) ƒê·∫∑t s·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa vƒ©nh vi·ªÖn</p><p>Ch·ªânh s·ª≠a t·ªáp c·∫•u h√¨nh <code>/etc/my.cnf</code>, th√™m c·∫•u h√¨nh sau v√†o ph·∫ßn <code>[mysqld]</code>:</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">max_connections</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;">256</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Kh·ªüi ƒë·ªông l·∫°i MySQL ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi.</p><p>(5) S·ª≠a gi·ªõi h·∫°n s·ªë t·ªáp t·ªëi ƒëa tr√™n Linux</p><p>S·ªë l∆∞·ª£ng k·∫øt n·ªëi t·ªëi ƒëa c·ªßa MySQL s·∫Ω b·ªã gi·ªõi h·∫°n b·ªüi s·ªë l∆∞·ª£ng t·ªáp t·ªëi ƒëa, <code>vim /etc/security/limits.conf</code>, th√™m c·∫•u h√¨nh cho ng∆∞·ªùi d√πng mysql:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>mysql hard nofile 65535</span></span>
<span class="line"><span>mysql soft nofile 65535</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>(6) Ki·ªÉm tra gi·ªõi h·∫°n LimitNOFILE</p><p>N·∫øu b·∫°n c√†i ƒë·∫∑t MySQL b·∫±ng c√°ch s·ª≠ d·ª•ng rpm, h√£y ki·ªÉm tra xem t·ªáp <strong>mysqld.service</strong> c√≥ ch·ª©a c·∫•u h√¨nh <code>LimitNOFILE</code> kh√¥ng.</p><h3 id="cach-sua-chua-bang-du-lieu-bi-hong" tabindex="-1"><a class="header-anchor" href="#cach-sua-chua-bang-du-lieu-bi-hong"><span>C√°ch s·ª≠a ch·ªØa b·∫£ng d·ªØ li·ªáu b·ªã h·ªèng</span></a></h3><p>ƒê·ªÉ s·ª≠a ch·ªØa b·∫£ng d·ªØ li·ªáu b·ªã h·ªèng, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c ph∆∞∆°ng ph√°p sau:</p><p>S·ª≠ d·ª•ng <code>myisamchk</code>:</p><ol><li>Tr∆∞·ªõc khi s·ª≠a ch·ªØa, d·ª´ng d·ªãch v·ª• MySQL.</li><li>M·ªü c·ª≠a s·ªï d√≤ng l·ªánh v√† ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn th∆∞ m·ª•c <code>bin</code> c·ªßa MySQL.</li><li>Ch·∫°y l·ªánh <code>myisamchk ‚Äìrecover</code> v·ªõi ƒë∆∞·ªùng d·∫´n ƒë·∫øn t·ªáp <code>.MYI</code> c·ªßa c∆° s·ªü d·ªØ li·ªáu.</li></ol><p>S·ª≠ d·ª•ng l·ªánh <code>REPAIR TABLE</code> ho·∫∑c <code>OPTIMIZE TABLE</code>:</p><ul><li><code>REPAIR TABLE table_name</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ s·ª≠a ch·ªØa b·∫£ng b·ªã h·ªèng.</li><li><code>OPTIMIZE TABLE table_name</code> ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·ªëi ∆∞u h√≥a b·∫£ng v√† gi·∫£i ph√≥ng kh√¥ng gian kh√¥ng s·ª≠ d·ª•ng. Khi c√°c h√†ng d·ªØ li·ªáu tr√™n b·∫£ng b·ªã x√≥a, kh√¥ng gian tr√™n ƒëƒ©a kh√¥ng ƒë∆∞·ª£c gi·∫£i ph√≥ng ngay l·∫≠p t·ª©c. S·ª≠ d·ª•ng l·ªánh <code>OPTIMIZE TABLE</code> s·∫Ω gi·∫£i ph√≥ng kh√¥ng gian n√†y v√† s·∫Øp x·∫øp l·∫°i c√°c h√†ng d·ªØ li·ªáu tr√™n ƒëƒ©a (l∆∞u √Ω: tr√™n ƒëƒ©a, kh√¥ng ph·∫£i trong c∆° s·ªü d·ªØ li·ªáu).</li></ul><h3 id="cau-truc-du-lieu" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-lieu"><span>C·∫•u tr√∫c d·ªØ li·ªáu</span></a></h3><blockquote><p><strong>Hi·ªán t∆∞·ª£ng v·∫•n ƒë·ªÅ</strong>: ERROR 1071: Specified key was too long; max key length is 767 bytes</p></blockquote><p><strong>Nguy√™n nh√¢n v·∫•n ƒë·ªÅ</strong>: M·∫∑c ƒë·ªãnh, MySQL kh√¥ng cho ph√©p t·∫°o ch·ªâ m·ª•c (index) tr√™n m·ªôt c·ªôt v·ªõi ƒë·ªô d√†i v∆∞·ª£t qu√° 767 byte (c√≥ th·ªÉ kh√°c nhau ƒë·ªëi v·ªõi c√°c phi√™n b·∫£n kh√°c nhau).</p><p><strong>Gi·∫£i ph√°p</strong>: T·ªëi ∆∞u h√≥a c·∫•u tr√∫c ch·ªâ m·ª•c b·∫±ng c√°ch gi·∫£m ƒë·ªô d√†i c·ªßa c√°c tr∆∞·ªùng ch·ªâ m·ª•c. Tr√°nh s·ª≠ d·ª•ng c√°c tr∆∞·ªùng qu√° d√†i cho ch·ªâ m·ª•c.</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vanhung4499/vanhung4499.github.io/edit/main/src/database/mysql/opearation.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: vanhung4499@gmail.com">Hung Nguyen Van</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->MySQL Optimization</div></a><a class="route-link auto-link next" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><div class="hint">Next<span class="arrow end"></span></div><div class="link">MySQL Configuration<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright ¬© 2024 Hung Nguyen </div></footer></div><!--]--><!--[--><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C-_dXKvP.js" defer></script>
  </body>
</html>
