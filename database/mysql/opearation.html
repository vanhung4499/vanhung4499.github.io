<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vanhung4499.github.io/database/mysql/opearation.html"><meta property="og:site_name" content="VanHung4499"><meta property="og:title" content="MySQL Opearation"><meta property="og:description" content="MySQL Operation Náº¿u cÃ´ng ty cá»§a báº¡n cÃ³ DBA, thÃ¬ tÃ´i xin chÃºc má»«ng báº¡n, báº¡n cÃ³ thá»ƒ bá» qua viá»‡c quáº£n trá»‹ Mysql. Náº¿u cÃ´ng ty cá»§a báº¡n khÃ´ng cÃ³ DBA, hÃ£y há»c cÃ¡ch thá»±c hiá»‡n cÃ¡c hoáº¡t Ä‘..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-06-28T15:54:38.000Z"><meta property="article:author" content="Hung Nguyen"><meta property="article:modified_time" content="2024-06-28T15:54:38.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL Opearation","image":["https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png"],"dateModified":"2024-06-28T15:54:38.000Z","author":[{"@type":"Person","name":"Hung Nguyen","url":"https://vanhung4499.github.io"}]}</script><meta name="referrer" content="no-referrer-when-downgrade"><link rel="alternate" type="application/rss+xml" href="https://vanhung4499.github.io/rss.xml" title="VanHung4499 RSS Feed"><title>MySQL Opearation | VanHung4499</title><meta name="description" content="MySQL Operation Náº¿u cÃ´ng ty cá»§a báº¡n cÃ³ DBA, thÃ¬ tÃ´i xin chÃºc má»«ng báº¡n, báº¡n cÃ³ thá»ƒ bá» qua viá»‡c quáº£n trá»‹ Mysql. Náº¿u cÃ´ng ty cá»§a báº¡n khÃ´ng cÃ³ DBA, hÃ£y há»c cÃ¡ch thá»±c hiá»‡n cÃ¡c hoáº¡t Ä‘...">
    <link rel="preload" href="/assets/style-DFXXOFfS.css" as="style"><link rel="stylesheet" href="/assets/style-DFXXOFfS.css">
    <link rel="modulepreload" href="/assets/app-5QVbWi7Z.js"><link rel="modulepreload" href="/assets/opearation.html-BaoPxS6j.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">VanHung4499</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:home" width="1em" height="1em"></iconify-icon><!--]-->Home<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/wiki.html" aria-label="Wiki"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="carbon:wikis" width="1em" height="1em"></iconify-icon><!--]-->Wiki<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/dsa/" aria-label="Algorithms"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="hugeicons:algorithm" width="1em" height="1em"></iconify-icon><!--]-->Algorithms<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Programming"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:code" width="1em" height="1em"></iconify-icon>Programming<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/java/" aria-label="Java"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/golang/" aria-label="Golang"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:go" width="1em" height="1em"></iconify-icon><!--]-->Golang<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/js/" aria-label="JavaScript"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon><!--]-->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/ts/" aria-label="TypeScript"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:typescript" width="1em" height="1em"></iconify-icon><!--]-->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/python/" aria-label="Python"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:python" width="1em" height="1em"></iconify-icon><!--]-->Python<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Database"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:database" width="1em" height="1em"></iconify-icon>Database<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/sql/" aria-label="SQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:sql-query" width="1em" height="1em"></iconify-icon><!--]-->SQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/database/mysql/" aria-label="MySQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/mongodb/" aria-label="MongoDB"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mongodb" width="1em" height="1em"></iconify-icon><!--]-->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/redis/" aria-label="Redis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elasticsearch/" aria-label="Elasticsearch"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:elasticsearch" width="1em" height="1em"></iconify-icon><!--]-->Elasticsearch<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elastic/" aria-label="Elastic Stack"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:elastic-stack" width="1em" height="1em"></iconify-icon><!--]-->Elastic Stack<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Framework"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:framework" width="1em" height="1em"></iconify-icon>Framework<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/spring/" aria-label="Spring"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/spring-boot/" aria-label="Spring Boot"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring Boot<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/nestjs/" aria-label="NestJS"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:nestjs" width="1em" height="1em"></iconify-icon><!--]-->NestJS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/gin/" aria-label="Gin"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:gin" width="1em" height="1em"></iconify-icon><!--]-->Gin<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="DevOps"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon-plain:azuredevops" width="1em" height="1em"></iconify-icon>DevOps<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/docker/" aria-label="Docker"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:docker" width="1em" height="1em"></iconify-icon><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/kubernetes/" aria-label="Kubernetes"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:kubernetes" width="1em" height="1em"></iconify-icon><!--]-->Kubernetes<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/jenkins/" aria-label="Jenkins"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:jenkins" width="1em" height="1em"></iconify-icon><!--]-->Jenkins<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/git/" aria-label="Git"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:git" width="1em" height="1em"></iconify-icon><!--]-->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/linux/" aria-label="Linux"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->Linux<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Design"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="tdesign:system-sum" width="1em" height="1em"></iconify-icon>Design<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/design-pattern/" aria-label="Design Pattern"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="tabler:grid-pattern" width="1em" height="1em"></iconify-icon><!--]-->Design Pattern<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/system-design/" aria-label="System Design"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="icon-park-outline:system" width="1em" height="1em"></iconify-icon><!--]-->System Design<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Project"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="ant-design:project-outlined" width="1em" height="1em"></iconify-icon>Project<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/project/rouyi-vue-pro/" aria-label="Rouyi Vue Pro"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Rouyi Vue Pro<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/project/yudao-cloud/" aria-label="Yudao Cloud"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Yudao Cloud<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/interview/" aria-label="Interview"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:account-tie" width="1em" height="1em"></iconify-icon><!--]-->Interview<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="About"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:about" width="1em" height="1em"></iconify-icon>About<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about-me.html" aria-label="About me"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:about-me" width="1em" height="1em"></iconify-icon><!--]-->About me<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about.html" aria-label="About"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:about" width="1em" height="1em"></iconify-icon><!--]-->About<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vanhung4499/my-wiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:sql-query" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/overview.html" aria-label="MySQL Overview"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Overview<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/guide.html" aria-label="MySQL Guide"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Architecture<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/engine.html" aria-label="MySQL Storage Engine"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Storage Engine<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Index<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/transaction.html" aria-label="MySQL Transaction"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Transaction<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/lock.html" aria-label="Lock"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->Lock<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/replication.html" aria-label="MySQL Replication"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Replication<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Optimization<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/database/mysql/opearation.html" aria-label="MySQL Opearation"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Opearation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Configuration<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mongodb" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">MongoDB</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:elasticsearch" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Elasticsearch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:elastic-stack" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Elastic Stack</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon>MySQL Opearation</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://vanhung4499.github.io" target="_blank" rel="noopener noreferrer">Hung Nguyen</a></span><span property="author" content="Hung Nguyen"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-28T15:54:38.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 21 min</span><meta property="timeRequired" content="PT21M"></span><span class="page-category-info" aria-label="CategoryğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="articleSection" content="mysql"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cai-Ä‘at-va-trien-khai">CÃ i Ä‘áº·t vÃ  triá»ƒn khai</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cai-Ä‘at-tren-windows">CÃ i Ä‘áº·t trÃªn Windows</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cai-Ä‘at-tren-centos">CÃ i Ä‘áº·t trÃªn CentOS</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#khoi-tao-mat-khau-cho-co-so-du-lieu">Khá»Ÿi táº¡o máº­t kháº©u cho cÆ¡ sá»Ÿ dá»¯ liá»‡u</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-hinh-truy-cap-tu-xa">Cáº¥u hÃ¬nh truy cáº­p tá»« xa</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-qua-xac-thuc-Ä‘ang-nhap">Bá» qua xÃ¡c thá»±c Ä‘Äƒng nháº­p</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ket-noi-tu-may-khach">Káº¿t ná»‘i tá»« mÃ¡y khÃ¡ch</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-ket-noi">Xem káº¿t ná»‘i</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tao-nguoi-dung">Táº¡o ngÆ°á»i dÃ¹ng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-nguoi-dung">Xem ngÆ°á»i dÃ¹ng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cap-quyen">Cáº¥p quyá»n</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#thu-hoi-quyen">Thu há»“i quyá»n</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xem-quyen">Xem quyá»n</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#thay-Ä‘oi-mat-khau-nguoi-dung">Thay Ä‘á»•i máº­t kháº©u ngÆ°á»i dÃ¹ng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#sao-luu-va-khoi-phuc">Sao lÆ°u vÃ  khÃ´i phá»¥c</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#go-cai-Ä‘at">Gá»¡ cÃ i Ä‘áº·t</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#trien-khai-master-slave">Triá»ƒn khai Master-Slave</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#truy-van-cham">Truy váº¥n cháº­m</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cap-Ä‘o-co-lap">Cáº¥p Ä‘á»™ cÃ´ láº­p</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cau-hinh-may-chu">Cáº¥u hÃ¬nh mÃ¡y chá»§</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#Ä‘uong-dan-tep-cau-hinh">ÄÆ°á»ng dáº«n tá»‡p cáº¥u hÃ¬nh</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cu-phap-cau-hinh">CÃº phÃ¡p cáº¥u hÃ¬nh</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#giai-thich-cac-cau-hinh-pho-bien">Giáº£i thÃ­ch cÃ¡c cáº¥u hÃ¬nh phá»• biáº¿n</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-van-Ä‘e-thuong-gap">CÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#qua-nhieu-ket-noi-too-many-connections">QuÃ¡ nhiá»u káº¿t ná»‘i (Too many connections)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cach-sua-chua-bang-du-lieu-bi-hong">CÃ¡ch sá»­a chá»¯a báº£ng dá»¯ liá»‡u bá»‹ há»ng</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-du-lieu">Cáº¥u trÃºc dá»¯ liá»‡u</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="mysql-operation" tabindex="-1"><a class="header-anchor" href="#mysql-operation"><span>MySQL Operation</span></a></h1><blockquote><p>Náº¿u cÃ´ng ty cá»§a báº¡n cÃ³ DBA, thÃ¬ tÃ´i xin chÃºc má»«ng báº¡n, báº¡n cÃ³ thá»ƒ bá» qua viá»‡c quáº£n trá»‹ Mysql. Náº¿u cÃ´ng ty cá»§a báº¡n khÃ´ng cÃ³ DBA, hÃ£y há»c cÃ¡ch thá»±c hiá»‡n cÃ¡c hoáº¡t Ä‘á»™ng quáº£n trá»‹ cÆ¡ báº£n cá»§a Mysql, Ä‘Ã³ lÃ  Ä‘iá»u cáº§n thiáº¿t Ä‘á»ƒ tá»± báº£o vá»‡ mÃ¬nh khi hoáº¡t Ä‘á»™ng trong lÄ©nh vá»±c nÃ y.</p></blockquote><h2 id="cai-Ä‘at-va-trien-khai" tabindex="-1"><a class="header-anchor" href="#cai-Ä‘at-va-trien-khai"><span>CÃ i Ä‘áº·t vÃ  triá»ƒn khai</span></a></h2><h3 id="cai-Ä‘at-tren-windows" tabindex="-1"><a class="header-anchor" href="#cai-Ä‘at-tren-windows"><span>CÃ i Ä‘áº·t trÃªn Windows</span></a></h3><p>(1) Táº£i phiÃªn báº£n Mysql 5.7 Portable (khÃ´ng cáº§n cÃ i Ä‘áº·t)</p><p>Link táº£i: <a href="https://dev.mysql.com/downloads/mysql/5.7.html#downloads" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/downloads/mysql/5.7.html#downloads</a></p><p>(2) Giáº£i nÃ©n vÃ  táº¡o file my.ini trong thÆ° má»¥c gá»‘c</p><p>VÃ­ dá»¥ file my.ini:</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Thiáº¿t láº­p cá»•ng 3306</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">port</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Thiáº¿t láº­p Ä‘Æ°á»ng dáº«n cÃ i Ä‘áº·t mysql, thay Ä‘á»•i Ä‘Æ°á»ng dáº«n nÃ y cho phÃ¹ há»£p vá»›i thÆ° má»¥c báº¡n giáº£i nÃ©n</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">basedir</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">D:\\Tools\\DB\\mysql\\mysql-5.7.31</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Sá»‘ káº¿t ná»‘i tá»‘i Ä‘a</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">max_connections</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">200</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Mysql sá»­ dá»¥ng bá»™ kÃ½ tá»± máº·c Ä‘á»‹nh lÃ  latin1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">character-set-server</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">utf8</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Thiáº¿t láº­p engine lÆ°u trá»¯ máº·c Ä‘á»‹nh cho báº£ng má»›i</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">default-storage-engine</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">INNODB</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Thiáº¿t láº­p bá»™ kÃ½ tá»± máº·c Ä‘á»‹nh cho client mysql</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">default-character-set</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">utf8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) Thá»±c hiá»‡n cÃ¡c lá»‡nh cÃ i Ä‘áº·t</p><p>TrÃªn cá»­a sá»• CMD, thá»±c hiá»‡n láº§n lÆ°á»£t cÃ¡c lá»‡nh cÃ i Ä‘áº·t sau:</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>cd D:\\Tools\\DB\\mysql\\mysql-5.7.31</span></span>
<span class="line"><span>mysqld --initialize</span></span>
<span class="line"><span>mysqld -install</span></span></code></pre></div><p>Giáº£i thÃ­ch:</p><ul><li><code>mysqld --initialize</code> sáº½ tá»± Ä‘á»™ng khá»Ÿi táº¡o vÃ  táº¡o thÆ° má»¥c data.</li><li><code>mysqld -install</code> sáº½ cÃ i Ä‘áº·t dá»‹ch vá»¥ mysql.</li></ul><p>(4) Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥</p><p>TrÃªn cá»­a sá»• CMD, thá»±c hiá»‡n lá»‡nh <code>net start mysql</code> Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥.</p><h3 id="cai-Ä‘at-tren-centos" tabindex="-1"><a class="header-anchor" href="#cai-Ä‘at-tren-centos"><span>CÃ i Ä‘áº·t trÃªn CentOS</span></a></h3><blockquote><p>BÃ i viáº¿t nÃ y chá»‰ giá»›i thiá»‡u cÃ¡ch cÃ i Ä‘áº·t thÃ´ng qua gÃ³i rpm</p></blockquote><h4 id="cai-Ä‘at-nguon-yum-cua-mysql" tabindex="-1"><a class="header-anchor" href="#cai-Ä‘at-nguon-yum-cua-mysql"><span>CÃ i Ä‘áº·t nguá»“n yum cá»§a mysql</span></a></h4><p>Link táº£i chÃ­nh thá»©c: <a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/downloads/repo/yum/</a></p><p>(1) Táº£i gÃ³i yum</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm</span></span></code></pre></div><p>(2) CÃ i Ä‘áº·t tá»‡p repo yum vÃ  cáº­p nháº­t bá»™ nhá»› cache yum</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">rpm</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -ivh</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql80-community-release-el7-1.noarch.rpm</span></span></code></pre></div><p>Káº¿t quáº£ thá»±c hiá»‡n:</p><p>Sáº½ táº¡o ra hai tá»‡p repo trong thÆ° má»¥c /etc/yum.repos.d/</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community.repo</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-source.repo</span></span></code></pre></div><p>Cáº­p nháº­t yum:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> clean</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> all</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> makecache</span></span></code></pre></div><p>(3) Kiá»ƒm tra tráº¡ng thÃ¡i cÃ i Ä‘áº·t rpm</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> server</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-common.i686</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> database</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> common</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> files</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> client</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-common.x86_64</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> database</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> common</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> files</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> and</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-test.x86_64</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Test</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> suite</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> database</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> server</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">                       :</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> administering</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> servers</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-server.x86_64</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> A</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> very</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> fast</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> reliable</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> SQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> database</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> server</span></span></code></pre></div><p>Sau khi cÃ i Ä‘áº·t mysql báº±ng yum, sáº½ cÃ³ má»™t sá»‘ thÆ° má»¥c quan trá»ng:</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>## Tá»‡p cáº¥u hÃ¬nh</span></span>
<span class="line"><span>/etc/my.cnf</span></span>
<span class="line"><span>## ThÆ° má»¥c cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></span>
<span class="line"><span>/var/lib/mysql/</span></span>
<span class="line"><span>## Tá»‡p cáº¥u hÃ¬nh</span></span>
<span class="line"><span>/usr/share/mysql (lá»‡nh mysql.server vÃ  tá»‡p cáº¥u hÃ¬nh)</span></span>
<span class="line"><span>## CÃ¡c lá»‡nh liÃªn quan</span></span>
<span class="line"><span>/usr/bin (mysqladmin, mysqldump vÃ  cÃ¡c lá»‡nh khÃ¡c)</span></span>
<span class="line"><span>## Tá»‡p khá»Ÿi Ä‘á»™ng</span></span>
<span class="line"><span>/usr/lib/systemd/system/mysqld.service (Ä‘Äƒng kÃ½ dá»‹ch vá»¥ systemd)</span></span></code></pre></div><p>(4) CÃ i Ä‘áº·t mÃ¡y chá»§ mysql</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql-community-server</span></span></code></pre></div><h4 id="quan-ly-dich-vu-mysql" tabindex="-1"><a class="header-anchor" href="#quan-ly-dich-vu-mysql"><span>Quáº£n lÃ½ dá»‹ch vá»¥ mysql</span></a></h4><p>Sau khi cÃ i Ä‘áº·t mysql báº±ng yum, sáº½ cÃ³ má»™t dá»‹ch vá»¥ systemd cÃ³ tÃªn <code>mysqld</code>.</p><p>Quáº£n lÃ½ dá»‹ch vá»¥ ráº¥t Ä‘Æ¡n giáº£n:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## Kiá»ƒm tra tráº¡ng thÃ¡i</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## KÃ­ch hoáº¡t dá»‹ch vá»¥</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## VÃ´ hiá»‡u hÃ³a dá»‹ch vá»¥</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">## Dá»«ng dá»‹ch vá»¥</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysqld</span></span></code></pre></div><h3 id="khoi-tao-mat-khau-cho-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-tao-mat-khau-cho-co-so-du-lieu"><span>Khá»Ÿi táº¡o máº­t kháº©u cho cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h3><p>Xem máº­t kháº©u táº¡m thá»i:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> grep</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;password&quot;</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/log/mysqld.log</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">2018-09-30T03:13:41.727736Z</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> [Note] [MY-010454] [Server] A temporary password is generated </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> root@localhost: %:lt+srWu4k1</span></span></code></pre></div><p>Thá»±c hiá»‡n lá»‡nh sau:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -uroot</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">temporary_password</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>Nháº­p máº­t kháº©u táº¡m thá»i Ä‘á»ƒ truy cáº­p vÃ o mysql. Náº¿u báº¡n muá»‘n thay Ä‘á»•i máº­t kháº©u, thá»±c hiá»‡n lá»‡nh sau:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">ALTER</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> USER</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;@&#39;localhost&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> IDENTIFIED</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>LÆ°u Ã½: Máº­t kháº©u máº·c Ä‘á»‹nh cÃ³ Ä‘á»™ máº¡nh trung bÃ¬nh, bao gá»“m chá»¯ hoa, chá»¯ thÆ°á»ng, chá»¯ sá»‘ vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t. Báº¡n chá»‰ cÃ³ thá»ƒ thay Ä‘á»•i cáº¥u hÃ¬nh Ä‘á»ƒ sá»­ dá»¥ng máº­t kháº©u Ä‘Æ¡n giáº£n hÆ¡n sau khi Ä‘Ã£ thay Ä‘á»•i thÃ nh cÃ´ng máº­t kháº©u.</p><h3 id="cau-hinh-truy-cap-tu-xa" tabindex="-1"><a class="header-anchor" href="#cau-hinh-truy-cap-tu-xa"><span>Cáº¥u hÃ¬nh truy cáº­p tá»« xa</span></a></h3><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">root</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ALL </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;your_password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">FLUSH PRIVILEGES;</span></span></code></pre></div><h3 id="bo-qua-xac-thuc-Ä‘ang-nhap" tabindex="-1"><a class="header-anchor" href="#bo-qua-xac-thuc-Ä‘ang-nhap"><span>Bá» qua xÃ¡c thá»±c Ä‘Äƒng nháº­p</span></a></h3><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /etc/my.cnf</span></span></code></pre></div><p>ThÃªm dÃ²ng <code>skip-grant-tables</code> dÆ°á»›i pháº§n <code>[mysqld]</code>.</p><p>Chá»©c nÄƒng nÃ y cho phÃ©p bá» qua xÃ¡c thá»±c Ä‘Äƒng nháº­p, nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ Ä‘Äƒng nháº­p vÃ o root vá»›i báº¥t ká»³ máº­t kháº©u nÃ o.</p><p>Thá»±c hiá»‡n <code>systemctl restart mysqld</code> Ä‘á»ƒ khá»Ÿi Ä‘á»™ng láº¡i mysql.</p><h3 id="ket-noi-tu-may-khach" tabindex="-1"><a class="header-anchor" href="#ket-noi-tu-may-khach"><span>Káº¿t ná»‘i tá»« mÃ¡y khÃ¡ch</span></a></h3><p>CÃº phÃ¡p: <code>mysql -h&lt;host&gt; -P&lt;port&gt; -u&lt;username&gt; -p&lt;password&gt;</code></p><p>Náº¿u khÃ´ng chá»‰ Ä‘á»‹nh máº­t kháº©u má»™t cÃ¡ch rÃµ rÃ ng, báº¡n sáº½ Ä‘Æ°á»£c yÃªu cáº§u nháº­p máº­t kháº©u trÆ°á»›c khi truy cáº­p.</p><p>ã€VÃ­ dá»¥ã€‘Káº¿t ná»‘i Ä‘áº¿n Mysql cá»¥c bá»™</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 3306</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -p</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Enter</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> password:</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Welcome</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> monitor.</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">  Commands</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> end</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ; </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">or</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> \g</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">.</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Your</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> id</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 13501</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Server</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 8.0.19</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> MySQL</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Community</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Server</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> GPL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Copyright</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Oracle</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> registered</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> trademark</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Oracle</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Corporation</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> and/or</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> its</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">affiliates.</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Other</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> names</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> may</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> trademarks</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> their</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> respective</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">owners.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Type</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;help;&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;\h&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> help.</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> Type</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;\c&#39;</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> clear</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> current</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> input</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> statement.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="xem-ket-noi" tabindex="-1"><a class="header-anchor" href="#xem-ket-noi"><span>Xem káº¿t ná»‘i</span></a></h3><p>Sau khi káº¿t ná»‘i thÃ nh cÃ´ng, náº¿u báº¡n khÃ´ng cÃ³ hoáº¡t Ä‘á»™ng tiáº¿p theo, káº¿t ná»‘i sáº½ á»Ÿ tráº¡ng thÃ¡i ráº£nh rá»—i vÃ  báº¡n cÃ³ thá»ƒ tháº¥y nÃ³ trong lá»‡nh <code>show processlist</code>. Náº¿u mÃ¡y khÃ¡ch khÃ´ng cÃ³ hoáº¡t Ä‘á»™ng trong má»™t khoáº£ng thá»i gian dÃ i, trÃ¬nh káº¿t ná»‘i sáº½ tá»± Ä‘á»™ng Ä‘Ã³ng nÃ³. Thá»i gian nÃ y Ä‘Æ°á»£c Ä‘iá»u chá»‰nh bá»Ÿi tham sá»‘ <code>wait_timeout</code>, giÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  8 giá».</p><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20200714115031.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="tao-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#tao-nguoi-dung"><span>Táº¡o ngÆ°á»i dÃ¹ng</span></a></h3><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">username</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Giáº£i thÃ­ch:</p><ul><li>username: TÃªn ngÆ°á»i dÃ¹ng báº¡n muá»‘n táº¡o</li><li>host: XÃ¡c Ä‘á»‹nh ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng nháº­p tá»« mÃ¡y chá»§ nÃ o. Náº¿u lÃ  ngÆ°á»i dÃ¹ng cá»¥c bá»™, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng localhost. Náº¿u báº¡n muá»‘n ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng nháº­p tá»« báº¥t ká»³ mÃ¡y chá»§ tá»« xa nÃ o, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng kÃ½ tá»± Ä‘áº¡i diá»‡n <code>%</code>.</li><li>password: Máº­t kháº©u Ä‘Äƒng nháº­p cá»§a ngÆ°á»i dÃ¹ng. Máº­t kháº©u cÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng. Náº¿u Ä‘á»ƒ trá»‘ng, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Äƒng nháº­p vÃ o mÃ¡y chá»§ mÃ  khÃ´ng cáº§n máº­t kháº©u.</li></ul><p>VÃ­ dá»¥:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dog</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;localhost&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">pig</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;192.168.1.101_&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENDIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">pig</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;123456&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">pig</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">pig</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><blockquote><p>LÆ°u Ã½: Trong Mysql 8, xÃ¡c thá»±c máº·c Ä‘á»‹nh khÃ´ng cÃ²n lÃ  <code>password</code>. VÃ¬ váº­y, khi táº¡o ngÆ°á»i dÃ¹ng, <code>create user &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</code> khÃ´ng thá»ƒ káº¿t ná»‘i tá»« mÃ¡y khÃ¡ch.</p><p>VÃ¬ váº­y, báº¡n cáº§n thÃªm <code>IDENTIFIED WITH mysql_native_password</code>, vÃ­ dá»¥: <code>CREATE USER &#39;slave&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</code></p></blockquote><h3 id="xem-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#xem-nguoi-dung"><span>Xem ngÆ°á»i dÃ¹ng</span></a></h3><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Xem táº¥t cáº£ ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">SELECT DISTINCT</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> CONCAT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;User: &#39;&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, user, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;&#39;@&#39;&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, host, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;&#39;;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> query</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> mysql</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">user</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h3 id="cap-quyen" tabindex="-1"><a class="header-anchor" href="#cap-quyen"><span>Cáº¥p quyá»n</span></a></h3><p>CÃº phÃ¡p:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> privileges </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> databasename</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">tablename</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;host&#39;</span></span></code></pre></div><p>Giáº£i thÃ­ch:</p><ul><li>privileges: CÃ¡c quyá»n thá»±c hiá»‡n cá»§a ngÆ°á»i dÃ¹ng, nhÆ° <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, vv. Náº¿u muá»‘n cáº¥p táº¥t cáº£ quyá»n, sá»­ dá»¥ng <code>ALL</code>.</li><li>databasename: TÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u.</li><li>tablename: TÃªn báº£ng. Náº¿u muá»‘n cáº¥p quyá»n cho ngÆ°á»i dÃ¹ng trÃªn táº¥t cáº£ cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  báº£ng, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng <code>*.*</code>.</li></ul><p>VÃ­ dá»¥:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">INSERT</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> test</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">user</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ALL </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ALL </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> maindataplus.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>LÆ°u Ã½:</p><p>NgÆ°á»i dÃ¹ng Ä‘Æ°á»£c cáº¥p quyá»n báº±ng cÃ¡c lá»‡nh trÃªn khÃ´ng thá»ƒ cáº¥p quyá»n cho ngÆ°á»i dÃ¹ng khÃ¡c. Náº¿u báº¡n muá»‘n cho phÃ©p ngÆ°á»i dÃ¹ng cáº¥p quyá»n, sá»­ dá»¥ng lá»‡nh sau:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Cáº¥u hÃ¬nh quyá»n cá»¥ thá»ƒ cho ngÆ°á»i dÃ¹ng Ä‘Ã£ chá»‰ Ä‘á»‹nh</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> privileges </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> databasename</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">tablename</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> WITH</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> GRANT</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> OPTION</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- GÃ¡n táº¥t cáº£ quyá»n cho ngÆ°á»i dÃ¹ng root</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ALL </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> WITH</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> GRANT</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> OPTION</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h3 id="thu-hoi-quyen" tabindex="-1"><a class="header-anchor" href="#thu-hoi-quyen"><span>Thu há»“i quyá»n</span></a></h3><p>CÃº phÃ¡p:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> privilege </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> databasename</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">tablename</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Giáº£i thÃ­ch:</p><p>privilege, databasename, tablename: TÆ°Æ¡ng tá»± nhÆ° pháº§n cáº¥p quyá»n.</p><p>VÃ­ dá»¥:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>LÆ°u Ã½:</p><p>Náº¿u báº¡n Ä‘Ã£ cáº¥p quyá»n cho ngÆ°á»i dÃ¹ng <code>&#39;pig&#39;@&#39;%&#39;</code> nhÆ° sau (hoáº·c tÆ°Æ¡ng tá»±): <code>GRANT SELECT ON test.user TO &#39;pig&#39;@&#39;%&#39;</code>, thÃ¬ viá»‡c sá»­ dá»¥ng lá»‡nh <code>REVOKE SELECT ON *.* FROM &#39;pig&#39;@&#39;%&#39;;</code> sáº½ khÃ´ng thu há»“i quyá»n <code>SELECT</code> cá»§a ngÆ°á»i dÃ¹ng trÃªn báº£ng <code>user</code> trong cÆ¡ sá»Ÿ dá»¯ liá»‡u <code>test</code>. NgÆ°á»£c láº¡i, náº¿u quyá»n Ä‘Æ°á»£c cáº¥p báº±ng <code>GRANT SELECT ON *.* TO &#39;pig&#39;@&#39;%&#39;;</code>, thÃ¬ lá»‡nh <code>REVOKE SELECT ON test.user FROM &#39;pig&#39;@&#39;%&#39;;</code> cÅ©ng khÃ´ng thu há»“i quyá»n <code>SELECT</code> cá»§a ngÆ°á»i dÃ¹ng trÃªn báº£ng <code>user</code> trong cÆ¡ sá»Ÿ dá»¯ liá»‡u <code>test</code>.</p><p>Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh <code>SHOW GRANTS FOR &#39;pig&#39;@&#39;%&#39;;</code> Ä‘á»ƒ xem thÃ´ng tin chi tiáº¿t.</p><h3 id="xem-quyen" tabindex="-1"><a class="header-anchor" href="#xem-quyen"><span>Xem quyá»n</span></a></h3><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Xem quyá»n cá»§a ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW GRANTS </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">FOR</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h3 id="thay-Ä‘oi-mat-khau-nguoi-dung" tabindex="-1"><a class="header-anchor" href="#thay-Ä‘oi-mat-khau-nguoi-dung"><span>Thay Ä‘á»•i máº­t kháº©u ngÆ°á»i dÃ¹ng</span></a></h3><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;username&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;host&#39;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;newpassword&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><p>Náº¿u Ä‘ang Ä‘Äƒng nháº­p vá»›i ngÆ°á»i dÃ¹ng hiá»‡n táº¡i, sá»­ dá»¥ng:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;newpassword&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><p>VÃ­ dá»¥:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;pig&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> PASSWORD</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;123456&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><h3 id="sao-luu-va-khoi-phuc" tabindex="-1"><a class="header-anchor" href="#sao-luu-va-khoi-phuc"><span>Sao lÆ°u vÃ  khÃ´i phá»¥c</span></a></h3><p>Äá»ƒ sao lÆ°u dá»¯ liá»‡u MySQL, chÃºng ta sá»­ dá»¥ng lá»‡nh mysqldump.</p><p>Mysqldump sáº½ sao lÆ°u dá»¯ liá»‡u trong cÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ nh má»™t tá»‡p vÄƒn báº£n, cáº¥u trÃºc báº£ng vÃ  dá»¯ liá»‡u cá»§a báº£ng sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ trong tá»‡p vÄƒn báº£n Ä‘Æ°á»£c táº¡o ra.</p><p>Sao lÆ°u:</p><h4 id="sao-luu-mot-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-mot-co-so-du-lieu"><span>Sao lÆ°u má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h4><p>CÃº phÃ¡p:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysqldump -h </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">host</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -P</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">port</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -u</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -p</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">database</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> [&lt;table1&gt; &lt;table2&gt; ...]</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> backup</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">sql</span></span></code></pre></div><ul><li><strong><code>host</code></strong> - MÃ¡y chá»§ Mysql</li><li><strong><code>port</code></strong> - Cá»•ng cá»§a mÃ¡y chá»§ Mysql</li><li><strong><code>username</code></strong> - TÃªn ngÆ°á»i dÃ¹ng cÆ¡ sá»Ÿ dá»¯ liá»‡u</li><li><strong><code>dbname</code></strong> - TÃªn cÆ¡ sá»Ÿ dá»¯ liá»‡u</li><li>Tham sá»‘ table1 vÃ  table2 Ä‘áº¡i diá»‡n cho tÃªn cÃ¡c báº£ng cáº§n sao lÆ°u, náº¿u Ä‘á»ƒ trá»‘ng thÃ¬ sao lÆ°u toÃ n bá»™ cÆ¡ sá»Ÿ dá»¯ liá»‡u;</li><li>Tham sá»‘ BackupName.sql Ä‘áº¡i diá»‡n cho tÃªn tá»‡p sao lÆ°u Ä‘Æ°á»£c táº¡o ra, báº¡n cÃ³ thá»ƒ thÃªm Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i trÆ°á»›c tÃªn tá»‡p. ThÃ´ng thÆ°á»ng, cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Æ°á»£c sao lÆ°u thÃ nh má»™t tá»‡p cÃ³ pháº§n má»Ÿ rá»™ng lÃ  sql.</li></ul><h4 id="sao-luu-nhieu-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-nhieu-co-so-du-lieu"><span>Sao lÆ°u nhiá»u cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h4><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysqldump -u </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -p </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">--databases &lt;database1&gt; &lt;database2&gt; ... &gt; backup.sql</span></span></code></pre></div><h4 id="sao-luu-tat-ca-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#sao-luu-tat-ca-co-so-du-lieu"><span>Sao lÆ°u táº¥t cáº£ cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h4><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysqldump -u </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -p </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">--all-databases &gt; backup.sql</span></span></code></pre></div><h4 id="khoi-phuc-mot-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-phuc-mot-co-so-du-lieu"><span>KhÃ´i phá»¥c má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h4><p>Äá»ƒ khÃ´i phá»¥c dá»¯ liá»‡u MySQL, chÃºng ta sá»­ dá»¥ng lá»‡nh mysql.</p><p>CÃº phÃ¡p:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql -h </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">host</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -P</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">port</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -u</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -p</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">database</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> backup</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">sql</span></span></code></pre></div><h4 id="khoi-phuc-tat-ca-co-so-du-lieu" tabindex="-1"><a class="header-anchor" href="#khoi-phuc-tat-ca-co-so-du-lieu"><span>KhÃ´i phá»¥c táº¥t cáº£ cÆ¡ sá»Ÿ dá»¯ liá»‡u</span></a></h4><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql -u</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">username</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> -p </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">--all-databases &lt; backup.sql</span></span></code></pre></div><h3 id="go-cai-Ä‘at" tabindex="-1"><a class="header-anchor" href="#go-cai-Ä‘at"><span>Gá»¡ cÃ i Ä‘áº·t</span></a></h3><p>(1) Xem MySQL Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> rpm</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -qa</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">perl-DBD-MySQL-4.023-6.el7.x86_64</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql80-community-release-el7-1.noarch</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-common-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-client-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-libs-compat-8.0.12-1.el7.x86_64</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql-community-libs-8.0.12-1.el7.x86_64</span></span></code></pre></div><p>(2) Gá»¡ cÃ i Ä‘áº·t MySQL</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql-community-server.x86_64</span></span></code></pre></div><h3 id="trien-khai-master-slave" tabindex="-1"><a class="header-anchor" href="#trien-khai-master-slave"><span>Triá»ƒn khai Master-Slave</span></a></h3><p>Giáº£ sá»­ báº¡n cáº§n cáº¥u hÃ¬nh má»™t mÃ´i trÆ°á»ng mÃ¡y chá»§ Master-Slave cho MySQL:</p><ul><li>Node Master: 192.168.8.10</li><li>Node Slave: 192.168.8.11</li></ul><h4 id="cac-buoc-tren-node-master" tabindex="-1"><a class="header-anchor" href="#cac-buoc-tren-node-master"><span>CÃ¡c bÆ°á»›c trÃªn Node Master</span></a></h4><p>(1) Sá»­a Ä‘á»•i cáº¥u hÃ¬nh vÃ  khá»Ÿi Ä‘á»™ng láº¡i</p><p>Cháº¡y lá»‡nh <code>vi /etc/my.cnf</code> vÃ  thÃªm cáº¥u hÃ¬nh sau:</p><div class="language-ini" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">server-id</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">log_bin</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">/var/lib/mysql/binlog</span></span></code></pre></div><ul><li><code>server-id</code> - Sá»‘ ID cá»§a mÃ¡y chá»§. Trong kiáº¿n trÃºc Master-Slave, má»—i mÃ¡y pháº£i cÃ³ má»™t ID duy nháº¥t.</li><li><code>log_bin</code> - ÄÆ°á»ng dáº«n vÃ  tÃªn tá»‡p nháº­t kÃ½ Ä‘á»“ng bá»™, hÃ£y Ä‘áº£m báº£o ráº±ng thÆ° má»¥c nÃ y cÃ³ quyá»n ghi cho MySQL;</li></ul><p>Sau khi chá»‰nh sá»­a, khá»Ÿi Ä‘á»™ng láº¡i MySQL Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">systemctl </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">restart</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> mysql</span></span></code></pre></div><p>(2) Táº¡o ngÆ°á»i dÃ¹ng cho Ä‘á»“ng bá»™ hoÃ¡</p><p>Truy cáº­p vÃ o báº£ng Ä‘iá»u khiá»ƒn MySQL:</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>$ mysql -u root -p</span></span>
<span class="line"><span>Password:</span></span></code></pre></div><p>Thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh SQL sau:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- a. Táº¡o ngÆ°á»i dÃ¹ng slave</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">slave</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Cáº¥p quyá»n REPLICATION SLAVE cho slave</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- b. Hoáº·c, táº¡o ngÆ°á»i dÃ¹ng slave vÃ  cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p tá»« báº¥t ká»³ mÃ¡y chá»§ nÃ o</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Náº¿u cÃ³ nhiá»u slave vÃ  báº¡n muá»‘n táº¥t cáº£ cÃ¡c slave sá»­ dá»¥ng cÃ¹ng má»™t tÃªn ngÆ°á»i dÃ¹ng vÃ  máº­t kháº©u, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡ch nÃ y</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">slave</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- LÃ m má»›i thÃ´ng tin báº£ng phÃ¢n quyá»n</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">FLUSH PRIVILEGES;</span></span></code></pre></div><blockquote><p>LÆ°u Ã½: Trong MySQL 8, phÆ°Æ¡ng thá»©c xÃ¡c thá»±c máº·c Ä‘á»‹nh khÃ´ng cÃ²n lÃ  <code>password</code>. VÃ¬ váº­y, khi táº¡o ngÆ°á»i dÃ¹ng, <code>create user &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</code> khÃ´ng thá»ƒ káº¿t ná»‘i tá»« mÃ¡y khÃ¡ch. VÃ¬ váº­y, báº¡n cáº§n thÃªm <code>IDENTIFIED WITH mysql_native_password BY &#39;password&#39;</code> khi táº¡o ngÆ°á»i dÃ¹ng.</p></blockquote><p>SQL quáº£n lÃ½ ngÆ°á»i dÃ¹ng bá»• sung:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Xem táº¥t cáº£ ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">SELECT DISTINCT</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> CONCAT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;User: &#39;&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, user, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;&#39;@&#39;&#39;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, host, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;&#39;&#39;;&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> query</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> mysql</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">user</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Xem quyá»n cá»§a ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW GRANTS </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">FOR</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;root&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Táº¡o ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- a. Táº¡o ngÆ°á»i dÃ¹ng slave vÃ  chá»‰ cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p tá»« mÃ¡y chá»§ 192.168.8.11</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">slave</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> IDENTIFIED </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">BY</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Cáº¥p quyá»n REPLICATION SLAVE cho slave</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> REPLICATION SLAVE </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- XÃ³a ngÆ°á»i dÃ¹ng</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">DROP</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> USER</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;slave&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;192.168.8.11&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3) ThÃªm khÃ³a Ä‘á»c</p><p>Äá»ƒ Ä‘áº£m báº£o dá»¯ liá»‡u trÃªn mÃ¡y chá»§ chÃ­nh vÃ  mÃ¡y chá»§ phá»¥ giá»¯ nguyÃªn, chÃºng ta sáº½ thÃªm khÃ³a Ä‘á»c cho MySQL, biáº¿n nÃ³ thÃ nh chá»‰ cÃ³ thá»ƒ Ä‘á»c.</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> FLUSH TABLES </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> READ</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> LOCK;</span></span></code></pre></div><p>(4) Xem tráº¡ng thÃ¡i cá»§a mÃ¡y chá»§ chÃ­nh</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">master</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">File</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">             | Position | Binlog_Do_DB | Binlog_Ignore_DB                            | Executed_Gtid_Set |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">000001</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> |     </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4202</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> |              | mysql,information_schema,performance_schema |                   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------+----------+--------------+---------------------------------------------+-------------------+</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> row</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> sec)</span></span></code></pre></div><blockquote><p>LÆ°u Ã½: Ghi láº¡i <code>File</code> vÃ  <code>Position</code>, chÃºng ta sáº½ sá»­ dá»¥ng chÃºng sau nÃ y.</p></blockquote><p>(5) Xuáº¥t SQL</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysqldump</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> --all-databases</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> --master-data</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">dbdump.sql</span></span></code></pre></div><p>(6) Má»Ÿ khÃ³a Ä‘á»c</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> UNLOCK</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> TABLES;</span></span></code></pre></div><p>(7) Truyá»n SQL tá»« xa Ä‘áº¿n mÃ¡y chá»§ phá»¥</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">scp</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> dbdump.sql</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> root@192.168.8.11:/home</span></span></code></pre></div><h4 id="cac-buoc-tren-node-slave" tabindex="-1"><a class="header-anchor" href="#cac-buoc-tren-node-slave"><span>CÃ¡c bÆ°á»›c trÃªn Node Slave</span></a></h4><p>(1) Sá»­a Ä‘á»•i cáº¥u hÃ¬nh vÃ  khá»Ÿi Ä‘á»™ng láº¡i</p><p>Cháº¡y lá»‡nh <code>vi /etc/my.cnf</code> vÃ  thÃªm cáº¥u hÃ¬nh sau:</p><div class="language-ini" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">server-id</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">2</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">log_bin</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">/var/lib/mysql/binlog</span></span></code></pre></div><ul><li><code>server-id</code> - Sá»‘ ID cá»§a mÃ¡y chá»§. Trong kiáº¿n trÃºc Master-Slave, má»—i mÃ¡y pháº£i cÃ³ má»™t ID duy nháº¥t.</li><li><code>log_bin</code> - ÄÆ°á»ng dáº«n vÃ  tÃªn tá»‡p nháº­t kÃ½ Ä‘á»“ng bá»™, hÃ£y Ä‘áº£m báº£o ráº±ng thÆ° má»¥c nÃ y cÃ³ quyá»n ghi cho MySQL;</li></ul><p>Sau khi chá»‰nh sá»­a, khá»Ÿi Ä‘á»™ng láº¡i MySQL Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span></span></code></pre></div><p>(2) Nháº­p SQL</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> &lt; </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">/home/dbdump.sql</span></span></code></pre></div><p>(3) Thiáº¿t láº­p káº¿t ná»‘i vá»›i mÃ¡y chá»§ chÃ­nh trÃªn mÃ¡y chá»§ phá»¥</p><p>Truy cáº­p vÃ o báº£ng Ä‘iá»u khiá»ƒn MySQL:</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>$ mysql -u root -p</span></span>
<span class="line"><span>Password:</span></span></code></pre></div><p>Thá»±c hiá»‡n cÃ¡c cÃ¢u lá»‡nh SQL sau:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- Dá»«ng dá»‹ch vá»¥ slave</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">STOP</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> SLAVE;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-- LÆ°u Ã½: MASTER_USER vÃ </span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">CHANGE </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">MASTER</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> TO</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MASTER_HOST</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;192.168.8.10&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MASTER_USER</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;slave&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MASTER_PASSWORD</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;password&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MASTER_LOG_FILE</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;binlog.000001&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MASTER_LOG_POS</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4202</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><ul><li><code>MASTER_LOG_FILE</code> vÃ  <code>MASTER_LOG_POS</code> pháº£i tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ <code>File</code> vÃ  <code>Position</code> thu Ä‘Æ°á»£c tá»« lá»‡nh <code>show master status</code>.</li><li><code>MASTER_HOST</code> lÃ  Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y chá»§ chÃ­nh.</li><li><code>MASTER_USER</code> vÃ  <code>MASTER_PASSWORD</code> lÃ  tÃªn ngÆ°á»i dÃ¹ng vÃ  máº­t kháº©u Ä‘Ã£ Ä‘Äƒng kÃ½ trÃªn mÃ¡y chá»§ chÃ­nh.</li></ul><p>(4) Khá»Ÿi Ä‘á»™ng quÃ¡ trÃ¬nh sao lÆ°u</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> start</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> slave;</span></span></code></pre></div><p>(5) Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘á»“ng bá»™ giá»¯a mÃ¡y chá»§ chÃ­nh vÃ  mÃ¡y chá»§ phá»¥</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show slave </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">status</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">\G;</span></span></code></pre></div><p>LÆ°u Ã½: Náº¿u cáº£ hai tham sá»‘ sau Ä‘Ã¢y Ä‘á»u lÃ  YES, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a lÃ  cáº¥u hÃ¬nh Ä‘Ã£ Ä‘Ãºng.</p><ul><li><code>Slave_IO_Running</code></li><li><code>Slave_SQL_Running</code></li></ul><p>(6) Äáº·t mÃ¡y chá»§ phá»¥ thÃ nh chá»‰ Ä‘á»c</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> read_only</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> super_read_only</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">global</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> variables </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;%read_only%&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| Variable_name         | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">Value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| innodb_read_only      | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">OFF</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">read_only</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">             | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| super_read_only       | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| transaction_read_only | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">OFF</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-------+</span></span></code></pre></div><blockquote><p>LÆ°u Ã½: Äáº·t mÃ¡y chá»§ phá»¥ thÃ nh chá»‰ Ä‘á»c khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n quÃ¡ trÃ¬nh Ä‘á»“ng bá»™ hoÃ¡ Master-Slave</p></blockquote><h3 id="truy-van-cham" tabindex="-1"><a class="header-anchor" href="#truy-van-cham"><span>Truy váº¥n cháº­m</span></a></h3><p>Kiá»ƒm tra xem truy váº¥n cháº­m cÃ³ Ä‘Æ°á»£c báº­t hay khÃ´ng:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;%slow_query_log&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh <code>set global slow_query_log</code> Ä‘á»ƒ báº­t hoáº·c táº¯t truy váº¥n cháº­m: ON Ä‘á»ƒ báº­t; OFF Ä‘á»ƒ táº¯t.</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> slow_query_log</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;ON&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Xem ngÆ°á»¡ng thá»i gian truy váº¥n cháº­m:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;%long_query_time%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Äáº·t ngÆ°á»¡ng thá»i gian truy váº¥n cháº­m:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> long_query_time </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h3 id="cap-Ä‘o-co-lap" tabindex="-1"><a class="header-anchor" href="#cap-Ä‘o-co-lap"><span>Cáº¥p Ä‘á»™ cÃ´ láº­p</span></a></h3><p>Xem cáº¥p Ä‘á»™ cÃ´ láº­p hiá»‡n táº¡i:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show variables </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;transaction_isolation&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| Variable_name         | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">Value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">           |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| transaction_isolation | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">READ</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">COMMITTED</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------------------+-----------------+</span></span></code></pre></div><h2 id="cau-hinh-may-chu" tabindex="-1"><a class="header-anchor" href="#cau-hinh-may-chu"><span>Cáº¥u hÃ¬nh mÃ¡y chá»§</span></a></h2><blockquote><p><strong><em>Trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p, cáº¥u hÃ¬nh máº·c Ä‘á»‹nh Ä‘Ã£ Ä‘á»§ Ä‘á»ƒ xá»­ lÃ½ háº§u háº¿t cÃ¡c tÃ¬nh huá»‘ng, khÃ´ng nÃªn thay Ä‘á»•i cáº¥u hÃ¬nh mÃ¡y chá»§ MySQL trá»« khi báº¡n biáº¿t rÃµ ráº±ng sá»± thay Ä‘á»•i Ä‘Ã³ cÃ³ lá»£i.</em></strong></p><p>HÃ£y cá»‘ gáº¯ng khÃ´ng sá»­ dá»¥ng tÃ­nh nÄƒng bá»™ nhá»› cache cá»§a MySQL, vÃ¬ nÃ³ yÃªu cáº§u cÃ¡c yÃªu cáº§u truy váº¥n giá»‘ng nhau hoÃ n toÃ n Ä‘á»ƒ trÃºng cache. CÃ¡ch tiáº¿p cáº­n nÃ y thá»±c táº¿ khÃ´ng hiá»‡u quáº£ vÃ  tÄƒng thÃªm chi phÃ­. Trong cÃ¡c tÃ¬nh huá»‘ng thá»±c táº¿, chÃºng ta thÆ°á»ng sá»­ dá»¥ng lÆ°u trá»¯ key-value nhÆ° Redis Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» cache, hiá»‡u suáº¥t cao hÆ¡n nhiá»u so vá»›i bá»™ nhá»› cache truy váº¥n cá»§a MySQL.</p></blockquote><h3 id="Ä‘uong-dan-tep-cau-hinh" tabindex="-1"><a class="header-anchor" href="#Ä‘uong-dan-tep-cau-hinh"><span>ÄÆ°á»ng dáº«n tá»‡p cáº¥u hÃ¬nh</span></a></h3><p>TrÆ°á»›c tiÃªn, báº¡n cáº§n xÃ¡c Ä‘á»‹nh Ä‘Æ°á»ng dáº«n tá»‡p cáº¥u hÃ¬nh MySQL.</p><p>TrÃªn cÃ¡c há»‡ Ä‘iá»u hÃ nh Linux khÃ¡c nhau, Ä‘Æ°á»ng dáº«n tá»‡p cáº¥u hÃ¬nh MySQL cÃ³ thá»ƒ khÃ¡c nhau. ÄÆ°á»ng dáº«n thÃ´ng thÆ°á»ng lÃ  /etc/my.cnf hoáº·c /etc/mysql/my.cnf.</p><p>Náº¿u báº¡n khÃ´ng biáº¿t Ä‘Æ°á»ng dáº«n tá»‡p cáº¥u hÃ¬nh, báº¡n cÃ³ thá»ƒ thá»­ cÃ¡c bÆ°á»›c sau:</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># which mysqld</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># /usr/sbin/mysqld --verbose --help | grep -A 1 &#39;Default options&#39;</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Default</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> options</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> read</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> following</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> files</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> given</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> order:</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">/etc/my.cnf</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /etc/mysql/my.cnf</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /usr/etc/my.cnf</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> ~/.my.cnf</span></span></code></pre></div><h3 id="cu-phap-cau-hinh" tabindex="-1"><a class="header-anchor" href="#cu-phap-cau-hinh"><span>CÃº phÃ¡p cáº¥u hÃ¬nh</span></a></h3><p><strong>CÃ¡c cáº¥u hÃ¬nh MySQL Ä‘Æ°á»£c thiáº¿t láº­p báº±ng chá»¯ thÆ°á»ng, cÃ¡c tá»« khÃ³a Ä‘Æ°á»£c phÃ¢n tÃ¡ch báº±ng dáº¥u gáº¡ch dÆ°á»›i (<code>_</code>) hoáº·c dáº¥u gáº¡ch ngang (<code>-</code>).</strong></p><p>Äá» nghá»‹ sá»­ dá»¥ng má»™t kiá»ƒu cÃº phÃ¡p cá»‘ Ä‘á»‹nh Ä‘á»ƒ dá»… dÃ ng tÃ¬m kiáº¿m cÃ¡c cáº¥u hÃ¬nh.</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Hai Ä‘á»‹nh dáº¡ng sau Ä‘Ã¢y tÆ°Æ¡ng Ä‘Æ°Æ¡ng nhau</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> --auto-increment-offset=5</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">/usr/sbin/mysqld</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> --auto_increment_offset=5</span></span></code></pre></div><h3 id="giai-thich-cac-cau-hinh-pho-bien" tabindex="-1"><a class="header-anchor" href="#giai-thich-cac-cau-hinh-pho-bien"><span>Giáº£i thÃ­ch cÃ¡c cáº¥u hÃ¬nh phá»• biáº¿n</span></a></h3><blockquote><p>ÄÃ¢y lÃ  má»™t sá»‘ cáº¥u hÃ¬nh cÆ¡ báº£n phá»• biáº¿n, báº¡n cÃ³ thá»ƒ tham kháº£o thÃªm: [[MySQL Configuration]]</p></blockquote><p>DÆ°á»›i Ä‘Ã¢y lÃ  má»™t máº«u cáº¥u hÃ¬nh phá»• biáº¿n, ná»™i dung nhÆ° sau:</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># GENERAL</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">datadir</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">pid_file</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.pid</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">user</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">port</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">default_storage_engine</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">default_time_zone</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;+8:00&#39;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">character_set_server</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">collation_server</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> utf8mb4_0900_ai_ci</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># LOG</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">log_error</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/log/mysql/mysql-error.log</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">slow_query_log</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">slow_query_log_file</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/log/mysql/mysql-slow.log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># InnoDB</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">innodb_log_file_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">innodb_file_per_table</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">innodb_flush_method</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> O_DIRECT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># MyIsam</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">key_buffer_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># OTHER</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">tmp_table_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">max_heap_table_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">query_cache_type</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">query_cache_size</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">max_connections</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">thread_cache</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">open_files_limit</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 65535</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">port</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> 3306</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>GENERAL <ul><li><code>datadir</code> - ÄÆ°á»ng dáº«n thÆ° má»¥c dá»¯ liá»‡u MySQL</li><li><code>socket</code> - Tá»‡p socket</li><li><code>pid_file</code> - Tá»‡p PID</li><li><code>user</code> - NgÆ°á»i dÃ¹ng khá»Ÿi Ä‘á»™ng quy trÃ¬nh dá»‹ch vá»¥ MySQL</li><li><code>port</code> - Sá»‘ cá»•ng dá»‹ch vá»¥, máº·c Ä‘á»‹nh lÃ  <code>3306</code></li><li><code>default_storage_engine</code> - Äá»™ng cÆ¡ lÆ°u trá»¯ máº·c Ä‘á»‹nh cá»§a MySQL tá»« phiÃªn báº£n 5.1 trá»Ÿ Ä‘i lÃ  InnoDB</li><li><code>default_time_zone</code> - MÃºi giá» máº·c Ä‘á»‹nh. Háº§u háº¿t cÃ¡c khu vá»±c cá»§a Trung Quá»‘c náº±m trong mÃºi giá» GMT+8, tá»©c lÃ  <code>+8:00</code></li><li><code>character_set_server</code> - Bá»™ kÃ½ tá»± máº·c Ä‘á»‹nh cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u</li><li><code>collation_server</code> - Bá»™ kÃ½ tá»± cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u tÆ°Æ¡ng á»©ng vá»›i má»™t sá»‘ quy táº¯c sáº¯p xáº¿p, hÃ£y cháº¯c cháº¯n ráº±ng nÃ³ phÃ¹ há»£p vá»›i <code>character_set_server</code></li></ul></li><li>LOG <ul><li><code>log_error</code> - ÄÆ°á»ng dáº«n tá»‡p nháº­t kÃ½ lá»—i</li><li><code>slow_query_log</code> - CÃ³ báº­t nháº­t kÃ½ truy váº¥n cháº­m hay khÃ´ng</li><li><code>slow_query_log_file</code> - ÄÆ°á»ng dáº«n tá»‡p nháº­t kÃ½ truy váº¥n cháº­m</li></ul></li><li>InnoDB <ul><li><code>innodb_buffer_pool_size</code> - InnoDB sá»­ dá»¥ng má»™t bá»™ nhá»› Ä‘á»‡m Ä‘á»ƒ lÆ°u trá»¯ chá»‰ má»¥c vÃ  dá»¯ liá»‡u gá»‘c, khÃ´ng giá»‘ng nhÆ° MyISAM. KÃ­ch thÆ°á»›c bá»™ nhá»› Ä‘á»‡m cÃ ng lá»›n, sá»‘ láº§n I/O Ä‘Ä©a cáº§n thiáº¿t Ä‘á»ƒ truy cáº­p dá»¯ liá»‡u trong báº£ng cÃ ng Ã­t. <ul><li>TrÃªn má»™t mÃ¡y chá»§ cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘á»™c láº­p, báº¡n cÃ³ thá»ƒ Ä‘áº·t biáº¿n nÃ y thÃ nh 60% - 80% cá»§a kÃ­ch thÆ°á»›c bá»™ nhá»› váº­t lÃ½ cá»§a mÃ¡y chá»§.</li><li>LÆ°u Ã½ khÃ´ng Ä‘áº·t giÃ¡ trá»‹ quÃ¡ lá»›n, náº¿u khÃ´ng sáº½ chiáº¿m dá»¥ng khÃ´ng gian swap cá»§a há»‡ thá»‘ng, lÃ m cháº­m há»‡ Ä‘iá»u hÃ nh vÃ  giáº£m hiá»‡u suáº¥t truy váº¥n SQL.</li><li>GiÃ¡ trá»‹ máº·c Ä‘á»‹nh: 128M, giÃ¡ trá»‹ Ä‘á» nghá»‹: 60% - 80% cá»§a bá»™ nhá»› váº­t lÃ½</li></ul></li><li><code>innodb_log_file_size</code> - KÃ­ch thÆ°á»›c tá»‡p nháº­t kÃ½. GiÃ¡ trá»‹ máº·c Ä‘á»‹nh: 48M, giÃ¡ trá»‹ Ä‘á» nghá»‹: Ä‘iá»u chá»‰nh kÃ­ch thÆ°á»›c dá»±a trÃªn khÃ´ng gian Ä‘Ä©a cá»§a há»‡ thá»‘ng vÃ  tá»‘c Ä‘á»™ tÄƒng nháº­t kÃ½</li><li><code>innodb_file_per_table</code> - Giáº£i thÃ­ch: Máº·c Ä‘á»‹nh tá»« MySQL 5.7 trá»Ÿ Ä‘i, má»—i báº£ng cÃ³ má»™t khÃ´ng gian báº£ng riÃªng. GiÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  1, báº­t.</li><li><code>innodb_flush_method</code> - Giáº£i thÃ­ch: Äiá»u khiá»ƒn cÃ¡ch má»Ÿ vÃ  ghi tá»‡p dá»¯ liá»‡u vÃ  nháº­t kÃ½ redo cá»§a InnoDB, cÃ³ ba cháº¿ Ä‘á»™: fdatasync (máº·c Ä‘á»‹nh), O_DSYNC, O_DIRECT. GiÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  rá»—ng, giÃ¡ trá»‹ Ä‘á» nghá»‹: sá»­ dá»¥ng SAN hoáº·c RAID, Ä‘á» nghá»‹ sá»­ dá»¥ng O_DIRECT, náº¿u khÃ´ng hiá»ƒu thÃ¬ máº·c Ä‘á»‹nh sá»­ dá»¥ng O_DIRECT trong mÃ´i trÆ°á»ng sáº£n xuáº¥t <ul><li><code>fdatasync</code>: Dá»¯ liá»‡u tá»‡p, bá»™ Ä‘á»‡m OS -&gt; bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a; Tá»‡p nháº­t kÃ½, bá»™ Ä‘á»‡m OS -&gt; bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a;</li><li><code>O_DSYNC</code>: Dá»¯ liá»‡u tá»‡p, bá»™ Ä‘á»‡m OS -&gt; bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a; Tá»‡p nháº­t kÃ½, bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a;</li><li><code>O_DIRECT</code>: Dá»¯ liá»‡u tá»‡p, bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a; Tá»‡p nháº­t kÃ½, bá»™ Ä‘á»‡m OS -&gt; bá»™ Ä‘á»‡m OS -&gt; Ä‘Ä©a;</li></ul></li></ul></li><li>MyIsam <ul><li><code>key_buffer_size</code> - XÃ¡c Ä‘á»‹nh kÃ­ch thÆ°á»›c bá»™ Ä‘á»‡m chá»‰ má»¥c, cho phÃ©p chia sáº» giá»¯a cÃ¡c luá»“ng cho báº£ng MyISAM, khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n InnoDB. áº¢nh hÆ°á»Ÿng Ä‘Ã¡ng ká»ƒ Ä‘áº¿n hiá»‡u suáº¥t cá»§a MyISAM. <ul><li>KhÃ´ng nÃªn Ä‘áº·t giÃ¡ trá»‹ lá»›n hÆ¡n 30% dung lÆ°á»£ng bá»™ nhá»› kháº£ dá»¥ng, vÃ¬ má»™t pháº§n bá»™ nhá»› cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi há»‡ Ä‘iá»u hÃ nh Ä‘á»ƒ Ä‘á»‡m dá»¯ liá»‡u hÃ ng.</li><li>Tháº­m chÃ­ trong trÆ°á»ng há»£p báº¡n khÃ´ng sá»­ dá»¥ng báº£ng MyISAM, báº¡n váº«n nÃªn Ä‘áº·t giÃ¡ trá»‹ tá»« 8-64M bá»Ÿi vÃ¬ nÃ³ cÅ©ng Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi cÃ¡c báº£ng táº¡m thá»i ná»™i bá»™.</li><li>GiÃ¡ trá»‹ máº·c Ä‘á»‹nh: 8M, giÃ¡ trá»‹ Ä‘á» nghá»‹: 256M hoáº·c 384M Ä‘á»‘i vá»›i mÃ¡y chá»§ cÃ³ 4GB RAM.</li><li>LÆ°u Ã½: Äáº·t giÃ¡ trá»‹ quÃ¡ lá»›n sáº½ lÃ m giáº£m hiá»‡u suáº¥t tá»•ng thá»ƒ cá»§a mÃ¡y chá»§!</li></ul></li></ul></li><li>OTHER <ul><li><code>tmp_table_size</code> - KÃ­ch thÆ°á»›c tá»‘i Ä‘a cá»§a báº£ng táº¡m thá»i trong bá»™ nhá»›, máº·c Ä‘á»‹nh lÃ  16M, á»Ÿ Ä‘Ã¢y Ä‘áº·t thÃ nh 128M</li><li><code>max_heap_table_size</code> - KÃ­ch thÆ°á»›c cá»§a báº£ng táº¡m thá»i Ä‘Æ°á»£c táº¡o bá»Ÿi ngÆ°á»i dÃ¹ng trong bá»™ nhá»›, máº·c Ä‘á»‹nh lÃ  16M, thÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t cÃ¹ng vá»›i <code>tmp_table_size</code> Ä‘á»ƒ giá»›i háº¡n kÃ­ch thÆ°á»›c báº£ng táº¡m thá»i cá»§a ngÆ°á»i dÃ¹ng. Náº¿u vÆ°á»£t quÃ¡ giá»›i háº¡n, MySQL sáº½ tá»± Ä‘á»™ng chuyá»ƒn nÃ³ thÃ nh báº£ng MyISAM dá»±a trÃªn Ä‘Ä©a, lÆ°u trá»¯ trong thÆ° má»¥c tmpdir Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh, tÄƒng táº£i I/O, Ä‘á» nghá»‹ tÄƒng kÃ­ch thÆ°á»›c khi cÃ³ nhiá»u bá»™ nhá»›.</li><li><code>query_cache_type</code> - Biáº¿n há»‡ thá»‘ng nÃ y Ä‘iá»u khiá»ƒn viá»‡c báº­t vÃ  táº¯t chá»©c nÄƒng bá»™ nhá»› cache truy váº¥n, 0 Ä‘á»ƒ táº¯t, 1 Ä‘á»ƒ báº­t, 2 Ä‘á»ƒ chá»‰ bá»™ nhá»› cache truy váº¥n khi <code>select</code> Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh <code>SQL_CACHE</code>.</li><li><code>query_cache_size</code> - GiÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  1M, Æ°u Ä‘iá»ƒm cá»§a bá»™ nhá»› cache truy váº¥n lÃ  nÃ³ cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ tá»‘c Ä‘á»™ cá»§a mÃ¡y chá»§. Náº¿u báº¡n cÃ³ nhiá»u truy váº¥n giá»‘ng nhau vÃ  Ã­t thay Ä‘á»•i báº£ng, bá»™ nhá»› cache truy váº¥n cÃ³ thá»ƒ lÃ m giáº£m hiá»‡u suáº¥t thay vÃ¬ tÄƒng hiá»‡u suáº¥t.</li><li><code>max_connections</code> - Sá»‘ káº¿t ná»‘i tá»‘i Ä‘a, cÃ³ thá»ƒ Ä‘áº·t giÃ¡ trá»‹ tá»‘i Ä‘a lÃ  16384, thÆ°á»ng xem xÃ©t má»™t sá»‘ tá»•ng há»£p dá»±a trÃªn sá»‘ ngÆ°á»i dÃ¹ng Ä‘á»“ng thá»i trá»±c tuyáº¿n, náº¿u thÆ°á»ng xuyÃªn gáº·p thÃ´ng bÃ¡o lá»—i &quot;Too Many Connections&quot; khi truy cáº­p, báº¡n cáº§n tÄƒng giÃ¡ trá»‹ nÃ y.</li><li><code>thread_cache</code> - Khi khÃ¡ch hÃ ng ngáº¯t káº¿t ná»‘i, mÃ¡y chá»§ xá»­ lÃ½ khÃ¡ch hÃ ng nÃ y sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ trong bá»™ nhá»› cache Ä‘á»ƒ phá»¥c vá»¥ khÃ¡ch hÃ ng tiáº¿p theo thay vÃ¬ bá»‹ há»§y bá». CÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng, giáº£m chi phÃ­ há»‡ thá»‘ng. GiÃ¡ trá»‹ máº·c Ä‘á»‹nh lÃ  9, giÃ¡ trá»‹ Ä‘á» nghá»‹: hai cÃ¡ch láº¥y giÃ¡ trá»‹, <ul><li>CÃ¡ch 1, dá»±a trÃªn bá»™ nhá»› váº­t lÃ½, 1G -&gt; 8; 2G -&gt; 16; 3G -&gt; 32;&gt; 3G -&gt; 64;</li><li>CÃ¡ch 2, dá»±a trÃªn <code>show status like &#39;threads%&#39;</code>, xem giÃ¡ trá»‹ Threads_connected.</li></ul></li><li><code>open_files_limit</code> - Giá»›i háº¡n sá»‘ mÃ´ táº£ tá»‡p mÃ  MySQL má»Ÿ, máº·c Ä‘á»‹nh tá»‘i thiá»ƒu lÃ  1024; <ul><li>Khi open_files_limit khÃ´ng Ä‘Æ°á»£c cáº¥u hÃ¬nh, so sÃ¡nh max_connections * 5 vÃ  giÃ¡ trá»‹ ulimit -n, sá»­ dá»¥ng giÃ¡ trá»‹ lá»›n hÆ¡n,</li><li>Khi open_file_limit Ä‘Æ°á»£c cáº¥u hÃ¬nh, so sÃ¡nh open_files_limit vÃ  max_connections * 5, sá»­ dá»¥ng giÃ¡ trá»‹ lá»›n hÆ¡n</li><li>LÆ°u Ã½: Váº«n cÃ³ thá»ƒ xáº£y ra lá»—i &quot;Can&#39;t create a new thread&quot;; trong trÆ°á»ng há»£p nÃ y, quan sÃ¡t giá»›i háº¡n ulimit cá»§a há»‡ thá»‘ng <code>cat /proc/mysql</code> tiáº¿n trÃ¬nh / giá»›i háº¡n, quan sÃ¡t giá»›i háº¡n ulimit cá»§a tiáº¿n trÃ¬nh <code>cat /proc/mysql</code> / giá»›i háº¡n</li><li>Náº¿u giÃ¡ trá»‹ quÃ¡ nhá», xem xÃ©t sá»­a báº£ng cáº¥u hÃ¬nh há»‡ thá»‘ng, <code>/etc/security/limits.conf</code> vÃ  <code>/etc/security/limits.d/90-nproc.conf</code></li></ul></li></ul></li></ul><h2 id="cac-van-Ä‘e-thuong-gap" tabindex="-1"><a class="header-anchor" href="#cac-van-Ä‘e-thuong-gap"><span>CÃ¡c váº¥n Ä‘á» thÆ°á»ng gáº·p</span></a></h2><h3 id="qua-nhieu-ket-noi-too-many-connections" tabindex="-1"><a class="header-anchor" href="#qua-nhieu-ket-noi-too-many-connections"><span>QuÃ¡ nhiá»u káº¿t ná»‘i (Too many connections)</span></a></h3><p><strong>Hiá»‡n tÆ°á»£ng</strong></p><p>Khi cá»‘ gáº¯ng káº¿t ná»‘i vá»›i MySQL, báº¡n gáº·p pháº£i lá»—i &quot;Too many connections&quot;.</p><p><strong>NguyÃªn nhÃ¢n</strong></p><p>Sá»‘ lÆ°á»£ng luá»“ng káº¿t ná»‘i vÆ°á»£t quÃ¡ giÃ¡ trá»‹ tá»‘i Ä‘a, tá»« chá»‘i truy cáº­p.</p><p><strong>Giáº£i phÃ¡p</strong></p><p>Náº¿u sá»‘ lÆ°á»£ng luá»“ng káº¿t ná»‘i thá»±c táº¿ quÃ¡ lá»›n, báº¡n cÃ³ thá»ƒ xem xÃ©t thÃªm cÃ¡c mÃ¡y chá»§ Ä‘á»ƒ phÃ¢n táº£i cÃ´ng viá»‡c; náº¿u sá»‘ lÆ°á»£ng luá»“ng thá»±c táº¿ khÃ´ng quÃ¡ lá»›n, báº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh <code>max_connections</code> Ä‘á»ƒ tÄƒng sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a Ä‘Æ°á»£c cho phÃ©p. LÆ°u Ã½ ráº±ng sá»‘ lÆ°á»£ng káº¿t ná»‘i khÃ´ng nÃªn quÃ¡ lá»›n, thÃ´ng thÆ°á»ng, má»—i giÃ¢y cÃ³ khoáº£ng 2000 káº¿t ná»‘i Ä‘á»“ng thá»i, báº¡n cÃ³ thá»ƒ xem xÃ©t má»Ÿ rá»™ng khi sá»‘ lÆ°á»£ng káº¿t ná»‘i Ä‘á»“ng thá»i Ä‘áº¡t khoáº£ng 1000 káº¿t ná»‘i má»—i giÃ¢y.</p><p>(1) Xem sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show variables </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;%max_connections%&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| Variable_name          | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">Value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| max_connections        | </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">151</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| mysqlx_max_connections | </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">------------------------+-------+</span></span></code></pre></div><p>(2) Xem sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a mÃ  mÃ¡y chá»§ Ä‘Ã£ pháº£n há»“i</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mysql</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> show </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">global</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> like</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;Max_used_connections&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| Variable_name        | </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">Value</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">| Max_used_connections | </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">142</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">   |</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------------------+-------+</span></span>
<span class="line"><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> row</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> sec)</span></span></code></pre></div><p>(3) Äáº·t sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a táº¡m thá»i</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> GLOBAL</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> max_connections</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">256</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>LÆ°u Ã½: Khi mÃ¡y chá»§ khá»Ÿi Ä‘á»™ng láº¡i, sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a sáº½ Ä‘Æ°á»£c Ä‘áº·t láº¡i.</p><p>(4) Äáº·t sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a vÄ©nh viá»…n</p><p>Chá»‰nh sá»­a tá»‡p cáº¥u hÃ¬nh <code>/etc/my.cnf</code>, thÃªm cáº¥u hÃ¬nh sau vÃ o pháº§n <code>[mysqld]</code>:</p><div class="language-sql" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">max_connections</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">256</span></span></code></pre></div><p>Khá»Ÿi Ä‘á»™ng láº¡i MySQL Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i.</p><p>(5) Sá»­a giá»›i háº¡n sá»‘ tá»‡p tá»‘i Ä‘a trÃªn Linux</p><p>Sá»‘ lÆ°á»£ng káº¿t ná»‘i tá»‘i Ä‘a cá»§a MySQL sáº½ bá»‹ giá»›i háº¡n bá»Ÿi sá»‘ lÆ°á»£ng tá»‡p tá»‘i Ä‘a, <code>vim /etc/security/limits.conf</code>, thÃªm cáº¥u hÃ¬nh cho ngÆ°á»i dÃ¹ng mysql:</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>mysql hard nofile 65535</span></span>
<span class="line"><span>mysql soft nofile 65535</span></span></code></pre></div><p>(6) Kiá»ƒm tra giá»›i háº¡n LimitNOFILE</p><p>Náº¿u báº¡n cÃ i Ä‘áº·t MySQL báº±ng cÃ¡ch sá»­ dá»¥ng rpm, hÃ£y kiá»ƒm tra xem tá»‡p <strong>mysqld.service</strong> cÃ³ chá»©a cáº¥u hÃ¬nh <code>LimitNOFILE</code> khÃ´ng.</p><h3 id="cach-sua-chua-bang-du-lieu-bi-hong" tabindex="-1"><a class="header-anchor" href="#cach-sua-chua-bang-du-lieu-bi-hong"><span>CÃ¡ch sá»­a chá»¯a báº£ng dá»¯ liá»‡u bá»‹ há»ng</span></a></h3><p>Äá»ƒ sá»­a chá»¯a báº£ng dá»¯ liá»‡u bá»‹ há»ng, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p sau:</p><p>Sá»­ dá»¥ng <code>myisamchk</code>:</p><ol><li>TrÆ°á»›c khi sá»­a chá»¯a, dá»«ng dá»‹ch vá»¥ MySQL.</li><li>Má»Ÿ cá»­a sá»• dÃ²ng lá»‡nh vÃ  Ä‘iá»u hÆ°á»›ng Ä‘áº¿n thÆ° má»¥c <code>bin</code> cá»§a MySQL.</li><li>Cháº¡y lá»‡nh <code>myisamchk â€“recover</code> vá»›i Ä‘Æ°á»ng dáº«n Ä‘áº¿n tá»‡p <code>.MYI</code> cá»§a cÆ¡ sá»Ÿ dá»¯ liá»‡u.</li></ol><p>Sá»­ dá»¥ng lá»‡nh <code>REPAIR TABLE</code> hoáº·c <code>OPTIMIZE TABLE</code>:</p><ul><li><code>REPAIR TABLE table_name</code> Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ sá»­a chá»¯a báº£ng bá»‹ há»ng.</li><li><code>OPTIMIZE TABLE table_name</code> Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tá»‘i Æ°u hÃ³a báº£ng vÃ  giáº£i phÃ³ng khÃ´ng gian khÃ´ng sá»­ dá»¥ng. Khi cÃ¡c hÃ ng dá»¯ liá»‡u trÃªn báº£ng bá»‹ xÃ³a, khÃ´ng gian trÃªn Ä‘Ä©a khÃ´ng Ä‘Æ°á»£c giáº£i phÃ³ng ngay láº­p tá»©c. Sá»­ dá»¥ng lá»‡nh <code>OPTIMIZE TABLE</code> sáº½ giáº£i phÃ³ng khÃ´ng gian nÃ y vÃ  sáº¯p xáº¿p láº¡i cÃ¡c hÃ ng dá»¯ liá»‡u trÃªn Ä‘Ä©a (lÆ°u Ã½: trÃªn Ä‘Ä©a, khÃ´ng pháº£i trong cÆ¡ sá»Ÿ dá»¯ liá»‡u).</li></ul><h3 id="cau-truc-du-lieu" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-lieu"><span>Cáº¥u trÃºc dá»¯ liá»‡u</span></a></h3><blockquote><p><strong>Hiá»‡n tÆ°á»£ng váº¥n Ä‘á»</strong>: ERROR 1071: Specified key was too long; max key length is 767 bytes</p></blockquote><p><strong>NguyÃªn nhÃ¢n váº¥n Ä‘á»</strong>: Máº·c Ä‘á»‹nh, MySQL khÃ´ng cho phÃ©p táº¡o chá»‰ má»¥c (index) trÃªn má»™t cá»™t vá»›i Ä‘á»™ dÃ i vÆ°á»£t quÃ¡ 767 byte (cÃ³ thá»ƒ khÃ¡c nhau Ä‘á»‘i vá»›i cÃ¡c phiÃªn báº£n khÃ¡c nhau).</p><p><strong>Giáº£i phÃ¡p</strong>: Tá»‘i Æ°u hÃ³a cáº¥u trÃºc chá»‰ má»¥c báº±ng cÃ¡ch giáº£m Ä‘á»™ dÃ i cá»§a cÃ¡c trÆ°á»ng chá»‰ má»¥c. TrÃ¡nh sá»­ dá»¥ng cÃ¡c trÆ°á»ng quÃ¡ dÃ i cho chá»‰ má»¥c.</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vanhung4499/my-wiki/edit/main/src/database/mysql/opearation.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: vanhung4499@gmail.com">Hung Nguyen Van</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon>MySQL Optimization</div></a><a class="route-link auto-link next" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><div class="hint">Next<span class="arrow end"></span></div><div class="link">MySQL Configuration<iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper" style="display:none;--1ea755b8:;"><div class="footer-content"><div class="footer">Made with â¤ï¸ by Hung Nguyen</div><div class="copyright">Copyright Â© 2016-2024 Hung Nguyen</div></div><span id="runtime_span"></span></footer></div><!--]--><!--[--><!----><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-5QVbWi7Z.js" defer></script>
  </body>
</html>
