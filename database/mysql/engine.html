<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.12" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.46" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vanhung4499.github.io/database/mysql/engine.html"><meta property="og:site_name" content="vanhung4499"><meta property="og:title" content="MySQL Storage Engine"><meta property="og:description" content="MySQL Storage Engine Các storage engine trong MySQL Trong hệ thống tệp, MySQL lưu mỗi cơ sở dữ liệu (cũng có thể gọi là schema) dưới dạng một thư mục con trong thư mục dữ liệu. ..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-06-26T14:44:55.000Z"><meta property="article:author" content="Hung Nguyen"><meta property="article:tag" content="mysql"><meta property="article:modified_time" content="2024-06-26T14:44:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL Storage Engine","image":["https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406812.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416178.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416527.png"],"dateModified":"2024-06-26T14:44:55.000Z","author":[{"@type":"Person","name":"Hung Nguyen","url":"https://vanhung4499.github.io","email":"vanhung4499@gmail.com"}]}</script><meta name="robots" content="all"><meta name="author" content="Hung Nguyen"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="keywords" content="Java, JVM, MySQL, Spring, Redis, MyBatis, SpringBoot, Frontend, Backend, Fullstack, DevOps, Hackintosh"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><title>MySQL Storage Engine | vanhung4499</title><meta name="description" content="MySQL Storage Engine Các storage engine trong MySQL Trong hệ thống tệp, MySQL lưu mỗi cơ sở dữ liệu (cũng có thể gọi là schema) dưới dạng một thư mục con trong thư mục dữ liệu. ...">
    <link rel="preload" href="/assets/style-CQc2aIVV.css" as="style"><link rel="stylesheet" href="/assets/style-CQc2aIVV.css">
    <link rel="modulepreload" href="/assets/app-C-_dXKvP.js"><link rel="modulepreload" href="/assets/engine.html-DP-6GyS3.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">vanhung4499</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->Home<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog.html" aria-label="Blog"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-blog" style=""></span><!--]-->Blog<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/dsa/" aria-label="Algorithm"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-lightbulb" style=""></span><!--]-->Algorithm<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Programming"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>Programming<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/java/" aria-label="Java"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/golang/" aria-label="Golang"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-golang" style=""></span><!--]-->Golang<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/js/" aria-label="JavaScript"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-js" style=""></span><!--]-->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/ts/" aria-label="TypeScript"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-t" style=""></span><!--]-->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/python/" aria-label="Python"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-python" style=""></span><!--]-->Python<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Database"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span>Database<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/sql/" aria-label="SQL"><!---->SQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/database/mysql/" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/mongodb/" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/redis/" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elasticsearch/" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Framework"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-server" style=""></span>Framework<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/spring/" aria-label="Spring"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/nestjs/" aria-label="NestJS"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-js" style=""></span><!--]-->NestJS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/backend/gin/" aria-label="Gin"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-golang" style=""></span><!--]-->Gin<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="DevOps"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-tools" style=""></span>DevOps<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/docker/" aria-label="Docker"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-docker" style=""></span><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/kubernetes/" aria-label="Kubernetes"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-kubernetes" style=""></span><!--]-->Kubernetes<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/jenkins/" aria-label="Jenkins"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-jenkins" style=""></span><!--]-->Jenkins<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/git/" aria-label="Git"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-github" style=""></span><!--]-->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/linux/" aria-label="Linux"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-linux" style=""></span><!--]-->Linux<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Design"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-paint-brush" style=""></span>Design<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/design-pattern/" aria-label="Design Pattern"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-paint-brush" style=""></span><!--]-->Design Pattern<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/system-design/" aria-label="System Design"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-gear" style=""></span><!--]-->System Design<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/projects/" aria-label="Projects"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-project-diagram" style=""></span><!--]-->Projects<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="About"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-circle-info" style=""></span>About<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/me.html" aria-label="Me"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-circle-info" style=""></span><!--]-->Me<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about/" aria-label="Page"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-file" style=""></span><!--]-->Page<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vanhung4499/vanhung4499.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/overview.html" aria-label="MySQL Overview"><!---->MySQL Overview<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/guide.html" aria-label="MySQL Guide"><!---->MySQL Guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><!---->MySQL Architecture<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link vp-sidebar-page active" href="/database/mysql/engine.html" aria-label="MySQL Storage Engine"><!---->MySQL Storage Engine<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><!---->MySQL Index<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/transaction.html" aria-label="MySQL Transaction"><!---->MySQL Transaction<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/lock.html" aria-label="Lock"><!---->Lock<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/replication.html" aria-label="MySQL Replication"><!---->MySQL Replication<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><!---->MySQL Optimization<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/opearation.html" aria-label="MySQL Opearation"><!---->MySQL Opearation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><!---->MySQL Configuration<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MongoDB</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Elasticsearch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Elastic Stack</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQL Storage Engine</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://vanhung4499.github.io" target="_blank" rel="noopener noreferrer">Hung Nguyen</a></span><span property="author" content="Hung Nguyen"></span></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="articleSection" content="mysql"></span><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-26T14:44:55.000Z"></span><!----><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="keywords" content="mysql"></span><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 17 min</span><meta property="timeRequired" content="PT17M"></span><span class="page-word-info" aria-label="Words🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>About 5044 words</span><meta property="wordCount" content="5044"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-storage-engine-trong-mysql">Các storage engine trong MySQL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-thao-tac-lien-quan-đen-storage-engine">Các thao tác liên quan đến storage engine</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lenh-show-storage-engine">Lệnh show storage engine</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-lenh-thiet-lap-storage-engine">Các lệnh thiết lập storage engine</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lenh-tao-va-thay-đoi-storage-engine">Lệnh tạo và thay đổi storage engine</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#gioi-thieu-ve-cac-storage-engine-mysql">Giới thiệu về các storage engine MySQL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cac-storage-engine-tich-hop-trong-mysql">Các storage engine tích hợp trong MySQL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cach-chon-storage-engine-phu-hop">Cách chọn storage engine phù hợp</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#gioi-thieu-ve-innodb">Giới thiệu về InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-tep-vat-ly-cua-innodb">Cấu trúc tệp vật lý của InnoDB:</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#kien-truc-luu-tru-innodb">Kiến trúc lưu trữ InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-bo-nho-cua-innodb">Cấu trúc bộ nhớ của InnoDB:</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-đia-cua-innodb">Cấu trúc đĩa của InnoDB:</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#khong-gian-bang-innodb">Không gian bảng InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#dong-row">Dòng (Row)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#trang-page">Trang (Page)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vung-extent">Vùng (Extent)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#đoan-segment">Đoạn (Segment)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cau-truc-bo-nho-innodb">Cấu trúc bộ nhớ InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-đem-buffer-pool">Bộ đệm (Buffer Pool)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-đem-thay-đoi-change-buffer">Bộ đệm thay đổi (Change Buffer)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#chi-muc-bam-thich-nghi-adaptive-hash-index">Chỉ mục băm thích nghi (Adaptive Hash Index)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-đem-nhat-ky-log-buffer">Bộ đệm nhật ký (Log Buffer)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#myisam">MyISAM</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#so-sanh-innodb-va-myisam">So sánh InnoDB và MyISAM</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="mysql-storage-engine" tabindex="-1"><a class="header-anchor" href="#mysql-storage-engine"><span>MySQL Storage Engine</span></a></h1><h2 id="cac-storage-engine-trong-mysql" tabindex="-1"><a class="header-anchor" href="#cac-storage-engine-trong-mysql"><span>Các storage engine trong MySQL</span></a></h2><p>Trong hệ thống tệp, MySQL lưu mỗi cơ sở dữ liệu (cũng có thể gọi là schema) dưới dạng một thư mục con trong thư mục dữ liệu. Khi tạo bảng, MySQL sẽ tạo một tệp <code>.frm</code> cùng tên với bảng trong thư mục cơ sở dữ liệu để lưu định nghĩa của bảng. Vì MySQL sử dụng các thư mục và tệp hệ thống tệp để lưu định nghĩa cơ sở dữ liệu và bảng, tính nhạy cảm chữ hoa chữ thường phụ thuộc vào nền tảng cụ thể. Trong Windows, tính nhạy cảm chữ hoa chữ thường không được áp dụng; trong các hệ thống tương tự Unix, tính nhạy cảm chữ hoa chữ thường được áp dụng. <strong>Các storage engine khác nhau lưu trữ dữ liệu và chỉ mục theo cách khác nhau, nhưng định nghĩa bảng thì được xử lý thống nhất ở tầng dịch vụ của MySQL.</strong></p><p>MySQL sử dụng các storage engine dưới dạng plugin, mỗi storage engine nhắm đến một môi trường ứng dụng cơ sở dữ liệu cụ thể. Đồng thời, MySQL mã nguồn mở còn cho phép các nhà phát triển thiết lập các storage engine riêng của họ. Dưới đây là một số storage engine phổ biến:</p><ul><li>storage engine InnoDB: Đây là storage engine mặc định từ phiên bản MySQL 5.5 trở đi, với đặc điểm lớn nhất là hỗ trợ giao dịch, khóa cấp hàng, và ràng buộc khóa ngoại.</li><li>storage engine MyISAM: Là storage engine mặc định trước phiên bản MySQL 5.5, không hỗ trợ giao dịch, cũng không hỗ trợ khóa ngoại, nhưng có đặc điểm lớn nhất là tốc độ nhanh và chiếm ít tài nguyên.</li><li>storage engine Memory: Sử dụng bộ nhớ hệ thống làm phương tiện lưu trữ để có được tốc độ phản hồi nhanh hơn. Tuy nhiên, nếu quá trình mysqld bị sập, tất cả dữ liệu sẽ bị mất, do đó chỉ nên sử dụng storage engine Memory khi dữ liệu là tạm thời.</li><li>storage engine NDB: Còn được gọi là storage engine NDB Cluster, chủ yếu được sử dụng cho môi trường cụm phân tán MySQL Cluster, tương tự như cụm RAC của Oracle.</li><li>storage engine Archive: Có cơ chế nén tốt, dùng để lưu trữ tệp. Khi yêu cầu ghi dữ liệu, sẽ thực hiện nén, do đó thường được dùng để làm kho lưu trữ.</li></ul><h2 id="cac-thao-tac-lien-quan-đen-storage-engine" tabindex="-1"><a class="header-anchor" href="#cac-thao-tac-lien-quan-đen-storage-engine"><span>Các thao tác liên quan đến storage engine</span></a></h2><h3 id="lenh-show-storage-engine" tabindex="-1"><a class="header-anchor" href="#lenh-show-storage-engine"><span>Lệnh show storage engine</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Xem các storage engine được hỗ trợ</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW ENGINES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Xem storage engine mặc định</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW VARIABLES </span><span style="color:#D73A49;--shiki-dark:#C678DD;">LIKE</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;storage_engine&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Xem storage engine của một bảng cụ thể</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#032F62;--shiki-dark:#98C379;"> `table_name`</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Xem storage engine của một bảng cụ thể trong một cơ sở dữ liệu</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#D73A49;--shiki-dark:#C678DD;">TABLE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> STATUS</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> LIKE</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;table_name&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#D73A49;--shiki-dark:#C678DD;">TABLE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> STATUS</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> FROM</span><span style="color:#032F62;--shiki-dark:#98C379;"> `database_name`</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> WHERE</span><span style="color:#032F62;--shiki-dark:#98C379;"> `name`</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;table_name&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cac-lenh-thiet-lap-storage-engine" tabindex="-1"><a class="header-anchor" href="#cac-lenh-thiet-lap-storage-engine"><span>Các lệnh thiết lập storage engine</span></a></h2><h3 id="lenh-tao-va-thay-đoi-storage-engine" tabindex="-1"><a class="header-anchor" href="#lenh-tao-va-thay-đoi-storage-engine"><span>Lệnh tạo và thay đổi storage engine</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Chỉ định storage engine khi tạo bảng, nếu không chỉ định rõ, mặc định là INNODB</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> t1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#D73A49;--shiki-dark:#C678DD;">INT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> INNODB;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> t2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#D73A49;--shiki-dark:#C678DD;">INT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> CSV;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> t3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#D73A49;--shiki-dark:#C678DD;">INT</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> MEMORY;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Thay đổi storage engine</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">ALTER</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> t ENGINE </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> InnoDB;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;"># Thay đổi storage engine mặc định, cũng có thể thay đổi trong tệp cấu hình </span><span style="color:#005CC5;--shiki-dark:#D19A66;">my</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#005CC5;--shiki-dark:#D19A66;">cnf</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">SET</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> default_storage_engine</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">NDBCLUSTER;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mặc định, mỗi khi <code>CREATE TABLE</code> hoặc <code>ALTER TABLE</code> không thể sử dụng storage engine mặc định, sẽ tạo ra một cảnh báo. Để ngăn chặn hành vi gây nhầm lẫn khi storage engine yêu cầu không khả dụng, có thể kích hoạt chế độ <code>NO_ENGINE_SUBSTITUTION SQL</code>. Nếu bộ máy yêu cầu không khả dụng, thiết lập này sẽ tạo ra lỗi thay vì cảnh báo và sẽ không tạo hoặc thay đổi bảng.</p><h2 id="gioi-thieu-ve-cac-storage-engine-mysql" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-cac-storage-engine-mysql"><span>Giới thiệu về các storage engine MySQL</span></a></h2><h3 id="cac-storage-engine-tich-hop-trong-mysql" tabindex="-1"><a class="header-anchor" href="#cac-storage-engine-tich-hop-trong-mysql"><span>Các storage engine tích hợp trong MySQL</span></a></h3><ul><li><strong>InnoDB</strong> - InnoDB là storage engine mặc định từ phiên bản MySQL 5.5 trở đi. Nó cung cấp khóa cấp hàng và ràng buộc khóa ngoại. Hiệu suất tốt và hỗ trợ tự động phục hồi sau khi gặp sự cố.</li><li><strong>MyISAM</strong> - Trước phiên bản MySQL 5.5, MyISAM là storage engine mặc định. Nó có nhiều tính năng nhưng không hỗ trợ giao dịch, không hỗ trợ khóa cấp hàng và khóa ngoại, và không có khả năng phục hồi sau sự cố.</li><li><strong>CSV</strong> - Có thể xử lý tệp CSV như bảng MySQL, nhưng bảng này không hỗ trợ chỉ mục.</li><li><strong>Memory</strong> - Lưu trữ dữ liệu trong bộ nhớ để có tốc độ phản hồi nhanh hơn. Tuy nhiên, nếu quá trình mysqld gặp sự cố, tất cả dữ liệu sẽ bị mất.</li><li><strong>NDB</strong> - Còn gọi là storage engine NDB Cluster, chủ yếu dùng cho môi trường cụm phân tán MySQL Cluster, tương tự như cụm RAC của Oracle.</li><li><strong>Archive</strong> - storage engine Archive rất phù hợp để lưu trữ dữ liệu. <ul><li>storage engine Archive chỉ hỗ trợ thao tác <code>INSERT</code> và <code>SELECT</code>.</li><li>storage engine Archive sử dụng thuật toán nén zlib, với tỷ lệ nén có thể đạt 1:10.</li></ul></li></ul><h3 id="cach-chon-storage-engine-phu-hop" tabindex="-1"><a class="header-anchor" href="#cach-chon-storage-engine-phu-hop"><span>Cách chọn storage engine phù hợp</span></a></h3><p>Phần lớn trường hợp, InnoDB là lựa chọn đúng đắn, trừ khi cần các tính năng mà InnoDB không có.</p><p>Nếu ứng dụng cần chọn storage engine khác InnoDB, có thể xem xét các yếu tố sau:</p><ul><li><strong>Giao dịch</strong>: Nếu kịch bản kinh doanh là OLTP, thì InnoDB là storage engine được ưu tiên. Nếu không cần hỗ trợ giao dịch và chủ yếu là các thao tác SELECT và INSERT, MyISAM là lựa chọn tốt. Vì vậy, nếu MySQL được triển khai theo mô hình chủ - phụ và tách biệt đọc/ghi, có thể làm như sau: nút chính chỉ hỗ trợ ghi, bộ máy mặc định là InnoDB; nút phụ chỉ hỗ trợ đọc, bộ máy mặc định là MyISAM.</li><li><strong>Đồng thời</strong>: MyISAM chỉ hỗ trợ khóa cấp bảng, trong khi InnoDB hỗ trợ khóa cấp hàng. Do đó, InnoDB có hiệu suất đồng thời cao hơn.</li><li><strong>Khóa ngoại</strong>: InnoDB hỗ trợ khóa ngoại.</li><li><strong>Sao lưu</strong>: InnoDB hỗ trợ sao lưu nóng trực tuyến.</li><li><strong>Phục hồi sau sự cố</strong>: Khả năng hư hỏng sau sự cố của MyISAM cao hơn nhiều so với InnoDB, và tốc độ phục hồi cũng chậm hơn.</li><li><strong>Tính năng khác</strong>: MyISAM hỗ trợ bảng nén và chỉ mục dữ liệu không gian.</li></ul><h2 id="gioi-thieu-ve-innodb" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-innodb"><span>Giới thiệu về InnoDB</span></a></h2><p>InnoDB là storage engine mặc định từ phiên bản MySQL 5.5 trở đi. Chỉ nên sử dụng storage engine khác khi cần các tính năng mà InnoDB không hỗ trợ.</p><p>InnoDB cũng sử dụng cây B+ (B+Tree) làm cấu trúc chỉ mục, nhưng cách thực hiện cụ thể rất khác so với MyISAM. Trong MyISAM, tệp chỉ mục và tệp dữ liệu là tách biệt, tệp chỉ mục chỉ lưu trữ địa chỉ của bản ghi dữ liệu. Trong <strong>InnoDB, tệp dữ liệu của bảng chính là một cấu trúc chỉ mục B+Tree</strong>. Các nút lá (leaf node) của cây này chứa toàn bộ bản ghi dữ liệu. <strong>Chỉ mục này sử dụng khóa chính của bảng làm khóa</strong>, do đó, <strong>tệp dữ liệu của bảng InnoDB chính là chỉ mục chính</strong>.</p><p>InnoDB sử dụng MVCC (Multi-Version Concurrency Control) để hỗ trợ khả năng xử lý đồng thời cao, và thực hiện bốn mức độ cô lập tiêu chuẩn. Mức độ mặc định là đọc lặp lại (REPEATABLE READ) và sử dụng khóa khoảng (next-key locking) để ngăn chặn hiện tượng đọc ảo.</p><p>InnoDB được xây dựng dựa trên chỉ mục nhóm (clustered index), khác biệt lớn so với các storage engine khác. Dữ liệu được lưu trong chỉ mục, giúp tránh việc đọc từ đĩa trực tiếp, do đó cải thiện hiệu suất truy vấn.</p><p>InnoDB đã thực hiện nhiều tối ưu nội bộ, bao gồm đọc dữ liệu từ đĩa theo dự đoán, chỉ mục băm thích ứng tự động tạo để tăng tốc độ đọc, và vùng đệm chèn giúp tăng tốc độ chèn dữ liệu.</p><p>InnoDB hỗ trợ sao lưu nóng trực tuyến thực sự. Các storage engine khác không hỗ trợ sao lưu nóng trực tuyến; để có được chế độ xem nhất quán, cần phải dừng tất cả các thao tác ghi vào bảng, và trong môi trường đọc ghi hỗn hợp, việc dừng ghi cũng có thể đồng nghĩa với việc dừng đọc.</p><h3 id="cau-truc-tep-vat-ly-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-tep-vat-ly-cua-innodb"><span>Cấu trúc tệp vật lý của InnoDB:</span></a></h3><ul><li><strong>Tệp <code>.frm</code></strong>: Chứa thông tin siêu dữ liệu liên quan đến bảng, bao gồm thông tin định nghĩa cấu trúc bảng.</li><li><strong>Tệp <code>.ibd</code> hoặc <code>.ibdata</code></strong>: Chứa dữ liệu của InnoDB. Có hai cách lưu trữ dữ liệu InnoDB có thể được cấu hình: <ul><li><strong>Không gian bảng riêng lẻ (file-per-table)</strong>: Sử dụng tệp <code>.ibd</code>, mỗi bảng có một tệp <code>.ibd</code>.</li><li><strong>Không gian bảng chia sẻ (shared-tablespace)</strong>: Sử dụng tệp <code>.ibdata</code>, tất cả các bảng dùng chung một tệp <code>.ibdata</code> (hoặc nhiều tệp, có thể cấu hình).</li></ul></li></ul><h2 id="kien-truc-luu-tru-innodb" tabindex="-1"><a class="header-anchor" href="#kien-truc-luu-tru-innodb"><span>Kiến trúc lưu trữ InnoDB</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Kiến trúc lưu trữ của InnoDB được chia thành cấu trúc bộ nhớ và cấu trúc đĩa.</p><h3 id="cau-truc-bo-nho-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-bo-nho-cua-innodb"><span>Cấu trúc bộ nhớ của InnoDB:</span></a></h3><ul><li><strong>Buffer Pool</strong>: Vùng đệm chính lưu trữ dữ liệu và chỉ mục được đọc từ đĩa.</li><li><strong>Change Buffer</strong>: Vùng đệm thay đổi lưu trữ các thay đổi đối với chỉ mục không duy nhất.</li><li><strong>Adaptive Hash Index</strong>: Chỉ mục băm thích ứng tự động tạo để tăng tốc độ truy vấn.</li><li><strong>Log Buffer</strong>: Vùng đệm ghi lại các thay đổi trước khi được ghi vào tệp nhật ký.</li></ul><h3 id="cau-truc-đia-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-đia-cua-innodb"><span>Cấu trúc đĩa của InnoDB:</span></a></h3><ul><li><strong>Tablespace</strong>: Không gian lưu trữ các tệp dữ liệu và chỉ mục.</li><li><strong>Doublewrite Buffer</strong>: Vùng đệm ghi đôi để đảm bảo tính toàn vẹn dữ liệu.</li><li><strong>Redo log</strong>: Nhật ký ghi lại các thay đổi để phục hồi sau sự cố.</li><li><strong>Undo log</strong>: Nhật ký hoàn tác giúp hỗ trợ giao dịch và khôi phục trạng thái trước đó của dữ liệu.</li></ul><p>InnoDB mang lại nhiều lợi ích về hiệu suất và độ tin cậy nhờ các tính năng và cấu trúc lưu trữ tiên tiến.</p><h2 id="khong-gian-bang-innodb" tabindex="-1"><a class="header-anchor" href="#khong-gian-bang-innodb"><span>Không gian bảng InnoDB</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406812.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="dong-row" tabindex="-1"><a class="header-anchor" href="#dong-row"><span>Dòng (Row)</span></a></h3><p>Các bản ghi trong bảng cơ sở dữ liệu được lưu trữ theo dòng (row), mỗi dòng bản ghi có cấu trúc lưu trữ khác nhau tùy thuộc vào định dạng dòng. Sau này chúng ta sẽ giới thiệu chi tiết về định dạng dòng của InnoDB, đây cũng là nội dung chính của bài viết này.</p><h3 id="trang-page" tabindex="-1"><a class="header-anchor" href="#trang-page"><span>Trang (Page)</span></a></h3><p>Bản ghi được lưu trữ theo dòng, nhưng việc đọc cơ sở dữ liệu không phải theo &quot;dòng&quot;, vì nếu vậy mỗi lần đọc (một lần thao tác I/O) chỉ xử lý một dòng dữ liệu, hiệu quả sẽ rất thấp. Do đó, <strong>dữ liệu của InnoDB được đọc và ghi theo đơn vị &quot;trang&quot;</strong>. Điều này có nghĩa là khi cần đọc một bản ghi, không phải đọc chỉ một dòng từ đĩa, mà là đọc cả một trang vào bộ nhớ.</p><p><strong>Mặc định mỗi trang có kích thước 16KB</strong>, có nghĩa là đảm bảo không gian lưu trữ liên tục tối đa 16KB. Trang là đơn vị quản lý nhỏ nhất của đĩa trong storage engine InnoDB, nghĩa là mỗi lần cơ sở dữ liệu đọc ghi ít nhất là 16KB, đọc từ đĩa vào bộ nhớ ít nhất là 16K, và ghi từ bộ nhớ ra đĩa ít nhất là 16K.</p><p>Có nhiều loại trang, phổ biến nhất là trang dữ liệu, trang nhật ký undo, trang tràn, v.v. Các bản ghi trong bảng được quản lý bởi &quot;trang dữ liệu&quot;, cấu trúc của trang dữ liệu không được đề cập chi tiết ở đây. Bạn có thể tham khảo bài viết này để biết thêm chi tiết: <a href="https://xiaolincoding.com/mysql/index/page.html" target="_blank" rel="noopener noreferrer">Thay đổi góc nhìn về cây B+</a>.</p><p>Nói chung, bạn chỉ cần biết các bản ghi trong bảng được lưu trữ trong &quot;trang dữ liệu&quot;.</p><h3 id="vung-extent" tabindex="-1"><a class="header-anchor" href="#vung-extent"><span>Vùng (Extent)</span></a></h3><p>Chúng ta biết rằng storage engine InnoDB tổ chức dữ liệu bằng cây B+ (B+Tree). Trong cây B+, mỗi tầng được kết nối bằng danh sách liên kết hai chiều. Nếu phân bổ không gian lưu trữ theo đơn vị trang, vị trí vật lý của hai trang liền kề trong danh sách liên kết có thể không liên tiếp, có thể rất xa nhau, điều này dẫn đến nhiều thao tác I/O ngẫu nhiên, rất chậm.</p><p>Giải pháp rất đơn giản, làm cho vị trí vật lý của các trang liền kề trong danh sách liên kết cũng liền kề, như vậy có thể sử dụng I/O tuần tự. Điều này cải thiện hiệu suất khi thực hiện các truy vấn phạm vi (quét các nút lá).</p><p>Cách cụ thể để giải quyết vấn đề này là gì?</p><p><strong>Khi lượng dữ liệu trong bảng lớn, việc phân bổ không gian cho một chỉ mục không còn theo đơn vị trang, mà theo đơn vị vùng (extent). Mỗi vùng có kích thước 1MB, đối với trang 16KB, 64 trang liên tiếp sẽ tạo thành một vùng. Điều này làm cho vị trí vật lý của các trang liền kề trong danh sách liên kết cũng liền kề, và có thể sử dụng I/O tuần tự</strong>.</p><h3 id="đoan-segment" tabindex="-1"><a class="header-anchor" href="#đoan-segment"><span>Đoạn (Segment)</span></a></h3><p>Không gian bảng được tạo thành từ các đoạn (segment), mỗi đoạn gồm nhiều vùng (extent). Các đoạn thường được chia thành đoạn dữ liệu, đoạn chỉ mục và đoạn hoàn tác.</p><ul><li><strong>Đoạn chỉ mục</strong>: Chứa các vùng của các nút không phải lá của cây B+.</li><li><strong>Đoạn dữ liệu</strong>: Chứa các vùng của các nút lá của cây B+.</li><li><strong>Đoạn hoàn tác</strong>: Chứa các vùng của dữ liệu hoàn tác.</li></ul><p>Vậy là chúng ta đã hoàn thành việc mô tả cấu trúc của không gian bảng. Tiếp theo, chúng ta sẽ nói chi tiết về định dạng dòng của InnoDB.</p><p>Việc giới thiệu vòng quanh này nhằm giúp bạn hiểu dòng bản ghi được lưu trữ ở tệp nào và khu vực nào trong không gian bảng này, từ góc nhìn từ trên xuống. Điều này giúp bạn hiểu rõ hơn và không thấy mơ hồ.</p><h2 id="cau-truc-bo-nho-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-bo-nho-innodb"><span>Cấu trúc bộ nhớ InnoDB</span></a></h2><h3 id="bo-đem-buffer-pool" tabindex="-1"><a class="header-anchor" href="#bo-đem-buffer-pool"><span>Bộ đệm (Buffer Pool)</span></a></h3><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416178.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Bộ đệm dùng để tăng tốc độ truy cập và chỉnh sửa dữ liệu bằng cách lưu trữ dữ liệu nóng trong bộ nhớ, giảm thiểu tối đa I/O từ đĩa và tăng tốc độ đọc và ghi dữ liệu nóng.</p><p>Dữ liệu trong Buffer Pool được lưu trữ theo đơn vị trang và được quản lý bằng cấu trúc danh sách liên kết đơn theo đơn vị trang. Do giới hạn của bộ nhớ, Buffer Pool chỉ có thể chứa được dữ liệu nóng nhất. Buffer Pool sử dụng thuật toán LRU (Least Recently Used) để loại bỏ dữ liệu không nóng.</p><p>Dựa trên nguyên lý cục bộ thời gian và không gian, Buffer Pool lưu trữ các trang dữ liệu hoạt động hiện tại bằng cách sử dụng cơ chế đọc trước (Read-ahead) để lưu trữ các trang dữ liệu gần dữ liệu mục tiêu.</p><p>Cơ chế đọc trước dẫn đến vấn đề đọc trước thất bại. InnoDB sử dụng cơ chế phân chia thế hệ để giải quyết vấn đề này: chia Buffer Pool thành hai phần là New SubList và Old SubList, đặt các trang dữ liệu mới đọc vào đầu Old SubList, các trang dữ liệu trong Old SubList được truy cập lại sẽ được đặt vào đầu New SubList; các trang dữ liệu lạnh thất bại trong việc đọc trước sẽ nhanh chóng bị loại bỏ khỏi Old SubList mà không ảnh hưởng đến dữ liệu nóng trong New SubList.</p><p>InnoDB sử dụng cơ chế cửa sổ thời gian (Time Window) để giải quyết vấn đề ô nhiễm bộ đệm: đối với các trang dữ liệu trong Old SubList, chúng phải ở lại Old SubList trong một khoảng thời gian nhất định rồi mới được chuyển vào New SubList nếu được truy cập lại. Cửa sổ mặc định là 1 giây.</p><p>Đối với truy vấn dữ liệu trong Buffer Pool, InnoDB sẽ đọc và trả về trực tiếp; đối với sửa đổi dữ liệu trong Buffer Pool, InnoDB sẽ sửa trực tiếp trong Buffer Pool và ghi sửa đổi vào redo Log. Khi trang dữ liệu bị thuật toán LRU loại bỏ, nó sẽ được ghi vào đĩa, nếu hệ thống gặp sự cố trước khi được ghi vào đĩa, sẽ sử dụng redo Log để khôi phục khi khởi động lại.</p><h3 id="bo-đem-thay-đoi-change-buffer" tabindex="-1"><a class="header-anchor" href="#bo-đem-thay-đoi-change-buffer"><span>Bộ đệm thay đổi (Change Buffer)</span></a></h3><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416527.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Change Buffer dùng để tăng tốc độ ghi vào chỉ mục thứ cấp của dữ liệu không nóng. Do tính không liên tục của dữ liệu chỉ mục thứ cấp, việc sửa đổi chỉ mục thứ cấp yêu cầu I/O đĩa thường xuyên, tiêu tốn nhiều hiệu năng. Change Buffer lưu trữ các thao tác sửa đổi chỉ mục thứ cấp và ghi vào redo log. Khi Change Buffer đạt đến một lượng nhất định hoặc hệ thống ít bận rộn, nó sẽ thực hiện thao tác <code>ibuf merge</code> để ghi sửa đổi vào đĩa. Change Buffer có vùng lưu trữ bền bỉ trong không gian bảng hệ thống.</p><p>Kích thước Change Buffer mặc định chiếm 25% Buffer Pool, được khởi tạo khi khởi động máy chủ. Cấu trúc vật lý của nó là một cây B-Tree gọi là <code>ibuf</code>. Điều kiện sử dụng Change Buffer là:</p><ul><li>InnoDB bật <code>innodb_change_buffering</code> và bảng hiện tại không có thao tác <code>flush</code>.</li><li>Chỉ sửa đổi các nút lá của cây chỉ mục thứ cấp và trang chỉ mục không nằm trong Buffer Pool.</li><li>Đối với chỉ mục thứ cấp duy nhất, chỉ có thao tác xóa có thể được lưu vào bộ đệm.</li></ul><p>Thời điểm thực hiện <code>ibuf merge</code>:</p><ul><li>Khi người dùng sử dụng chỉ mục thứ cấp để truy vấn.</li><li>Khi dự đoán rằng không gian trang sẽ không đủ khi lưu trữ thao tác chèn, có thể dẫn đến phân chia trang chỉ mục.</li><li>Khi thao tác lưu trữ lần này dẫn đến phân chia trang cây ibuf và kích thước Change Buffer vượt quá giới hạn sau khi phân loại.</li><li>Khi luồng master thực hiện lệnh <code>merge</code>.</li><li>Khi người dùng thực hiện thao tác <code>flush</code> trên bảng.</li></ul><h3 id="chi-muc-bam-thich-nghi-adaptive-hash-index" tabindex="-1"><a class="header-anchor" href="#chi-muc-bam-thich-nghi-adaptive-hash-index"><span>Chỉ mục băm thích nghi (Adaptive Hash Index)</span></a></h3><p>Chỉ mục băm thích nghi (Adaptive Hash Index, AHI) dùng để tăng tốc độ truy vấn cho các trang dữ liệu nóng. Khi sử dụng chỉ mục cụm (clustered index) để định vị trang dữ liệu, cần đi từ nút gốc đến nút lá của cây chỉ mục, thường mất 3-4 lần truy vấn. InnoDB phân tích việc sử dụng chỉ mục và các trường chỉ mục để tạo hoặc xóa chỉ mục băm một cách tự động.</p><p>AHI áp dụng cho các trang dữ liệu và chỉ mục được truy vấn thường xuyên. Vì trang dữ liệu là một phần của chỉ mục cụm, AHI được xây dựng trên chỉ mục. <strong>Đối với chỉ mục thứ cấp, nếu trúng AHI, sẽ lấy trực tiếp con trỏ bản ghi từ chỉ mục thứ cấp trong AHI và sau đó theo khóa chính tìm dữ liệu dọc theo chỉ mục cụm; nếu truy vấn chỉ mục cụm cũng trúng AHI, sẽ trả về trực tiếp con trỏ bản ghi của trang dữ liệu mục tiêu, từ đó có thể định vị trang dữ liệu trực tiếp theo con trỏ bản ghi</strong>.</p><p>Kích thước AHI là 1/64 của Buffer Pool. Từ MySQL 5.7 trở đi, AHI hỗ trợ phân vùng để giảm cạnh tranh trên khóa AHI toàn cục, mặc định là 8 phân vùng.</p><h3 id="bo-đem-nhat-ky-log-buffer" tabindex="-1"><a class="header-anchor" href="#bo-đem-nhat-ky-log-buffer"><span>Bộ đệm nhật ký (Log Buffer)</span></a></h3><p>Bộ đệm nhật ký (Log Buffer) được dùng để lưu trữ tạm thời các dữ liệu nhật ký cần ghi vào đĩa. Tất cả các thao tác sửa đổi của InnoDB sẽ được ghi vào các tệp nhật ký như redo log, undo log. Nếu mỗi lần sửa đổi đều được ghi trực tiếp vào đĩa, sẽ gây ra rất nhiều I/O. Log Buffer tối ưu vấn đề này bằng cách lưu trữ các thao tác sửa đổi trong vùng nhớ này trước, sau đó định kỳ ghi hàng loạt vào đĩa.</p><p>Kích thước của bộ đệm nhật ký có thể được điều chỉnh bằng cấu hình <code>innodb_log_buffer_size</code>, mặc định là 16MB.</p><h2 id="myisam" tabindex="-1"><a class="header-anchor" href="#myisam"><span>MyISAM</span></a></h2><p>MyISAM là hệ thống lưu trữ mặc định của MySQL trước phiên bản 5.5.</p><p>MyISAM được thiết kế đơn giản với dữ liệu được lưu trữ theo định dạng nén. MyISAM thích hợp cho dữ liệu chỉ đọc, hoặc bảng nhỏ có thể chấp nhận các thao tác sửa chữa.</p><p>MyISAM sử dụng cấu trúc B+Tree cho chỉ mục, trong đó <strong>nút lá của trường dữ liệu lưu trữ địa chỉ của các bản ghi dữ liệu</strong>.</p><p>MyISAM cung cấp nhiều tính năng như: chỉ mục toàn văn, bảng nén, và các hàm không gian. Tuy nhiên, MyISAM không hỗ trợ giao dịch và khóa cấp hàng. MyISAM cũng không hỗ trợ khôi phục an toàn sau khi hệ thống gặp sự cố.</p><p>Cấu trúc tệp vật lý của MyISAM:</p><ul><li>Tệp <code>.frm</code>: lưu trữ thông tin siêu dữ liệu liên quan đến bảng, bao gồm định nghĩa cấu trúc bảng.</li><li>Tệp <code>.MYD</code> (<code>MYData</code>): dành riêng cho MyISAM để lưu trữ dữ liệu của bảng MyISAM.</li><li>Tệp <code>.MYI</code> (<code>MYIndex</code>): dành riêng cho MyISAM để lưu trữ thông tin liên quan đến chỉ mục của bảng MyISAM.</li></ul><h2 id="so-sanh-innodb-va-myisam" tabindex="-1"><a class="header-anchor" href="#so-sanh-innodb-va-myisam"><span>So sánh InnoDB và MyISAM</span></a></h2><p>Bảng so sánh giữa InnoDB và MyISAM:</p><table><thead><tr><th>Đối chiếu</th><th>MyISAM</th><th>InnoDB</th></tr></thead><tbody><tr><td>Khóa ngoại</td><td>Không hỗ trợ</td><td>Hỗ trợ</td></tr><tr><td>Giao dịch</td><td>Không hỗ trợ</td><td>Hỗ trợ</td></tr><tr><td>Khóa</td><td>Hỗ trợ khóa cấp bảng</td><td>Hỗ trợ khóa cấp bảng và khóa cấp hàng</td></tr><tr><td>Chỉ mục</td><td>Sử dụng chỉ mục không phân cụm</td><td>Chỉ mục chính sử dụng chỉ mục phân cụm để cải thiện hiệu suất IO</td></tr><tr><td>Không gian bảng</td><td>Nhỏ</td><td>Lớn</td></tr><tr><td>Điểm tập trung</td><td>Hiệu suất</td><td>Giao dịch</td></tr><tr><td>Bộ đếm</td><td>Duy trì bộ đếm, hiệu suất <code>SELECT COUNT(*)</code> là <code>O(1)</code></td><td>Không duy trì bộ đếm, cần quét toàn bộ bảng</td></tr></tbody></table><p>InnoDB thường được chọn khi cần hỗ trợ giao dịch, khóa cấp hàng và khả năng khôi phục sau sự cố, trong khi MyISAM có thể được sử dụng cho các bảng chỉ đọc hoặc bảng nhỏ nơi hiệu suất và không gian lưu trữ là ưu tiên chính.</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vanhung4499/vanhung4499.github.io/edit/main/src/database/mysql/engine.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: vanhung4499@gmail.com">Hung Nguyen Van</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->MySQL Architecture</div></a><a class="route-link auto-link next" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><div class="hint">Next<span class="arrow end"></span></div><div class="link">MySQL Index<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2024 Hung Nguyen </div></footer></div><!--]--><!--[--><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C-_dXKvP.js" defer></script>
  </body>
</html>
