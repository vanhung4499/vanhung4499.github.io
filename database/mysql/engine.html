<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.12" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.46" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vanhung4499.github.io/database/mysql/engine.html"><meta property="og:site_name" content="VanHung4499"><meta property="og:title" content="MySQL Storage Engine"><meta property="og:description" content="MySQL Storage Engine C√°c storage engine trong MySQL Trong h·ªá th·ªëng t·ªáp, MySQL l∆∞u m·ªói c∆° s·ªü d·ªØ li·ªáu (c≈©ng c√≥ th·ªÉ g·ªçi l√† schema) d∆∞·ªõi d·∫°ng m·ªôt th∆∞ m·ª•c con trong th∆∞ m·ª•c d·ªØ li·ªáu. ..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2024-06-28T15:54:38.000Z"><meta property="article:author" content="Hung Nguyen"><meta property="article:tag" content="mysql"><meta property="article:modified_time" content="2024-06-28T15:54:38.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL Storage Engine","image":["https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406812.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416178.png","https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416527.png"],"dateModified":"2024-06-28T15:54:38.000Z","author":[{"@type":"Person","name":"Hung Nguyen","url":"https://vanhung4499.github.io"}]}</script><meta name="referrer" content="no-referrer-when-downgrade"><link rel="alternate" type="application/rss+xml" href="https://vanhung4499.github.io/rss.xml" title="VanHung4499 RSS Feed"><title>MySQL Storage Engine | VanHung4499</title><meta name="description" content="MySQL Storage Engine C√°c storage engine trong MySQL Trong h·ªá th·ªëng t·ªáp, MySQL l∆∞u m·ªói c∆° s·ªü d·ªØ li·ªáu (c≈©ng c√≥ th·ªÉ g·ªçi l√† schema) d∆∞·ªõi d·∫°ng m·ªôt th∆∞ m·ª•c con trong th∆∞ m·ª•c d·ªØ li·ªáu. ...">
    <link rel="preload" href="/assets/style-BqjKxtxe.css" as="style"><link rel="stylesheet" href="/assets/style-BqjKxtxe.css">
    <link rel="modulepreload" href="/assets/app-eD31-AQ-.js"><link rel="modulepreload" href="/assets/engine.html-C3XoOKbP.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">VanHung4499</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:home" width="1em" height="1em"></iconify-icon><!--]-->Home<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/wiki.html" aria-label="Wiki"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="carbon:wikis" width="1em" height="1em"></iconify-icon><!--]-->Wiki<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/dsa/" aria-label="Algorithms"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="hugeicons:algorithm" width="1em" height="1em"></iconify-icon><!--]-->Algorithms<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Programming"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:code" width="1em" height="1em"></iconify-icon>Programming<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/java/" aria-label="Java"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/golang/" aria-label="Golang"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:go" width="1em" height="1em"></iconify-icon><!--]-->Golang<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/js/" aria-label="JavaScript"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon><!--]-->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/ts/" aria-label="TypeScript"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:typescript" width="1em" height="1em"></iconify-icon><!--]-->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/programming/python/" aria-label="Python"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:python" width="1em" height="1em"></iconify-icon><!--]-->Python<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Database"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:database" width="1em" height="1em"></iconify-icon>Database<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/sql/" aria-label="SQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:sql-query" width="1em" height="1em"></iconify-icon><!--]-->SQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/database/mysql/" aria-label="MySQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/mongodb/" aria-label="MongoDB"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mongodb" width="1em" height="1em"></iconify-icon><!--]-->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/redis/" aria-label="Redis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elasticsearch/" aria-label="Elasticsearch"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:elasticsearch" width="1em" height="1em"></iconify-icon><!--]-->Elasticsearch<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/elastic/" aria-label="Elastic Stack"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:elastic-stack" width="1em" height="1em"></iconify-icon><!--]-->Elastic Stack<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Framework"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:framework" width="1em" height="1em"></iconify-icon>Framework<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/spring/" aria-label="Spring"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/spring-boot/" aria-label="Spring Boot"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring Boot<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/nestjs/" aria-label="NestJS"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:nestjs" width="1em" height="1em"></iconify-icon><!--]-->NestJS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/gin/" aria-label="Gin"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:gin" width="1em" height="1em"></iconify-icon><!--]-->Gin<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="DevOps"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon-plain:azuredevops" width="1em" height="1em"></iconify-icon>DevOps<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/docker/" aria-label="Docker"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:docker" width="1em" height="1em"></iconify-icon><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/kubernetes/" aria-label="Kubernetes"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:kubernetes" width="1em" height="1em"></iconify-icon><!--]-->Kubernetes<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/jenkins/" aria-label="Jenkins"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:jenkins" width="1em" height="1em"></iconify-icon><!--]-->Jenkins<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/git/" aria-label="Git"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:git" width="1em" height="1em"></iconify-icon><!--]-->Git<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/devops/linux/" aria-label="Linux"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->Linux<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Design"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="tdesign:system-sum" width="1em" height="1em"></iconify-icon>Design<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/design-pattern/" aria-label="Design Pattern"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="tabler:grid-pattern" width="1em" height="1em"></iconify-icon><!--]-->Design Pattern<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/design/system-design/" aria-label="System Design"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="icon-park-outline:system" width="1em" height="1em"></iconify-icon><!--]-->System Design<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/project/" aria-label="Project"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="ant-design:project-outlined" width="1em" height="1em"></iconify-icon><!--]-->Project<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/interview/" aria-label="Interview"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:account-tie" width="1em" height="1em"></iconify-icon><!--]-->Interview<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="About"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:about" width="1em" height="1em"></iconify-icon>About<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about-me.html" aria-label="About me"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:about-me" width="1em" height="1em"></iconify-icon><!--]-->About me<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/about.html" aria-label="About"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:about" width="1em" height="1em"></iconify-icon><!--]-->About<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/vanhung4499/my-wiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">Search</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:sql-query" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/overview.html" aria-label="MySQL Overview"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Overview<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/guide.html" aria-label="MySQL Guide"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Guide<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Architecture<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link vp-sidebar-page active" href="/database/mysql/engine.html" aria-label="MySQL Storage Engine"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Storage Engine<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Index<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/transaction.html" aria-label="MySQL Transaction"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Transaction<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/lock.html" aria-label="Lock"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->Lock<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/replication.html" aria-label="MySQL Replication"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Replication<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/optimization.html" aria-label="MySQL Optimization"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Optimization<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/opearation.html" aria-label="MySQL Opearation"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Opearation<!----></a></li><li><a class="route-link auto-link vp-sidebar-link vp-sidebar-page" href="/database/mysql/configuration.html" aria-label="MySQL Configuration"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon><!--]-->MySQL Configuration<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mongodb" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">MongoDB</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:elasticsearch" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Elasticsearch</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cib:elastic-stack" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">Elastic Stack</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon>MySQL Storage Engine</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://vanhung4499.github.io" target="_blank" rel="noopener noreferrer">Hung Nguyen</a></span><span property="author" content="Hung Nguyen"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-28T15:54:38.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 17 min</span><meta property="timeRequired" content="PT17M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="articleSection" content="mysql"></span><span class="page-tag-info" aria-label="Tagüè∑" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="keywords" content="mysql"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-storage-engine-trong-mysql">C√°c storage engine trong MySQL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-thao-tac-lien-quan-ƒëen-storage-engine">C√°c thao t√°c li√™n quan ƒë·∫øn storage engine</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lenh-show-storage-engine">L·ªánh show storage engine</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cac-lenh-thiet-lap-storage-engine">C√°c l·ªánh thi·∫øt l·∫≠p storage engine</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lenh-tao-va-thay-ƒëoi-storage-engine">L·ªánh t·∫°o v√† thay ƒë·ªïi storage engine</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#gioi-thieu-ve-cac-storage-engine-mysql">Gi·ªõi thi·ªáu v·ªÅ c√°c storage engine MySQL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cac-storage-engine-tich-hop-trong-mysql">C√°c storage engine t√≠ch h·ª£p trong MySQL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cach-chon-storage-engine-phu-hop">C√°ch ch·ªçn storage engine ph√π h·ª£p</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#gioi-thieu-ve-innodb">Gi·ªõi thi·ªáu v·ªÅ InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-tep-vat-ly-cua-innodb">C·∫•u tr√∫c t·ªáp v·∫≠t l√Ω c·ªßa InnoDB:</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#kien-truc-luu-tru-innodb">Ki·∫øn tr√∫c l∆∞u tr·ªØ InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-bo-nho-cua-innodb">C·∫•u tr√∫c b·ªô nh·ªõ c·ªßa InnoDB:</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#cau-truc-ƒëia-cua-innodb">C·∫•u tr√∫c ƒëƒ©a c·ªßa InnoDB:</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#khong-gian-bang-innodb">Kh√¥ng gian b·∫£ng InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#dong-row">D√≤ng (Row)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#trang-page">Trang (Page)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vung-extent">V√πng (Extent)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ƒëoan-segment">ƒêo·∫°n (Segment)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#cau-truc-bo-nho-innodb">C·∫•u tr√∫c b·ªô nh·ªõ InnoDB</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-ƒëem-buffer-pool">B·ªô ƒë·ªám (Buffer Pool)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-ƒëem-thay-ƒëoi-change-buffer">B·ªô ƒë·ªám thay ƒë·ªïi (Change Buffer)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#chi-muc-bam-thich-nghi-adaptive-hash-index">Ch·ªâ m·ª•c bƒÉm th√≠ch nghi (Adaptive Hash Index)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bo-ƒëem-nhat-ky-log-buffer">B·ªô ƒë·ªám nh·∫≠t k√Ω (Log Buffer)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#myisam">MyISAM</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#so-sanh-innodb-va-myisam">So s√°nh InnoDB v√† MyISAM</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="mysql-storage-engine" tabindex="-1"><a class="header-anchor" href="#mysql-storage-engine"><span>MySQL Storage Engine</span></a></h1><h2 id="cac-storage-engine-trong-mysql" tabindex="-1"><a class="header-anchor" href="#cac-storage-engine-trong-mysql"><span>C√°c storage engine trong MySQL</span></a></h2><p>Trong h·ªá th·ªëng t·ªáp, MySQL l∆∞u m·ªói c∆° s·ªü d·ªØ li·ªáu (c≈©ng c√≥ th·ªÉ g·ªçi l√† schema) d∆∞·ªõi d·∫°ng m·ªôt th∆∞ m·ª•c con trong th∆∞ m·ª•c d·ªØ li·ªáu. Khi t·∫°o b·∫£ng, MySQL s·∫Ω t·∫°o m·ªôt t·ªáp <code>.frm</code> c√πng t√™n v·ªõi b·∫£ng trong th∆∞ m·ª•c c∆° s·ªü d·ªØ li·ªáu ƒë·ªÉ l∆∞u ƒë·ªãnh nghƒ©a c·ªßa b·∫£ng. V√¨ MySQL s·ª≠ d·ª•ng c√°c th∆∞ m·ª•c v√† t·ªáp h·ªá th·ªëng t·ªáp ƒë·ªÉ l∆∞u ƒë·ªãnh nghƒ©a c∆° s·ªü d·ªØ li·ªáu v√† b·∫£ng, t√≠nh nh·∫°y c·∫£m ch·ªØ hoa ch·ªØ th∆∞·ªùng ph·ª• thu·ªôc v√†o n·ªÅn t·∫£ng c·ª• th·ªÉ. Trong Windows, t√≠nh nh·∫°y c·∫£m ch·ªØ hoa ch·ªØ th∆∞·ªùng kh√¥ng ƒë∆∞·ª£c √°p d·ª•ng; trong c√°c h·ªá th·ªëng t∆∞∆°ng t·ª± Unix, t√≠nh nh·∫°y c·∫£m ch·ªØ hoa ch·ªØ th∆∞·ªùng ƒë∆∞·ª£c √°p d·ª•ng. <strong>C√°c storage engine kh√°c nhau l∆∞u tr·ªØ d·ªØ li·ªáu v√† ch·ªâ m·ª•c theo c√°ch kh√°c nhau, nh∆∞ng ƒë·ªãnh nghƒ©a b·∫£ng th√¨ ƒë∆∞·ª£c x·ª≠ l√Ω th·ªëng nh·∫•t ·ªü t·∫ßng d·ªãch v·ª• c·ªßa MySQL.</strong></p><p>MySQL s·ª≠ d·ª•ng c√°c storage engine d∆∞·ªõi d·∫°ng plugin, m·ªói storage engine nh·∫Øm ƒë·∫øn m·ªôt m√¥i tr∆∞·ªùng ·ª©ng d·ª•ng c∆° s·ªü d·ªØ li·ªáu c·ª• th·ªÉ. ƒê·ªìng th·ªùi, MySQL m√£ ngu·ªìn m·ªü c√≤n cho ph√©p c√°c nh√† ph√°t tri·ªÉn thi·∫øt l·∫≠p c√°c storage engine ri√™ng c·ªßa h·ªç. D∆∞·ªõi ƒë√¢y l√† m·ªôt s·ªë storage engine ph·ªï bi·∫øn:</p><ul><li>storage engine InnoDB: ƒê√¢y l√† storage engine m·∫∑c ƒë·ªãnh t·ª´ phi√™n b·∫£n MySQL 5.5 tr·ªü ƒëi, v·ªõi ƒë·∫∑c ƒëi·ªÉm l·ªõn nh·∫•t l√† h·ªó tr·ª£ giao d·ªãch, kh√≥a c·∫•p h√†ng, v√† r√†ng bu·ªôc kh√≥a ngo·∫°i.</li><li>storage engine MyISAM: L√† storage engine m·∫∑c ƒë·ªãnh tr∆∞·ªõc phi√™n b·∫£n MySQL 5.5, kh√¥ng h·ªó tr·ª£ giao d·ªãch, c≈©ng kh√¥ng h·ªó tr·ª£ kh√≥a ngo·∫°i, nh∆∞ng c√≥ ƒë·∫∑c ƒëi·ªÉm l·ªõn nh·∫•t l√† t·ªëc ƒë·ªô nhanh v√† chi·∫øm √≠t t√†i nguy√™n.</li><li>storage engine Memory: S·ª≠ d·ª•ng b·ªô nh·ªõ h·ªá th·ªëng l√†m ph∆∞∆°ng ti·ªán l∆∞u tr·ªØ ƒë·ªÉ c√≥ ƒë∆∞·ª£c t·ªëc ƒë·ªô ph·∫£n h·ªìi nhanh h∆°n. Tuy nhi√™n, n·∫øu qu√° tr√¨nh mysqld b·ªã s·∫≠p, t·∫•t c·∫£ d·ªØ li·ªáu s·∫Ω b·ªã m·∫•t, do ƒë√≥ ch·ªâ n√™n s·ª≠ d·ª•ng storage engine Memory khi d·ªØ li·ªáu l√† t·∫°m th·ªùi.</li><li>storage engine NDB: C√≤n ƒë∆∞·ª£c g·ªçi l√† storage engine NDB Cluster, ch·ªß y·∫øu ƒë∆∞·ª£c s·ª≠ d·ª•ng cho m√¥i tr∆∞·ªùng c·ª•m ph√¢n t√°n MySQL Cluster, t∆∞∆°ng t·ª± nh∆∞ c·ª•m RAC c·ªßa Oracle.</li><li>storage engine Archive: C√≥ c∆° ch·∫ø n√©n t·ªët, d√πng ƒë·ªÉ l∆∞u tr·ªØ t·ªáp. Khi y√™u c·∫ßu ghi d·ªØ li·ªáu, s·∫Ω th·ª±c hi·ªán n√©n, do ƒë√≥ th∆∞·ªùng ƒë∆∞·ª£c d√πng ƒë·ªÉ l√†m kho l∆∞u tr·ªØ.</li></ul><h2 id="cac-thao-tac-lien-quan-ƒëen-storage-engine" tabindex="-1"><a class="header-anchor" href="#cac-thao-tac-lien-quan-ƒëen-storage-engine"><span>C√°c thao t√°c li√™n quan ƒë·∫øn storage engine</span></a></h2><h3 id="lenh-show-storage-engine" tabindex="-1"><a class="header-anchor" href="#lenh-show-storage-engine"><span>L·ªánh show storage engine</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Xem c√°c storage engine ƒë∆∞·ª£c h·ªó tr·ª£</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW ENGINES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Xem storage engine m·∫∑c ƒë·ªãnh</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW VARIABLES </span><span style="color:#C678DD;--shiki-dark:#C678DD;">LIKE</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;storage_engine&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Xem storage engine c·ªßa m·ªôt b·∫£ng c·ª• th·ªÉ</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#98C379;--shiki-dark:#98C379;"> `table_name`</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Xem storage engine c·ªßa m·ªôt b·∫£ng c·ª• th·ªÉ trong m·ªôt c∆° s·ªü d·ªØ li·ªáu</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#C678DD;--shiki-dark:#C678DD;">TABLE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> STATUS</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> LIKE</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;table_name&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">SHOW </span><span style="color:#C678DD;--shiki-dark:#C678DD;">TABLE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> STATUS</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> FROM</span><span style="color:#98C379;--shiki-dark:#98C379;"> `database_name`</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> WHERE</span><span style="color:#98C379;--shiki-dark:#98C379;"> `name`</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;table_name&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h2 id="cac-lenh-thiet-lap-storage-engine" tabindex="-1"><a class="header-anchor" href="#cac-lenh-thiet-lap-storage-engine"><span>C√°c l·ªánh thi·∫øt l·∫≠p storage engine</span></a></h2><h3 id="lenh-tao-va-thay-ƒëoi-storage-engine" tabindex="-1"><a class="header-anchor" href="#lenh-tao-va-thay-ƒëoi-storage-engine"><span>L·ªánh t·∫°o v√† thay ƒë·ªïi storage engine</span></a></h3><div class="language-sql" data-ext="sql" data-title="sql"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Ch·ªâ ƒë·ªãnh storage engine khi t·∫°o b·∫£ng, n·∫øu kh√¥ng ch·ªâ ƒë·ªãnh r√µ, m·∫∑c ƒë·ªãnh l√† INNODB</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> t1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#C678DD;--shiki-dark:#C678DD;">INT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> INNODB;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> t2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#C678DD;--shiki-dark:#C678DD;">INT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> CSV;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">CREATE</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> t3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (i </span><span style="color:#C678DD;--shiki-dark:#C678DD;">INT</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) ENGINE </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> MEMORY;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Thay ƒë·ªïi storage engine</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">ALTER</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> TABLE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> t ENGINE </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> InnoDB;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"># Thay ƒë·ªïi storage engine m·∫∑c ƒë·ªãnh, c≈©ng c√≥ th·ªÉ thay ƒë·ªïi trong t·ªáp c·∫•u h√¨nh </span><span style="color:#D19A66;--shiki-dark:#D19A66;">my</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#D19A66;--shiki-dark:#D19A66;">cnf</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">SET</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> default_storage_engine</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">NDBCLUSTER;</span></span></code></pre></div><p>M·∫∑c ƒë·ªãnh, m·ªói khi <code>CREATE TABLE</code> ho·∫∑c <code>ALTER TABLE</code> kh√¥ng th·ªÉ s·ª≠ d·ª•ng storage engine m·∫∑c ƒë·ªãnh, s·∫Ω t·∫°o ra m·ªôt c·∫£nh b√°o. ƒê·ªÉ ngƒÉn ch·∫∑n h√†nh vi g√¢y nh·∫ßm l·∫´n khi storage engine y√™u c·∫ßu kh√¥ng kh·∫£ d·ª•ng, c√≥ th·ªÉ k√≠ch ho·∫°t ch·∫ø ƒë·ªô <code>NO_ENGINE_SUBSTITUTION SQL</code>. N·∫øu b·ªô m√°y y√™u c·∫ßu kh√¥ng kh·∫£ d·ª•ng, thi·∫øt l·∫≠p n√†y s·∫Ω t·∫°o ra l·ªói thay v√¨ c·∫£nh b√°o v√† s·∫Ω kh√¥ng t·∫°o ho·∫∑c thay ƒë·ªïi b·∫£ng.</p><h2 id="gioi-thieu-ve-cac-storage-engine-mysql" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-cac-storage-engine-mysql"><span>Gi·ªõi thi·ªáu v·ªÅ c√°c storage engine MySQL</span></a></h2><h3 id="cac-storage-engine-tich-hop-trong-mysql" tabindex="-1"><a class="header-anchor" href="#cac-storage-engine-tich-hop-trong-mysql"><span>C√°c storage engine t√≠ch h·ª£p trong MySQL</span></a></h3><ul><li><strong>InnoDB</strong> - InnoDB l√† storage engine m·∫∑c ƒë·ªãnh t·ª´ phi√™n b·∫£n MySQL 5.5 tr·ªü ƒëi. N√≥ cung c·∫•p kh√≥a c·∫•p h√†ng v√† r√†ng bu·ªôc kh√≥a ngo·∫°i. Hi·ªáu su·∫•t t·ªët v√† h·ªó tr·ª£ t·ª± ƒë·ªông ph·ª•c h·ªìi sau khi g·∫∑p s·ª± c·ªë.</li><li><strong>MyISAM</strong> - Tr∆∞·ªõc phi√™n b·∫£n MySQL 5.5, MyISAM l√† storage engine m·∫∑c ƒë·ªãnh. N√≥ c√≥ nhi·ªÅu t√≠nh nƒÉng nh∆∞ng kh√¥ng h·ªó tr·ª£ giao d·ªãch, kh√¥ng h·ªó tr·ª£ kh√≥a c·∫•p h√†ng v√† kh√≥a ngo·∫°i, v√† kh√¥ng c√≥ kh·∫£ nƒÉng ph·ª•c h·ªìi sau s·ª± c·ªë.</li><li><strong>CSV</strong> - C√≥ th·ªÉ x·ª≠ l√Ω t·ªáp CSV nh∆∞ b·∫£ng MySQL, nh∆∞ng b·∫£ng n√†y kh√¥ng h·ªó tr·ª£ ch·ªâ m·ª•c.</li><li><strong>Memory</strong> - L∆∞u tr·ªØ d·ªØ li·ªáu trong b·ªô nh·ªõ ƒë·ªÉ c√≥ t·ªëc ƒë·ªô ph·∫£n h·ªìi nhanh h∆°n. Tuy nhi√™n, n·∫øu qu√° tr√¨nh mysqld g·∫∑p s·ª± c·ªë, t·∫•t c·∫£ d·ªØ li·ªáu s·∫Ω b·ªã m·∫•t.</li><li><strong>NDB</strong> - C√≤n g·ªçi l√† storage engine NDB Cluster, ch·ªß y·∫øu d√πng cho m√¥i tr∆∞·ªùng c·ª•m ph√¢n t√°n MySQL Cluster, t∆∞∆°ng t·ª± nh∆∞ c·ª•m RAC c·ªßa Oracle.</li><li><strong>Archive</strong> - storage engine Archive r·∫•t ph√π h·ª£p ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu. <ul><li>storage engine Archive ch·ªâ h·ªó tr·ª£ thao t√°c <code>INSERT</code> v√† <code>SELECT</code>.</li><li>storage engine Archive s·ª≠ d·ª•ng thu·∫≠t to√°n n√©n zlib, v·ªõi t·ª∑ l·ªá n√©n c√≥ th·ªÉ ƒë·∫°t 1:10.</li></ul></li></ul><h3 id="cach-chon-storage-engine-phu-hop" tabindex="-1"><a class="header-anchor" href="#cach-chon-storage-engine-phu-hop"><span>C√°ch ch·ªçn storage engine ph√π h·ª£p</span></a></h3><p>Ph·∫ßn l·ªõn tr∆∞·ªùng h·ª£p, InnoDB l√† l·ª±a ch·ªçn ƒë√∫ng ƒë·∫Øn, tr·ª´ khi c·∫ßn c√°c t√≠nh nƒÉng m√† InnoDB kh√¥ng c√≥.</p><p>N·∫øu ·ª©ng d·ª•ng c·∫ßn ch·ªçn storage engine kh√°c InnoDB, c√≥ th·ªÉ xem x√©t c√°c y·∫øu t·ªë sau:</p><ul><li><strong>Giao d·ªãch</strong>: N·∫øu k·ªãch b·∫£n kinh doanh l√† OLTP, th√¨ InnoDB l√† storage engine ƒë∆∞·ª£c ∆∞u ti√™n. N·∫øu kh√¥ng c·∫ßn h·ªó tr·ª£ giao d·ªãch v√† ch·ªß y·∫øu l√† c√°c thao t√°c SELECT v√† INSERT, MyISAM l√† l·ª±a ch·ªçn t·ªët. V√¨ v·∫≠y, n·∫øu MySQL ƒë∆∞·ª£c tri·ªÉn khai theo m√¥ h√¨nh ch·ªß - ph·ª• v√† t√°ch bi·ªát ƒë·ªçc/ghi, c√≥ th·ªÉ l√†m nh∆∞ sau: n√∫t ch√≠nh ch·ªâ h·ªó tr·ª£ ghi, b·ªô m√°y m·∫∑c ƒë·ªãnh l√† InnoDB; n√∫t ph·ª• ch·ªâ h·ªó tr·ª£ ƒë·ªçc, b·ªô m√°y m·∫∑c ƒë·ªãnh l√† MyISAM.</li><li><strong>ƒê·ªìng th·ªùi</strong>: MyISAM ch·ªâ h·ªó tr·ª£ kh√≥a c·∫•p b·∫£ng, trong khi InnoDB h·ªó tr·ª£ kh√≥a c·∫•p h√†ng. Do ƒë√≥, InnoDB c√≥ hi·ªáu su·∫•t ƒë·ªìng th·ªùi cao h∆°n.</li><li><strong>Kh√≥a ngo·∫°i</strong>: InnoDB h·ªó tr·ª£ kh√≥a ngo·∫°i.</li><li><strong>Sao l∆∞u</strong>: InnoDB h·ªó tr·ª£ sao l∆∞u n√≥ng tr·ª±c tuy·∫øn.</li><li><strong>Ph·ª•c h·ªìi sau s·ª± c·ªë</strong>: Kh·∫£ nƒÉng h∆∞ h·ªèng sau s·ª± c·ªë c·ªßa MyISAM cao h∆°n nhi·ªÅu so v·ªõi InnoDB, v√† t·ªëc ƒë·ªô ph·ª•c h·ªìi c≈©ng ch·∫≠m h∆°n.</li><li><strong>T√≠nh nƒÉng kh√°c</strong>: MyISAM h·ªó tr·ª£ b·∫£ng n√©n v√† ch·ªâ m·ª•c d·ªØ li·ªáu kh√¥ng gian.</li></ul><h2 id="gioi-thieu-ve-innodb" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-innodb"><span>Gi·ªõi thi·ªáu v·ªÅ InnoDB</span></a></h2><p>InnoDB l√† storage engine m·∫∑c ƒë·ªãnh t·ª´ phi√™n b·∫£n MySQL 5.5 tr·ªü ƒëi. Ch·ªâ n√™n s·ª≠ d·ª•ng storage engine kh√°c khi c·∫ßn c√°c t√≠nh nƒÉng m√† InnoDB kh√¥ng h·ªó tr·ª£.</p><p>InnoDB c≈©ng s·ª≠ d·ª•ng c√¢y B+ (B+Tree) l√†m c·∫•u tr√∫c ch·ªâ m·ª•c, nh∆∞ng c√°ch th·ª±c hi·ªán c·ª• th·ªÉ r·∫•t kh√°c so v·ªõi MyISAM. Trong MyISAM, t·ªáp ch·ªâ m·ª•c v√† t·ªáp d·ªØ li·ªáu l√† t√°ch bi·ªát, t·ªáp ch·ªâ m·ª•c ch·ªâ l∆∞u tr·ªØ ƒë·ªãa ch·ªâ c·ªßa b·∫£n ghi d·ªØ li·ªáu. Trong <strong>InnoDB, t·ªáp d·ªØ li·ªáu c·ªßa b·∫£ng ch√≠nh l√† m·ªôt c·∫•u tr√∫c ch·ªâ m·ª•c B+Tree</strong>. C√°c n√∫t l√° (leaf node) c·ªßa c√¢y n√†y ch·ª©a to√†n b·ªô b·∫£n ghi d·ªØ li·ªáu. <strong>Ch·ªâ m·ª•c n√†y s·ª≠ d·ª•ng kh√≥a ch√≠nh c·ªßa b·∫£ng l√†m kh√≥a</strong>, do ƒë√≥, <strong>t·ªáp d·ªØ li·ªáu c·ªßa b·∫£ng InnoDB ch√≠nh l√† ch·ªâ m·ª•c ch√≠nh</strong>.</p><p>InnoDB s·ª≠ d·ª•ng MVCC (Multi-Version Concurrency Control) ƒë·ªÉ h·ªó tr·ª£ kh·∫£ nƒÉng x·ª≠ l√Ω ƒë·ªìng th·ªùi cao, v√† th·ª±c hi·ªán b·ªën m·ª©c ƒë·ªô c√¥ l·∫≠p ti√™u chu·∫©n. M·ª©c ƒë·ªô m·∫∑c ƒë·ªãnh l√† ƒë·ªçc l·∫∑p l·∫°i (REPEATABLE READ) v√† s·ª≠ d·ª•ng kh√≥a kho·∫£ng (next-key locking) ƒë·ªÉ ngƒÉn ch·∫∑n hi·ªán t∆∞·ª£ng ƒë·ªçc ·∫£o.</p><p>InnoDB ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n ch·ªâ m·ª•c nh√≥m (clustered index), kh√°c bi·ªát l·ªõn so v·ªõi c√°c storage engine kh√°c. D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u trong ch·ªâ m·ª•c, gi√∫p tr√°nh vi·ªác ƒë·ªçc t·ª´ ƒëƒ©a tr·ª±c ti·∫øp, do ƒë√≥ c·∫£i thi·ªán hi·ªáu su·∫•t truy v·∫•n.</p><p>InnoDB ƒë√£ th·ª±c hi·ªán nhi·ªÅu t·ªëi ∆∞u n·ªôi b·ªô, bao g·ªìm ƒë·ªçc d·ªØ li·ªáu t·ª´ ƒëƒ©a theo d·ª± ƒëo√°n, ch·ªâ m·ª•c bƒÉm th√≠ch ·ª©ng t·ª± ƒë·ªông t·∫°o ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô ƒë·ªçc, v√† v√πng ƒë·ªám ch√®n gi√∫p tƒÉng t·ªëc ƒë·ªô ch√®n d·ªØ li·ªáu.</p><p>InnoDB h·ªó tr·ª£ sao l∆∞u n√≥ng tr·ª±c tuy·∫øn th·ª±c s·ª±. C√°c storage engine kh√°c kh√¥ng h·ªó tr·ª£ sao l∆∞u n√≥ng tr·ª±c tuy·∫øn; ƒë·ªÉ c√≥ ƒë∆∞·ª£c ch·∫ø ƒë·ªô xem nh·∫•t qu√°n, c·∫ßn ph·∫£i d·ª´ng t·∫•t c·∫£ c√°c thao t√°c ghi v√†o b·∫£ng, v√† trong m√¥i tr∆∞·ªùng ƒë·ªçc ghi h·ªón h·ª£p, vi·ªác d·ª´ng ghi c≈©ng c√≥ th·ªÉ ƒë·ªìng nghƒ©a v·ªõi vi·ªác d·ª´ng ƒë·ªçc.</p><h3 id="cau-truc-tep-vat-ly-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-tep-vat-ly-cua-innodb"><span>C·∫•u tr√∫c t·ªáp v·∫≠t l√Ω c·ªßa InnoDB:</span></a></h3><ul><li><strong>T·ªáp <code>.frm</code></strong>: Ch·ª©a th√¥ng tin si√™u d·ªØ li·ªáu li√™n quan ƒë·∫øn b·∫£ng, bao g·ªìm th√¥ng tin ƒë·ªãnh nghƒ©a c·∫•u tr√∫c b·∫£ng.</li><li><strong>T·ªáp <code>.ibd</code> ho·∫∑c <code>.ibdata</code></strong>: Ch·ª©a d·ªØ li·ªáu c·ªßa InnoDB. C√≥ hai c√°ch l∆∞u tr·ªØ d·ªØ li·ªáu InnoDB c√≥ th·ªÉ ƒë∆∞·ª£c c·∫•u h√¨nh: <ul><li><strong>Kh√¥ng gian b·∫£ng ri√™ng l·∫ª (file-per-table)</strong>: S·ª≠ d·ª•ng t·ªáp <code>.ibd</code>, m·ªói b·∫£ng c√≥ m·ªôt t·ªáp <code>.ibd</code>.</li><li><strong>Kh√¥ng gian b·∫£ng chia s·∫ª (shared-tablespace)</strong>: S·ª≠ d·ª•ng t·ªáp <code>.ibdata</code>, t·∫•t c·∫£ c√°c b·∫£ng d√πng chung m·ªôt t·ªáp <code>.ibdata</code> (ho·∫∑c nhi·ªÅu t·ªáp, c√≥ th·ªÉ c·∫•u h√¨nh).</li></ul></li></ul><h2 id="kien-truc-luu-tru-innodb" tabindex="-1"><a class="header-anchor" href="#kien-truc-luu-tru-innodb"><span>Ki·∫øn tr√∫c l∆∞u tr·ªØ InnoDB</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406713.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Ki·∫øn tr√∫c l∆∞u tr·ªØ c·ªßa InnoDB ƒë∆∞·ª£c chia th√†nh c·∫•u tr√∫c b·ªô nh·ªõ v√† c·∫•u tr√∫c ƒëƒ©a.</p><h3 id="cau-truc-bo-nho-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-bo-nho-cua-innodb"><span>C·∫•u tr√∫c b·ªô nh·ªõ c·ªßa InnoDB:</span></a></h3><ul><li><strong>Buffer Pool</strong>: V√πng ƒë·ªám ch√≠nh l∆∞u tr·ªØ d·ªØ li·ªáu v√† ch·ªâ m·ª•c ƒë∆∞·ª£c ƒë·ªçc t·ª´ ƒëƒ©a.</li><li><strong>Change Buffer</strong>: V√πng ƒë·ªám thay ƒë·ªïi l∆∞u tr·ªØ c√°c thay ƒë·ªïi ƒë·ªëi v·ªõi ch·ªâ m·ª•c kh√¥ng duy nh·∫•t.</li><li><strong>Adaptive Hash Index</strong>: Ch·ªâ m·ª•c bƒÉm th√≠ch ·ª©ng t·ª± ƒë·ªông t·∫°o ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy v·∫•n.</li><li><strong>Log Buffer</strong>: V√πng ƒë·ªám ghi l·∫°i c√°c thay ƒë·ªïi tr∆∞·ªõc khi ƒë∆∞·ª£c ghi v√†o t·ªáp nh·∫≠t k√Ω.</li></ul><h3 id="cau-truc-ƒëia-cua-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-ƒëia-cua-innodb"><span>C·∫•u tr√∫c ƒëƒ©a c·ªßa InnoDB:</span></a></h3><ul><li><strong>Tablespace</strong>: Kh√¥ng gian l∆∞u tr·ªØ c√°c t·ªáp d·ªØ li·ªáu v√† ch·ªâ m·ª•c.</li><li><strong>Doublewrite Buffer</strong>: V√πng ƒë·ªám ghi ƒë√¥i ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu.</li><li><strong>Redo log</strong>: Nh·∫≠t k√Ω ghi l·∫°i c√°c thay ƒë·ªïi ƒë·ªÉ ph·ª•c h·ªìi sau s·ª± c·ªë.</li><li><strong>Undo log</strong>: Nh·∫≠t k√Ω ho√†n t√°c gi√∫p h·ªó tr·ª£ giao d·ªãch v√† kh√¥i ph·ª•c tr·∫°ng th√°i tr∆∞·ªõc ƒë√≥ c·ªßa d·ªØ li·ªáu.</li></ul><p>InnoDB mang l·∫°i nhi·ªÅu l·ª£i √≠ch v·ªÅ hi·ªáu su·∫•t v√† ƒë·ªô tin c·∫≠y nh·ªù c√°c t√≠nh nƒÉng v√† c·∫•u tr√∫c l∆∞u tr·ªØ ti√™n ti·∫øn.</p><h2 id="khong-gian-bang-innodb" tabindex="-1"><a class="header-anchor" href="#khong-gian-bang-innodb"><span>Kh√¥ng gian b·∫£ng InnoDB</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241406812.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="dong-row" tabindex="-1"><a class="header-anchor" href="#dong-row"><span>D√≤ng (Row)</span></a></h3><p>C√°c b·∫£n ghi trong b·∫£ng c∆° s·ªü d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ theo d√≤ng (row), m·ªói d√≤ng b·∫£n ghi c√≥ c·∫•u tr√∫c l∆∞u tr·ªØ kh√°c nhau t√πy thu·ªôc v√†o ƒë·ªãnh d·∫°ng d√≤ng. Sau n√†y ch√∫ng ta s·∫Ω gi·ªõi thi·ªáu chi ti·∫øt v·ªÅ ƒë·ªãnh d·∫°ng d√≤ng c·ªßa InnoDB, ƒë√¢y c≈©ng l√† n·ªôi dung ch√≠nh c·ªßa b√†i vi·∫øt n√†y.</p><h3 id="trang-page" tabindex="-1"><a class="header-anchor" href="#trang-page"><span>Trang (Page)</span></a></h3><p>B·∫£n ghi ƒë∆∞·ª£c l∆∞u tr·ªØ theo d√≤ng, nh∆∞ng vi·ªác ƒë·ªçc c∆° s·ªü d·ªØ li·ªáu kh√¥ng ph·∫£i theo &quot;d√≤ng&quot;, v√¨ n·∫øu v·∫≠y m·ªói l·∫ßn ƒë·ªçc (m·ªôt l·∫ßn thao t√°c I/O) ch·ªâ x·ª≠ l√Ω m·ªôt d√≤ng d·ªØ li·ªáu, hi·ªáu qu·∫£ s·∫Ω r·∫•t th·∫•p. Do ƒë√≥, <strong>d·ªØ li·ªáu c·ªßa InnoDB ƒë∆∞·ª£c ƒë·ªçc v√† ghi theo ƒë∆°n v·ªã &quot;trang&quot;</strong>. ƒêi·ªÅu n√†y c√≥ nghƒ©a l√† khi c·∫ßn ƒë·ªçc m·ªôt b·∫£n ghi, kh√¥ng ph·∫£i ƒë·ªçc ch·ªâ m·ªôt d√≤ng t·ª´ ƒëƒ©a, m√† l√† ƒë·ªçc c·∫£ m·ªôt trang v√†o b·ªô nh·ªõ.</p><p><strong>M·∫∑c ƒë·ªãnh m·ªói trang c√≥ k√≠ch th∆∞·ªõc 16KB</strong>, c√≥ nghƒ©a l√† ƒë·∫£m b·∫£o kh√¥ng gian l∆∞u tr·ªØ li√™n t·ª•c t·ªëi ƒëa 16KB. Trang l√† ƒë∆°n v·ªã qu·∫£n l√Ω nh·ªè nh·∫•t c·ªßa ƒëƒ©a trong storage engine InnoDB, nghƒ©a l√† m·ªói l·∫ßn c∆° s·ªü d·ªØ li·ªáu ƒë·ªçc ghi √≠t nh·∫•t l√† 16KB, ƒë·ªçc t·ª´ ƒëƒ©a v√†o b·ªô nh·ªõ √≠t nh·∫•t l√† 16K, v√† ghi t·ª´ b·ªô nh·ªõ ra ƒëƒ©a √≠t nh·∫•t l√† 16K.</p><p>C√≥ nhi·ªÅu lo·∫°i trang, ph·ªï bi·∫øn nh·∫•t l√† trang d·ªØ li·ªáu, trang nh·∫≠t k√Ω undo, trang tr√†n, v.v. C√°c b·∫£n ghi trong b·∫£ng ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi &quot;trang d·ªØ li·ªáu&quot;, c·∫•u tr√∫c c·ªßa trang d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p chi ti·∫øt ·ªü ƒë√¢y. B·∫°n c√≥ th·ªÉ tham kh·∫£o b√†i vi·∫øt n√†y ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt: <a href="https://xiaolincoding.com/mysql/index/page.html" target="_blank" rel="noopener noreferrer">Thay ƒë·ªïi g√≥c nh√¨n v·ªÅ c√¢y B+</a>.</p><p>N√≥i chung, b·∫°n ch·ªâ c·∫ßn bi·∫øt c√°c b·∫£n ghi trong b·∫£ng ƒë∆∞·ª£c l∆∞u tr·ªØ trong &quot;trang d·ªØ li·ªáu&quot;.</p><h3 id="vung-extent" tabindex="-1"><a class="header-anchor" href="#vung-extent"><span>V√πng (Extent)</span></a></h3><p>Ch√∫ng ta bi·∫øt r·∫±ng storage engine InnoDB t·ªï ch·ª©c d·ªØ li·ªáu b·∫±ng c√¢y B+ (B+Tree). Trong c√¢y B+, m·ªói t·∫ßng ƒë∆∞·ª£c k·∫øt n·ªëi b·∫±ng danh s√°ch li√™n k·∫øt hai chi·ªÅu. N·∫øu ph√¢n b·ªï kh√¥ng gian l∆∞u tr·ªØ theo ƒë∆°n v·ªã trang, v·ªã tr√≠ v·∫≠t l√Ω c·ªßa hai trang li·ªÅn k·ªÅ trong danh s√°ch li√™n k·∫øt c√≥ th·ªÉ kh√¥ng li√™n ti·∫øp, c√≥ th·ªÉ r·∫•t xa nhau, ƒëi·ªÅu n√†y d·∫´n ƒë·∫øn nhi·ªÅu thao t√°c I/O ng·∫´u nhi√™n, r·∫•t ch·∫≠m.</p><p>Gi·∫£i ph√°p r·∫•t ƒë∆°n gi·∫£n, l√†m cho v·ªã tr√≠ v·∫≠t l√Ω c·ªßa c√°c trang li·ªÅn k·ªÅ trong danh s√°ch li√™n k·∫øt c≈©ng li·ªÅn k·ªÅ, nh∆∞ v·∫≠y c√≥ th·ªÉ s·ª≠ d·ª•ng I/O tu·∫ßn t·ª±. ƒêi·ªÅu n√†y c·∫£i thi·ªán hi·ªáu su·∫•t khi th·ª±c hi·ªán c√°c truy v·∫•n ph·∫°m vi (qu√©t c√°c n√∫t l√°).</p><p>C√°ch c·ª• th·ªÉ ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y l√† g√¨?</p><p><strong>Khi l∆∞·ª£ng d·ªØ li·ªáu trong b·∫£ng l·ªõn, vi·ªác ph√¢n b·ªï kh√¥ng gian cho m·ªôt ch·ªâ m·ª•c kh√¥ng c√≤n theo ƒë∆°n v·ªã trang, m√† theo ƒë∆°n v·ªã v√πng (extent). M·ªói v√πng c√≥ k√≠ch th∆∞·ªõc 1MB, ƒë·ªëi v·ªõi trang 16KB, 64 trang li√™n ti·∫øp s·∫Ω t·∫°o th√†nh m·ªôt v√πng. ƒêi·ªÅu n√†y l√†m cho v·ªã tr√≠ v·∫≠t l√Ω c·ªßa c√°c trang li·ªÅn k·ªÅ trong danh s√°ch li√™n k·∫øt c≈©ng li·ªÅn k·ªÅ, v√† c√≥ th·ªÉ s·ª≠ d·ª•ng I/O tu·∫ßn t·ª±</strong>.</p><h3 id="ƒëoan-segment" tabindex="-1"><a class="header-anchor" href="#ƒëoan-segment"><span>ƒêo·∫°n (Segment)</span></a></h3><p>Kh√¥ng gian b·∫£ng ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ c√°c ƒëo·∫°n (segment), m·ªói ƒëo·∫°n g·ªìm nhi·ªÅu v√πng (extent). C√°c ƒëo·∫°n th∆∞·ªùng ƒë∆∞·ª£c chia th√†nh ƒëo·∫°n d·ªØ li·ªáu, ƒëo·∫°n ch·ªâ m·ª•c v√† ƒëo·∫°n ho√†n t√°c.</p><ul><li><strong>ƒêo·∫°n ch·ªâ m·ª•c</strong>: Ch·ª©a c√°c v√πng c·ªßa c√°c n√∫t kh√¥ng ph·∫£i l√° c·ªßa c√¢y B+.</li><li><strong>ƒêo·∫°n d·ªØ li·ªáu</strong>: Ch·ª©a c√°c v√πng c·ªßa c√°c n√∫t l√° c·ªßa c√¢y B+.</li><li><strong>ƒêo·∫°n ho√†n t√°c</strong>: Ch·ª©a c√°c v√πng c·ªßa d·ªØ li·ªáu ho√†n t√°c.</li></ul><p>V·∫≠y l√† ch√∫ng ta ƒë√£ ho√†n th√†nh vi·ªác m√¥ t·∫£ c·∫•u tr√∫c c·ªßa kh√¥ng gian b·∫£ng. Ti·∫øp theo, ch√∫ng ta s·∫Ω n√≥i chi ti·∫øt v·ªÅ ƒë·ªãnh d·∫°ng d√≤ng c·ªßa InnoDB.</p><p>Vi·ªác gi·ªõi thi·ªáu v√≤ng quanh n√†y nh·∫±m gi√∫p b·∫°n hi·ªÉu d√≤ng b·∫£n ghi ƒë∆∞·ª£c l∆∞u tr·ªØ ·ªü t·ªáp n√†o v√† khu v·ª±c n√†o trong kh√¥ng gian b·∫£ng n√†y, t·ª´ g√≥c nh√¨n t·ª´ tr√™n xu·ªëng. ƒêi·ªÅu n√†y gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v√† kh√¥ng th·∫•y m∆° h·ªì.</p><h2 id="cau-truc-bo-nho-innodb" tabindex="-1"><a class="header-anchor" href="#cau-truc-bo-nho-innodb"><span>C·∫•u tr√∫c b·ªô nh·ªõ InnoDB</span></a></h2><h3 id="bo-ƒëem-buffer-pool" tabindex="-1"><a class="header-anchor" href="#bo-ƒëem-buffer-pool"><span>B·ªô ƒë·ªám (Buffer Pool)</span></a></h3><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416178.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>B·ªô ƒë·ªám d√πng ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy c·∫≠p v√† ch·ªânh s·ª≠a d·ªØ li·ªáu b·∫±ng c√°ch l∆∞u tr·ªØ d·ªØ li·ªáu n√≥ng trong b·ªô nh·ªõ, gi·∫£m thi·ªÉu t·ªëi ƒëa I/O t·ª´ ƒëƒ©a v√† tƒÉng t·ªëc ƒë·ªô ƒë·ªçc v√† ghi d·ªØ li·ªáu n√≥ng.</p><p>D·ªØ li·ªáu trong Buffer Pool ƒë∆∞·ª£c l∆∞u tr·ªØ theo ƒë∆°n v·ªã trang v√† ƒë∆∞·ª£c qu·∫£n l√Ω b·∫±ng c·∫•u tr√∫c danh s√°ch li√™n k·∫øt ƒë∆°n theo ƒë∆°n v·ªã trang. Do gi·ªõi h·∫°n c·ªßa b·ªô nh·ªõ, Buffer Pool ch·ªâ c√≥ th·ªÉ ch·ª©a ƒë∆∞·ª£c d·ªØ li·ªáu n√≥ng nh·∫•t. Buffer Pool s·ª≠ d·ª•ng thu·∫≠t to√°n LRU (Least Recently Used) ƒë·ªÉ lo·∫°i b·ªè d·ªØ li·ªáu kh√¥ng n√≥ng.</p><p>D·ª±a tr√™n nguy√™n l√Ω c·ª•c b·ªô th·ªùi gian v√† kh√¥ng gian, Buffer Pool l∆∞u tr·ªØ c√°c trang d·ªØ li·ªáu ho·∫°t ƒë·ªông hi·ªán t·∫°i b·∫±ng c√°ch s·ª≠ d·ª•ng c∆° ch·∫ø ƒë·ªçc tr∆∞·ªõc (Read-ahead) ƒë·ªÉ l∆∞u tr·ªØ c√°c trang d·ªØ li·ªáu g·∫ßn d·ªØ li·ªáu m·ª•c ti√™u.</p><p>C∆° ch·∫ø ƒë·ªçc tr∆∞·ªõc d·∫´n ƒë·∫øn v·∫•n ƒë·ªÅ ƒë·ªçc tr∆∞·ªõc th·∫•t b·∫°i. InnoDB s·ª≠ d·ª•ng c∆° ch·∫ø ph√¢n chia th·∫ø h·ªá ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y: chia Buffer Pool th√†nh hai ph·∫ßn l√† New SubList v√† Old SubList, ƒë·∫∑t c√°c trang d·ªØ li·ªáu m·ªõi ƒë·ªçc v√†o ƒë·∫ßu Old SubList, c√°c trang d·ªØ li·ªáu trong Old SubList ƒë∆∞·ª£c truy c·∫≠p l·∫°i s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t v√†o ƒë·∫ßu New SubList; c√°c trang d·ªØ li·ªáu l·∫°nh th·∫•t b·∫°i trong vi·ªác ƒë·ªçc tr∆∞·ªõc s·∫Ω nhanh ch√≥ng b·ªã lo·∫°i b·ªè kh·ªèi Old SubList m√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn d·ªØ li·ªáu n√≥ng trong New SubList.</p><p>InnoDB s·ª≠ d·ª•ng c∆° ch·∫ø c·ª≠a s·ªï th·ªùi gian (Time Window) ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ √¥ nhi·ªÖm b·ªô ƒë·ªám: ƒë·ªëi v·ªõi c√°c trang d·ªØ li·ªáu trong Old SubList, ch√∫ng ph·∫£i ·ªü l·∫°i Old SubList trong m·ªôt kho·∫£ng th·ªùi gian nh·∫•t ƒë·ªãnh r·ªìi m·ªõi ƒë∆∞·ª£c chuy·ªÉn v√†o New SubList n·∫øu ƒë∆∞·ª£c truy c·∫≠p l·∫°i. C·ª≠a s·ªï m·∫∑c ƒë·ªãnh l√† 1 gi√¢y.</p><p>ƒê·ªëi v·ªõi truy v·∫•n d·ªØ li·ªáu trong Buffer Pool, InnoDB s·∫Ω ƒë·ªçc v√† tr·∫£ v·ªÅ tr·ª±c ti·∫øp; ƒë·ªëi v·ªõi s·ª≠a ƒë·ªïi d·ªØ li·ªáu trong Buffer Pool, InnoDB s·∫Ω s·ª≠a tr·ª±c ti·∫øp trong Buffer Pool v√† ghi s·ª≠a ƒë·ªïi v√†o redo Log. Khi trang d·ªØ li·ªáu b·ªã thu·∫≠t to√°n LRU lo·∫°i b·ªè, n√≥ s·∫Ω ƒë∆∞·ª£c ghi v√†o ƒëƒ©a, n·∫øu h·ªá th·ªëng g·∫∑p s·ª± c·ªë tr∆∞·ªõc khi ƒë∆∞·ª£c ghi v√†o ƒëƒ©a, s·∫Ω s·ª≠ d·ª•ng redo Log ƒë·ªÉ kh√¥i ph·ª•c khi kh·ªüi ƒë·ªông l·∫°i.</p><h3 id="bo-ƒëem-thay-ƒëoi-change-buffer" tabindex="-1"><a class="header-anchor" href="#bo-ƒëem-thay-ƒëoi-change-buffer"><span>B·ªô ƒë·ªám thay ƒë·ªïi (Change Buffer)</span></a></h3><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/202406241416527.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Change Buffer d√πng ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô ghi v√†o ch·ªâ m·ª•c th·ª© c·∫•p c·ªßa d·ªØ li·ªáu kh√¥ng n√≥ng. Do t√≠nh kh√¥ng li√™n t·ª•c c·ªßa d·ªØ li·ªáu ch·ªâ m·ª•c th·ª© c·∫•p, vi·ªác s·ª≠a ƒë·ªïi ch·ªâ m·ª•c th·ª© c·∫•p y√™u c·∫ßu I/O ƒëƒ©a th∆∞·ªùng xuy√™n, ti√™u t·ªën nhi·ªÅu hi·ªáu nƒÉng. Change Buffer l∆∞u tr·ªØ c√°c thao t√°c s·ª≠a ƒë·ªïi ch·ªâ m·ª•c th·ª© c·∫•p v√† ghi v√†o redo log. Khi Change Buffer ƒë·∫°t ƒë·∫øn m·ªôt l∆∞·ª£ng nh·∫•t ƒë·ªãnh ho·∫∑c h·ªá th·ªëng √≠t b·∫≠n r·ªôn, n√≥ s·∫Ω th·ª±c hi·ªán thao t√°c <code>ibuf merge</code> ƒë·ªÉ ghi s·ª≠a ƒë·ªïi v√†o ƒëƒ©a. Change Buffer c√≥ v√πng l∆∞u tr·ªØ b·ªÅn b·ªâ trong kh√¥ng gian b·∫£ng h·ªá th·ªëng.</p><p>K√≠ch th∆∞·ªõc Change Buffer m·∫∑c ƒë·ªãnh chi·∫øm 25% Buffer Pool, ƒë∆∞·ª£c kh·ªüi t·∫°o khi kh·ªüi ƒë·ªông m√°y ch·ªß. C·∫•u tr√∫c v·∫≠t l√Ω c·ªßa n√≥ l√† m·ªôt c√¢y B-Tree g·ªçi l√† <code>ibuf</code>. ƒêi·ªÅu ki·ªán s·ª≠ d·ª•ng Change Buffer l√†:</p><ul><li>InnoDB b·∫≠t <code>innodb_change_buffering</code> v√† b·∫£ng hi·ªán t·∫°i kh√¥ng c√≥ thao t√°c <code>flush</code>.</li><li>Ch·ªâ s·ª≠a ƒë·ªïi c√°c n√∫t l√° c·ªßa c√¢y ch·ªâ m·ª•c th·ª© c·∫•p v√† trang ch·ªâ m·ª•c kh√¥ng n·∫±m trong Buffer Pool.</li><li>ƒê·ªëi v·ªõi ch·ªâ m·ª•c th·ª© c·∫•p duy nh·∫•t, ch·ªâ c√≥ thao t√°c x√≥a c√≥ th·ªÉ ƒë∆∞·ª£c l∆∞u v√†o b·ªô ƒë·ªám.</li></ul><p>Th·ªùi ƒëi·ªÉm th·ª±c hi·ªán <code>ibuf merge</code>:</p><ul><li>Khi ng∆∞·ªùi d√πng s·ª≠ d·ª•ng ch·ªâ m·ª•c th·ª© c·∫•p ƒë·ªÉ truy v·∫•n.</li><li>Khi d·ª± ƒëo√°n r·∫±ng kh√¥ng gian trang s·∫Ω kh√¥ng ƒë·ªß khi l∆∞u tr·ªØ thao t√°c ch√®n, c√≥ th·ªÉ d·∫´n ƒë·∫øn ph√¢n chia trang ch·ªâ m·ª•c.</li><li>Khi thao t√°c l∆∞u tr·ªØ l·∫ßn n√†y d·∫´n ƒë·∫øn ph√¢n chia trang c√¢y ibuf v√† k√≠ch th∆∞·ªõc Change Buffer v∆∞·ª£t qu√° gi·ªõi h·∫°n sau khi ph√¢n lo·∫°i.</li><li>Khi lu·ªìng master th·ª±c hi·ªán l·ªánh <code>merge</code>.</li><li>Khi ng∆∞·ªùi d√πng th·ª±c hi·ªán thao t√°c <code>flush</code> tr√™n b·∫£ng.</li></ul><h3 id="chi-muc-bam-thich-nghi-adaptive-hash-index" tabindex="-1"><a class="header-anchor" href="#chi-muc-bam-thich-nghi-adaptive-hash-index"><span>Ch·ªâ m·ª•c bƒÉm th√≠ch nghi (Adaptive Hash Index)</span></a></h3><p>Ch·ªâ m·ª•c bƒÉm th√≠ch nghi (Adaptive Hash Index, AHI) d√πng ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy v·∫•n cho c√°c trang d·ªØ li·ªáu n√≥ng. Khi s·ª≠ d·ª•ng ch·ªâ m·ª•c c·ª•m (clustered index) ƒë·ªÉ ƒë·ªãnh v·ªã trang d·ªØ li·ªáu, c·∫ßn ƒëi t·ª´ n√∫t g·ªëc ƒë·∫øn n√∫t l√° c·ªßa c√¢y ch·ªâ m·ª•c, th∆∞·ªùng m·∫•t 3-4 l·∫ßn truy v·∫•n. InnoDB ph√¢n t√≠ch vi·ªác s·ª≠ d·ª•ng ch·ªâ m·ª•c v√† c√°c tr∆∞·ªùng ch·ªâ m·ª•c ƒë·ªÉ t·∫°o ho·∫∑c x√≥a ch·ªâ m·ª•c bƒÉm m·ªôt c√°ch t·ª± ƒë·ªông.</p><p>AHI √°p d·ª•ng cho c√°c trang d·ªØ li·ªáu v√† ch·ªâ m·ª•c ƒë∆∞·ª£c truy v·∫•n th∆∞·ªùng xuy√™n. V√¨ trang d·ªØ li·ªáu l√† m·ªôt ph·∫ßn c·ªßa ch·ªâ m·ª•c c·ª•m, AHI ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n ch·ªâ m·ª•c. <strong>ƒê·ªëi v·ªõi ch·ªâ m·ª•c th·ª© c·∫•p, n·∫øu tr√∫ng AHI, s·∫Ω l·∫•y tr·ª±c ti·∫øp con tr·ªè b·∫£n ghi t·ª´ ch·ªâ m·ª•c th·ª© c·∫•p trong AHI v√† sau ƒë√≥ theo kh√≥a ch√≠nh t√¨m d·ªØ li·ªáu d·ªçc theo ch·ªâ m·ª•c c·ª•m; n·∫øu truy v·∫•n ch·ªâ m·ª•c c·ª•m c≈©ng tr√∫ng AHI, s·∫Ω tr·∫£ v·ªÅ tr·ª±c ti·∫øp con tr·ªè b·∫£n ghi c·ªßa trang d·ªØ li·ªáu m·ª•c ti√™u, t·ª´ ƒë√≥ c√≥ th·ªÉ ƒë·ªãnh v·ªã trang d·ªØ li·ªáu tr·ª±c ti·∫øp theo con tr·ªè b·∫£n ghi</strong>.</p><p>K√≠ch th∆∞·ªõc AHI l√† 1/64 c·ªßa Buffer Pool. T·ª´ MySQL 5.7 tr·ªü ƒëi, AHI h·ªó tr·ª£ ph√¢n v√πng ƒë·ªÉ gi·∫£m c·∫°nh tranh tr√™n kh√≥a AHI to√†n c·ª•c, m·∫∑c ƒë·ªãnh l√† 8 ph√¢n v√πng.</p><h3 id="bo-ƒëem-nhat-ky-log-buffer" tabindex="-1"><a class="header-anchor" href="#bo-ƒëem-nhat-ky-log-buffer"><span>B·ªô ƒë·ªám nh·∫≠t k√Ω (Log Buffer)</span></a></h3><p>B·ªô ƒë·ªám nh·∫≠t k√Ω (Log Buffer) ƒë∆∞·ª£c d√πng ƒë·ªÉ l∆∞u tr·ªØ t·∫°m th·ªùi c√°c d·ªØ li·ªáu nh·∫≠t k√Ω c·∫ßn ghi v√†o ƒëƒ©a. T·∫•t c·∫£ c√°c thao t√°c s·ª≠a ƒë·ªïi c·ªßa InnoDB s·∫Ω ƒë∆∞·ª£c ghi v√†o c√°c t·ªáp nh·∫≠t k√Ω nh∆∞ redo log, undo log. N·∫øu m·ªói l·∫ßn s·ª≠a ƒë·ªïi ƒë·ªÅu ƒë∆∞·ª£c ghi tr·ª±c ti·∫øp v√†o ƒëƒ©a, s·∫Ω g√¢y ra r·∫•t nhi·ªÅu I/O. Log Buffer t·ªëi ∆∞u v·∫•n ƒë·ªÅ n√†y b·∫±ng c√°ch l∆∞u tr·ªØ c√°c thao t√°c s·ª≠a ƒë·ªïi trong v√πng nh·ªõ n√†y tr∆∞·ªõc, sau ƒë√≥ ƒë·ªãnh k·ª≥ ghi h√†ng lo·∫°t v√†o ƒëƒ©a.</p><p>K√≠ch th∆∞·ªõc c·ªßa b·ªô ƒë·ªám nh·∫≠t k√Ω c√≥ th·ªÉ ƒë∆∞·ª£c ƒëi·ªÅu ch·ªânh b·∫±ng c·∫•u h√¨nh <code>innodb_log_buffer_size</code>, m·∫∑c ƒë·ªãnh l√† 16MB.</p><h2 id="myisam" tabindex="-1"><a class="header-anchor" href="#myisam"><span>MyISAM</span></a></h2><p>MyISAM l√† h·ªá th·ªëng l∆∞u tr·ªØ m·∫∑c ƒë·ªãnh c·ªßa MySQL tr∆∞·ªõc phi√™n b·∫£n 5.5.</p><p>MyISAM ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë∆°n gi·∫£n v·ªõi d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ theo ƒë·ªãnh d·∫°ng n√©n. MyISAM th√≠ch h·ª£p cho d·ªØ li·ªáu ch·ªâ ƒë·ªçc, ho·∫∑c b·∫£ng nh·ªè c√≥ th·ªÉ ch·∫•p nh·∫≠n c√°c thao t√°c s·ª≠a ch·ªØa.</p><p>MyISAM s·ª≠ d·ª•ng c·∫•u tr√∫c B+Tree cho ch·ªâ m·ª•c, trong ƒë√≥ <strong>n√∫t l√° c·ªßa tr∆∞·ªùng d·ªØ li·ªáu l∆∞u tr·ªØ ƒë·ªãa ch·ªâ c·ªßa c√°c b·∫£n ghi d·ªØ li·ªáu</strong>.</p><p>MyISAM cung c·∫•p nhi·ªÅu t√≠nh nƒÉng nh∆∞: ch·ªâ m·ª•c to√†n vƒÉn, b·∫£ng n√©n, v√† c√°c h√†m kh√¥ng gian. Tuy nhi√™n, MyISAM kh√¥ng h·ªó tr·ª£ giao d·ªãch v√† kh√≥a c·∫•p h√†ng. MyISAM c≈©ng kh√¥ng h·ªó tr·ª£ kh√¥i ph·ª•c an to√†n sau khi h·ªá th·ªëng g·∫∑p s·ª± c·ªë.</p><p>C·∫•u tr√∫c t·ªáp v·∫≠t l√Ω c·ªßa MyISAM:</p><ul><li>T·ªáp <code>.frm</code>: l∆∞u tr·ªØ th√¥ng tin si√™u d·ªØ li·ªáu li√™n quan ƒë·∫øn b·∫£ng, bao g·ªìm ƒë·ªãnh nghƒ©a c·∫•u tr√∫c b·∫£ng.</li><li>T·ªáp <code>.MYD</code> (<code>MYData</code>): d√†nh ri√™ng cho MyISAM ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu c·ªßa b·∫£ng MyISAM.</li><li>T·ªáp <code>.MYI</code> (<code>MYIndex</code>): d√†nh ri√™ng cho MyISAM ƒë·ªÉ l∆∞u tr·ªØ th√¥ng tin li√™n quan ƒë·∫øn ch·ªâ m·ª•c c·ªßa b·∫£ng MyISAM.</li></ul><h2 id="so-sanh-innodb-va-myisam" tabindex="-1"><a class="header-anchor" href="#so-sanh-innodb-va-myisam"><span>So s√°nh InnoDB v√† MyISAM</span></a></h2><p>B·∫£ng so s√°nh gi·ªØa InnoDB v√† MyISAM:</p><table><thead><tr><th>ƒê·ªëi chi·∫øu</th><th>MyISAM</th><th>InnoDB</th></tr></thead><tbody><tr><td>Kh√≥a ngo·∫°i</td><td>Kh√¥ng h·ªó tr·ª£</td><td>H·ªó tr·ª£</td></tr><tr><td>Giao d·ªãch</td><td>Kh√¥ng h·ªó tr·ª£</td><td>H·ªó tr·ª£</td></tr><tr><td>Kh√≥a</td><td>H·ªó tr·ª£ kh√≥a c·∫•p b·∫£ng</td><td>H·ªó tr·ª£ kh√≥a c·∫•p b·∫£ng v√† kh√≥a c·∫•p h√†ng</td></tr><tr><td>Ch·ªâ m·ª•c</td><td>S·ª≠ d·ª•ng ch·ªâ m·ª•c kh√¥ng ph√¢n c·ª•m</td><td>Ch·ªâ m·ª•c ch√≠nh s·ª≠ d·ª•ng ch·ªâ m·ª•c ph√¢n c·ª•m ƒë·ªÉ c·∫£i thi·ªán hi·ªáu su·∫•t IO</td></tr><tr><td>Kh√¥ng gian b·∫£ng</td><td>Nh·ªè</td><td>L·ªõn</td></tr><tr><td>ƒêi·ªÉm t·∫≠p trung</td><td>Hi·ªáu su·∫•t</td><td>Giao d·ªãch</td></tr><tr><td>B·ªô ƒë·∫øm</td><td>Duy tr√¨ b·ªô ƒë·∫øm, hi·ªáu su·∫•t <code>SELECT COUNT(*)</code> l√† <code>O(1)</code></td><td>Kh√¥ng duy tr√¨ b·ªô ƒë·∫øm, c·∫ßn qu√©t to√†n b·ªô b·∫£ng</td></tr></tbody></table><p>InnoDB th∆∞·ªùng ƒë∆∞·ª£c ch·ªçn khi c·∫ßn h·ªó tr·ª£ giao d·ªãch, kh√≥a c·∫•p h√†ng v√† kh·∫£ nƒÉng kh√¥i ph·ª•c sau s·ª± c·ªë, trong khi MyISAM c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c b·∫£ng ch·ªâ ƒë·ªçc ho·∫∑c b·∫£ng nh·ªè n∆°i hi·ªáu su·∫•t v√† kh√¥ng gian l∆∞u tr·ªØ l√† ∆∞u ti√™n ch√≠nh.</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/vanhung4499/my-wiki/edit/main/src/database/mysql/engine.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last update: </span><!----></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: vanhung4499@gmail.com">Hung Nguyen Van</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/database/mysql/architecture.html" aria-label="MySQL Architecture"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon>MySQL Architecture</div></a><a class="route-link auto-link next" href="/database/mysql/mysql-index.html" aria-label="MySQL Index"><div class="hint">Next<span class="arrow end"></span></div><div class="link">MySQL Index<iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql" width="1em" height="1em"></iconify-icon></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper" style="display:none;--1ea755b8:;"><div class="footer-content"><div class="footer">Made with ‚ù§Ô∏è by Hung Nguyen</div><div class="copyright">Copyright ¬© 2016-2024 Hung Nguyen</div></div><span id="runtime_span"></span></footer></div><!--]--><!--[--><!----><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-eD31-AQ-.js" defer></script>
  </body>
</html>
