import{_ as d,g as c,o as t,c as o,e as i,h as s,f as e,w as p,a as l}from"./app-5QVbWi7Z.js";const r={};function u(E,n){const a=c("RouteLink");return t(),o("div",null,[n[8]||(n[8]=i("h1",{id:"【库存】其它入库、其它出库",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#【库存】其它入库、其它出库"},[i("span",null,"【库存】其它入库、其它出库")])],-1)),i("p",null,[n[1]||(n[1]=s("本文接 ")),e(a,{to:"/erp/stock/"},{default:p(()=>n[0]||(n[0]=[s("《【库存】仓库、产品库存、库存明细》")])),_:1}),n[2]||(n[2]=s("，主要讲解库存管理的其它入库、其它出库。它们的表关系如下图所示："))]),n[9]||(n[9]=l('<figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/表关系.png" alt="表关系" tabindex="0" loading="lazy"><figcaption>表关系</figcaption></figure><h2 id="_1-其它入库" tabindex="-1"><a class="header-anchor" href="#_1-其它入库"><span><a href="#_1-%E5%85%B6%E5%AE%83%E5%85%A5%E5%BA%93">#</a> 1. 其它入库</span></a></h2><p>其它入库，由 ErpStockInController 提供接口，一些 ERP 系统也会称为“仓库入库”，将产品从仓库放进去，<strong>增加</strong> 产品的库存。</p><p>为什么要叫“其它”入库呢？是指除了采购入库、生产入库之外的其它入库操作。</p><h3 id="_1-表结构" tabindex="-1"><a class="header-anchor" href="#_1-表结构"><span><a href="#_1-%E8%A1%A8%E7%BB%93%E6%9E%84">#</a> 1. 表结构</span></a></h3><p><code>erp_stock_in</code> 表和 <code>erp_stock_in_item</code> 表，分别对应入库单和入库项。</p><blockquote><p>省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>CREATE TABLE `erp_stock_in` (</span></span>\n<span class="line"><span>  `id` bigint NOT NULL AUTO_INCREMENT COMMENT &#39;入库编号&#39;,</span></span>\n<span class="line"><span>  `no` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT &#39;入库单号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `supplier_id` bigint DEFAULT NULL COMMENT &#39;供应商编号&#39;,</span></span>\n<span class="line"><span>  `in_time` datetime NOT NULL COMMENT &#39;入库时间&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `total_count` decimal(24,6) NOT NULL COMMENT &#39;合计数量&#39;,</span></span>\n<span class="line"><span>  `total_price` decimal(24,6) NOT NULL COMMENT &#39;合计金额，单位：元&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `status` tinyint NOT NULL COMMENT &#39;状态&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;备注&#39;,</span></span>\n<span class="line"><span>  `file_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;附件 URL&#39;,</span></span>\n<span class="line"><span>  PRIMARY KEY (`id`)</span></span>\n<span class="line"><span>) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT=&#39;ERP 其它入库单表&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>① <code>no</code>：入库单号，一般是系统自动生成的，目前格式是 <code>{prefix}{yyyyMMdd}{6 位自增}</code>。具体可见 ErpNoRedisDAO 类，如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/单号生成.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>② <code>supplier_id</code>：供应商编号。</p><p>③ <code>total_count</code> 和 <code>total_price</code>：合计数量和金额，目前只是记录，并无特殊逻辑。</p>',12)),i("p",null,[n[4]||(n[4]=s("④ ")),n[5]||(n[5]=i("code",null,"status",-1)),n[6]||(n[6]=s("：状态，统一使用 ErpAuditStatus 枚举类，只有“未审批”、“已审批”两个状态，后续会接入到 ")),e(a,{to:"/bpm/"},{default:p(()=>n[3]||(n[3]=[s("BPM 工作流")])),_:1}),n[7]||(n[7]=s(" 中。"))]),n[10]||(n[10]=l('<figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/审核状态.png" alt="审核状态" tabindex="0" loading="lazy"><figcaption>审核状态</figcaption></figure><hr><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>CREATE TABLE `erp_stock_in_item` (</span></span>\n<span class="line"><span>  `id` bigint NOT NULL AUTO_INCREMENT COMMENT &#39;入库项编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `in_id` bigint NOT NULL COMMENT &#39;入库编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `warehouse_id` bigint NOT NULL COMMENT &#39;仓库编号&#39;,</span></span>\n<span class="line"><span>  `product_id` bigint NOT NULL COMMENT &#39;产品编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `product_unit_id` bigint NOT NULL COMMENT &#39;产品单位编号&#39;,</span></span>\n<span class="line"><span>  `product_price` decimal(24,6) DEFAULT NULL COMMENT &#39;产品单价&#39;,</span></span>\n<span class="line"><span>  `count` decimal(24,6) NOT NULL COMMENT &#39;产品数量&#39;,</span></span>\n<span class="line"><span>  `total_price` decimal(24,6) DEFAULT NULL COMMENT &#39;合计金额，单位：元&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;备注&#39;,</span></span>\n<span class="line"><span>  PRIMARY KEY (`id`)</span></span>\n<span class="line"><span>) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT=&#39;ERP 其它入库单项表&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>① <code>in_id</code>：入库编号，关联到上面的 <code>erp_stock_in</code> 表。</p><p>② <code>warehouse_id</code> 和 <code>product_id</code>：分别关联到仓库和产品。</p><p>③ <code>product_unit_id</code>、<code>product_price</code>、<code>count</code> 和 <code>total_price</code>：产品单位编号、产品单价、数量和金额。</p><p>其中 <code>total_price</code> 等于 <code>product_price * count</code>。</p><h3 id="_1-2-管理后台" tabindex="-1"><a class="header-anchor" href="#_1-2-管理后台"><span><a href="#_1-2-%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0">#</a> 1.2 管理后台</span></a></h3><p>对应 [ERP 系统 -&gt; 库存管理 -&gt; 其它入库] 菜单，对应 <code>yudao-ui-admin-vue3</code> 项目的 <code>@/views/erp/stock/in</code> 目录。</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它入库.png" alt="管理后台 - 其它入库" tabindex="0" loading="lazy"><figcaption>管理后台 - 其它入库</figcaption></figure><p>① 点击「新增」按钮，随便填写一些信息，点击「确认」按钮，即可新增一条其它入库单。</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它入库-新增.png" alt="新增其它入库" tabindex="0" loading="lazy"><figcaption>新增其它入库</figcaption></figure><p>② 点击该入库单的「审批」按钮，审批通过该入库单，此时状态会变成“已审批”，同时增加对应的库存、新增库存明细。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它入库-审批.png" alt="审批其它入库" tabindex="0" loading="lazy"><figcaption>审批其它入库</figcaption></figure><p>③ 点击该入库单的「反审批」按钮，反审批该入库单，此时状态会变成“未审批”，同时减少对应的库存、新增库存明细。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它入库-反审批.png" alt="反审批其它入库" tabindex="0" loading="lazy"><figcaption>反审批其它入库</figcaption></figure><h2 id="_2-其它出库" tabindex="-1"><a class="header-anchor" href="#_2-其它出库"><span><a href="#_2-%E5%85%B6%E5%AE%83%E5%87%BA%E5%BA%93">#</a> 2. 其它出库</span></a></h2><p>其它出库，由 ErpStockOutController 提供接口，一些 ERP 系统也会称为“仓库出库”，将产品从仓库拿出来，<strong>减少</strong> 产品的库存。</p><p>为什么要叫“其它”出库呢？是指除了销售出库、生产出库之外的其它出库操作。</p><h3 id="_2-表结构" tabindex="-1"><a class="header-anchor" href="#_2-表结构"><span><a href="#_2-%E8%A1%A8%E7%BB%93%E6%9E%84">#</a> 2. 表结构</span></a></h3><p>友情提示：其它出库相关的表，和其它入库相关的表结构基本一致。</p><p><code>erp_stock_out</code> 表和 <code>erp_stock_out_item</code> 表，分别对应出库单和出库项。</p><blockquote><p>省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段</p></blockquote><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>CREATE TABLE `erp_stock_out` (</span></span>\n<span class="line"><span>  `id` bigint NOT NULL AUTO_INCREMENT COMMENT &#39;出库编号&#39;,</span></span>\n<span class="line"><span>  `no` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT &#39;出库单号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `customer_id` bigint DEFAULT NULL COMMENT &#39;客户编号&#39;,</span></span>\n<span class="line"><span>  `out_time` datetime NOT NULL COMMENT &#39;出库时间&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `total_count` decimal(24,6) NOT NULL COMMENT &#39;合计数量&#39;,</span></span>\n<span class="line"><span>  `total_price` decimal(24,6) NOT NULL COMMENT &#39;合计金额，单位：元&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `status` tinyint NOT NULL COMMENT &#39;状态&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;备注&#39;,</span></span>\n<span class="line"><span>  `file_url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;附件 URL&#39;,</span></span>\n<span class="line"><span>  PRIMARY KEY (`id`)</span></span>\n<span class="line"><span>) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT=&#39;ERP 其它入库单表&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>① <code>no</code>：出库单号，一般是系统自动生成的，目前格式是 <code>{prefix}{yyyyMMdd}{6 位自增}</code>。具体可见 ErpNoRedisDAO 类。</p><p>② <code>customer_id</code>：客户编号。</p><p>③ <code>total_count</code> 和 <code>total_price</code>：合计数量和金额，目前只是记录，并无特殊逻辑。</p><p>④ <code>status</code>：状态，统一使用 ErpAuditStatus 枚举类，只有“未审批”、“已审批”两个状态。</p><hr><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>CREATE TABLE `erp_stock_out_item` (</span></span>\n<span class="line"><span>  `id` bigint NOT NULL AUTO_INCREMENT COMMENT &#39;出库项编号&#39;,</span></span>\n<span class="line"><span>  `out_id` bigint NOT NULL COMMENT &#39;出库编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `warehouse_id` bigint NOT NULL COMMENT &#39;仓库编号&#39;,</span></span>\n<span class="line"><span>  `product_id` bigint NOT NULL COMMENT &#39;产品编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `product_unit_id` bigint NOT NULL COMMENT &#39;产品单位编号&#39;,</span></span>\n<span class="line"><span>  `product_price` decimal(24,6) DEFAULT NULL COMMENT &#39;产品单价&#39;,</span></span>\n<span class="line"><span>  `count` decimal(24,6) NOT NULL COMMENT &#39;产品数量&#39;,</span></span>\n<span class="line"><span>  `total_price` decimal(24,6) DEFAULT NULL COMMENT &#39;合计金额，单位：元&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `remark` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;备注&#39;,</span></span>\n<span class="line"><span>  PRIMARY KEY (`id`)</span></span>\n<span class="line"><span>) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT=&#39;ERP 其它出库单项表&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>① <code>out_id</code>：出库编号，关联到上面的 <code>erp_stock_out</code> 表。</p><p>② <code>warehouse_id</code> 和 <code>product_id</code>：分别关联到仓库和产品。</p><p>③ <code>product_unit_id</code>、<code>product_price</code>、<code>count</code> 和 <code>total_price</code>：产品单位编号、产品单价、数量和金额。</p><p>其中 <code>total_price</code> 等于 <code>product_price * count</code>。</p><h3 id="_2-2-管理后台" tabindex="-1"><a class="header-anchor" href="#_2-2-管理后台"><span><a href="#_2-2-%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0">#</a> 2.2 管理后台</span></a></h3><p>对应 [ERP 系统 -&gt; 库存管理 -&gt; 其它出库] 菜单，对应 <code>yudao-ui-admin-vue3</code> 项目的 <code>@/views/erp/stock/out</code> 目录。</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它出库.png" alt="管理后台 - 其它出库" tabindex="0" loading="lazy"><figcaption>管理后台 - 其它出库</figcaption></figure><p>① 点击「新增」按钮，随便填写一些信息，点击「确认」按钮，即可新增一条其它出库单。</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它出库-新增.png" alt="新增其它出库" tabindex="0" loading="lazy"><figcaption>新增其它出库</figcaption></figure><p>② 点击该出库单的「审批」按钮，审批通过该出库单，此时状态会变成“已审批”，同时减少对应的库存、新增库存明细。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它出库-审批.png" alt="审批其它出库" tabindex="0" loading="lazy"><figcaption>审批其它出库</figcaption></figure><p>③ 点击该出库单的「反审批」按钮，反审批该出库单，此时状态会变成“未审批”，同时增加对应的库存、新增库存明细。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/ERP手册/库存模块02/其它出库-反审批.png" alt="反审批其它出库" tabindex="0" loading="lazy"><figcaption>反审批其它出库</figcaption></figure>',43))])}const v=d(r,[["render",u],["__file","stock-in-out.html.vue"]]),b=JSON.parse('{"path":"/project/yudao-cloud/erp/stock-in-out.html","title":"【库存】其它入库、其它出库","lang":"en-US","frontmatter":{"title":"【库存】其它入库、其它出库","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":117,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. 其它入库","slug":"_1-其它入库","link":"#_1-其它入库","children":[{"level":3,"title":"# 1. 表结构","slug":"_1-表结构","link":"#_1-表结构","children":[]},{"level":3,"title":"# 1.2 管理后台","slug":"_1-2-管理后台","link":"#_1-2-管理后台","children":[]}]},{"level":2,"title":"# 2. 其它出库","slug":"_2-其它出库","link":"#_2-其它出库","children":[{"level":3,"title":"# 2. 表结构","slug":"_2-表结构","link":"#_2-表结构","children":[]},{"level":3,"title":"# 2.2 管理后台","slug":"_2-2-管理后台","link":"#_2-2-管理后台","children":[]}]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":6.33,"words":1899},"filePathRelative":"project/yudao-cloud/erp/stock-in-out.md","localizedDate":"July 7, 2024"}');export{v as comp,b as data};
