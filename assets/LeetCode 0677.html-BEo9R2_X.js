import{_ as i,o as a,c as n,a as t}from"./app-CmlOSuIY.js";const l={};function h(e,s){return a(),n("div",null,s[0]||(s[0]=[t(`<h1 id="_0677-map-sum-pairs" tabindex="-1"><a class="header-anchor" href="#_0677-map-sum-pairs"><span><a href="https://leetcode.com/problems/map-sum-pairs/" target="_blank" rel="noopener noreferrer">0677. Map Sum Pairs</a></span></a></h1><ul><li>Tags: Thiết kế, Cây tiền tố, Bảng băm, Chuỗi</li><li>Độ khó: Trung bình</li></ul><h2 id="tom-tat-đe-bai" tabindex="-1"><a class="header-anchor" href="#tom-tat-đe-bai"><span>Tóm tắt đề bài</span></a></h2><p><strong>Yêu cầu</strong>: Triển khai lớp MapSum, hỗ trợ hai phương thức <code>insert</code> và <code>sum</code>:</p><ul><li><code>MapSum()</code> Khởi tạo đối tượng MapSum.</li><li><code>void insert(String key, int val)</code> Chèn cặp khóa <code>key-val</code> vào, trong đó chuỗi <code>key</code> đại diện cho khóa và số nguyên <code>val</code> đại diện cho giá trị. Nếu khóa <code>key</code> đã tồn tại, cặp khóa giá trị cũ sẽ bị thay thế bằng cặp khóa giá trị mới.</li><li><code>int sum(string prefix)</code> Trả về tổng giá trị của tất cả các khóa <code>key</code> bắt đầu bằng tiền tố <code>prefix</code>.</li></ul><p><strong>Giải thích</strong>:</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mtext>key.length, prefix.length</mtext><mo>≤</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">1 \\le \\text{key.length, prefix.length} \\le 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">key.length, prefix.length</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span>.</li><li><code>key</code> và <code>prefix</code> chỉ chứa các ký tự chữ cái thường.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mtext>val</mtext><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \\le \\text{val} \\le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em;"></span><span class="mord text"><span class="mord">val</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>.</li><li>Gọi hàm <code>insert</code> và <code>sum</code> tối đa <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50</mn></mrow><annotation encoding="application/x-tex">50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span> lần.</li></ul><p><strong>Ví dụ</strong>:</p><ul><li>Ví dụ 1:</li></ul><div class="language-python" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Input:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;MapSum&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;insert&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;sum&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;insert&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;sum&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[[], [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;apple&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ap&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;app&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ap&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Output:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">[null, null, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, null, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Giải thích:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">MapSum mapSum </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> new </span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">MapSum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#FFFFFF;--shiki-dark:#FFFFFF;">;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mapSum.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">insert</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;apple&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mapSum.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ap&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);           </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">//</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> Trả về </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (apple = </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mapSum.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">insert</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;app&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);    </span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">mapSum.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">sum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ap&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);           </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">//</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> Trả về </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> (apple </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> app = </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><h2 id="y-tuong-giai-quyet" tabindex="-1"><a class="header-anchor" href="#y-tuong-giai-quyet"><span>Ý tưởng giải quyết</span></a></h2><h3 id="y-tuong-1-cay-tien-to-trie" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-cay-tien-to-trie"><span>Ý tưởng 1: Cây tiền tố (Trie)</span></a></h3><p>Chúng ta có thể xây dựng một cây tiền tố (Trie) để giải quyết bài toán.</p><ul><li>Trong quá trình khởi tạo, chúng ta xây dựng một cây tiền tố (Trie) và thêm biến <code>value</code>.</li><li>Khi gọi phương thức chèn, chúng ta lưu trữ <code>key</code> trong cây tiền tố và lưu trữ <code>value</code> tương ứng trong nút chữ cái tương ứng.</li><li>Khi gọi phương thức tính tổng, chúng ta trước tiên tìm kiếm nút cây tiền tố tương ứng với tiền tố <code>prefix</code>, bắt đầu từ nút đó, chúng ta duyệt qua các nút con và tính tổng các <code>value</code> của các nút con, sau đó trả về tổng tích lũy.</li></ul><h3 id="y-tuong-1-đoan-ma" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-đoan-ma"><span>Ý tưởng 1: Đoạn mã</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.children </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.isEnd </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> False</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.value </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Trie</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.root </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> Node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> insert</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">val</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        cur </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.root</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ch </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> key:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ch </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> cur.children:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                cur.children[ch] </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> Node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            cur </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> cur.children[ch]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        cur.isEnd </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> True</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        cur.value </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> val</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> search</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">prefix</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        cur </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.root</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ch </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> prefix:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> ch </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> cur.children:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">                return</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            cur </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> cur.children[ch]</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(cur)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">root</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> root:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        res </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> root.value</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> node </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> root.children.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">values</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            res </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(node)</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> res</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> MapSum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.trie </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> Trie</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> insert</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">val</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">None</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.trie.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">insert</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(key, val)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> sum</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">prefix</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.trie.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(prefix)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="y-tuong-1-đo-phuc-tap" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-đo-phuc-tap"><span>Ý tưởng 1: Độ phức tạp</span></a></h3><ul><li><strong>Độ phức tạp thời gian</strong>: Phương thức <code>insert</code> có độ phức tạp thời gian là <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∣</mi><mi>k</mi><mi>e</mi><mi>y</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|key|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">ey</span><span class="mord">∣</span><span class="mclose">)</span></span></span></span>, trong đó <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>k</mi><mi>e</mi><mi>y</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|key|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">ey</span><span class="mord">∣</span></span></span></span> là độ dài của chuỗi <code>key</code>. Phương thức <code>sum</code> có độ phức tạp thời gian là <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∣</mi><mi>p</mi><mi>r</mi><mi>e</mi><mi>f</mi><mi>i</mi><mi>x</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|prefix|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mclose">)</span></span></span></span>, trong đó <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>p</mi><mi>r</mi><mi>e</mi><mi>f</mi><mi>i</mi><mi>x</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|prefix|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">p</span><span class="mord mathnormal">re</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">x</span><span class="mord">∣</span></span></span></span> là độ dài của chuỗi <code>prefix</code>.</li><li><strong>Độ phức tạp không gian</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">∣</mi><mi>T</mi><mi mathvariant="normal">∣</mi><mo>×</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|T| \\times m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span>. Trong đó <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>T</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">|T|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord">∣</span></span></span></span> là độ dài lớn nhất của chuỗi <code>key</code>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> là số lượng cặp khóa-giá trị <code>key-val</code>.</li></ul>`,18)]))}const k=i(l,[["render",h],["__file","LeetCode 0677.html.vue"]]),B=JSON.parse('{"path":"/dsa/leetcode/LeetCode%200677.html","title":"LeetCode 0677","lang":"en-US","frontmatter":{"title":"LeetCode 0677","tags":["dsa","leetcode"],"categories":["dsa","leetcode"],"date created":"2023-09-24T00:00:00.000Z","date modified":"2023-09-30T00:00:00.000Z","description":"0677. Map Sum Pairs Tags: Thiết kế, Cây tiền tố, Bảng băm, Chuỗi Độ khó: Trung bình Tóm tắt đề bài Yêu cầu: Triển khai lớp MapSum, hỗ trợ hai phương thức insert và sum: MapSum()...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/dsa/leetcode/LeetCode%200677.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"LeetCode 0677"}],["meta",{"property":"og:description","content":"0677. Map Sum Pairs Tags: Thiết kế, Cây tiền tố, Bảng băm, Chuỗi Độ khó: Trung bình Tóm tắt đề bài Yêu cầu: Triển khai lớp MapSum, hỗ trợ hai phương thức insert và sum: MapSum()..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"dsa"}],["meta",{"property":"article:tag","content":"leetcode"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"LeetCode 0677\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Tóm tắt đề bài","slug":"tom-tat-đe-bai","link":"#tom-tat-đe-bai","children":[]},{"level":2,"title":"Ý tưởng giải quyết","slug":"y-tuong-giai-quyet","link":"#y-tuong-giai-quyet","children":[{"level":3,"title":"Ý tưởng 1: Cây tiền tố (Trie)","slug":"y-tuong-1-cay-tien-to-trie","link":"#y-tuong-1-cay-tien-to-trie","children":[]},{"level":3,"title":"Ý tưởng 1: Đoạn mã","slug":"y-tuong-1-đoan-ma","link":"#y-tuong-1-đoan-ma","children":[]},{"level":3,"title":"Ý tưởng 1: Độ phức tạp","slug":"y-tuong-1-đo-phuc-tap","link":"#y-tuong-1-đo-phuc-tap","children":[]}]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":2.19,"words":658},"filePathRelative":"dsa/leetcode/LeetCode 0677.md","localizedDate":"June 28, 2024","excerpt":"\\n<ul>\\n<li>Tags: Thiết kế, Cây tiền tố, Bảng băm, Chuỗi</li>\\n<li>Độ khó: Trung bình</li>\\n</ul>\\n<h2>Tóm tắt đề bài</h2>\\n<p><strong>Yêu cầu</strong>: Triển khai lớp MapSum, hỗ trợ hai phương thức <code>insert</code> và <code>sum</code>:</p>\\n<ul>\\n<li><code>MapSum()</code> Khởi tạo đối tượng MapSum.</li>\\n<li><code>void insert(String key, int val)</code> Chèn cặp khóa <code>key-val</code> vào, trong đó chuỗi <code>key</code> đại diện cho khóa và số nguyên <code>val</code> đại diện cho giá trị. Nếu khóa <code>key</code> đã tồn tại, cặp khóa giá trị cũ sẽ bị thay thế bằng cặp khóa giá trị mới.</li>\\n<li><code>int sum(string prefix)</code> Trả về tổng giá trị của tất cả các khóa <code>key</code> bắt đầu bằng tiền tố <code>prefix</code>.</li>\\n</ul>","autoDesc":true}');export{k as comp,B as data};
