import{_ as s,o as a,c as n,d as i}from"./app-BdwADm4z.js";const l={},o=i(`<h1 id="ham-bat-Ä‘ong-bo-async-function" tabindex="-1"><a class="header-anchor" href="#ham-bat-Ä‘ong-bo-async-function"><span>HÃ m báº¥t Ä‘á»“ng bá»™ - Async Function</span></a></h1><p>HÃ m <code>async</code> lÃ  má»™t cÃº phÃ¡p Ä‘Æ¡n giáº£n hÆ¡n cá»§a hÃ m Generator. NÃ³ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng tá»« khÃ³a <code>async</code> vÃ  sá»­ dá»¥ng lá»‡nh <code>await</code> Ä‘á»ƒ biá»ƒu thá»‹ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™.</p><p>So vá»›i Generator, hÃ m <code>async</code> cÃ³ nhá»¯ng cáº£i tiáº¿n sau Ä‘Ã¢y:</p><ul><li><strong>Bá»™ thá»±c thi tÃ­ch há»£p</strong>: Viá»‡c thá»±c thi hÃ m Generator pháº£i dá»±a vÃ o bá»™ thá»±c thi, trong khi hÃ m <code>async</code> cÃ³ bá»™ thá»±c thi tÃ­ch há»£p sáºµn, vÃ  cÃ¡ch gá»i nÃ³ giá»‘ng nhÆ° gá»i má»™t hÃ m thÃ´ng thÆ°á»ng.</li><li><strong>Ã nghÄ©a rÃµ rÃ ng hÆ¡n</strong>: <code>async</code> vÃ  <code>await</code> cÃ³ Ã½ nghÄ©a rÃµ rÃ ng hÆ¡n so vá»›i dáº¥u sao (<code>*</code>) vÃ  <code>yield</code>. <code>async</code> biá»ƒu thá»‹ ráº±ng hÃ m cÃ³ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™, <code>await</code> biá»ƒu thá»‹ ráº±ng biá»ƒu thá»©c tiáº¿p theo cáº§n Ä‘á»£i káº¿t quáº£.</li><li><strong>Ãp dá»¥ng rá»™ng hÆ¡n</strong>: Module <code>co</code> quy Ä‘á»‹nh ráº±ng sau lá»‡nh <code>yield</code> chá»‰ cÃ³ thá»ƒ lÃ  hÃ m Thunk hoáº·c Ä‘á»‘i tÆ°á»£ng Promise, trong khi sau lá»‡nh <code>await</code> cá»§a hÃ m <code>async</code> cÃ³ thá»ƒ lÃ  Promise vÃ  cÃ¡c giÃ¡ trá»‹ nguyÃªn thá»§y (Number, String vÃ  Boolean, nhÆ°ng sáº½ tá»± Ä‘á»™ng chuyá»ƒn thÃ nh Promise vá»›i tráº¡ng thÃ¡i <code>fulfilled</code> ngay láº­p tá»©c).</li><li><strong>GiÃ¡ trá»‹ tráº£ vá» lÃ  Promise</strong>: HÃ m <code>async</code> tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise, Ä‘iá»u nÃ y thuáº­n tiá»‡n hÆ¡n so vá»›i hÃ m Generator tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Iterator. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>then</code> Ä‘á»ƒ chá»‰ Ä‘á»‹nh cÃ¡c bÆ°á»›c tiáº¿p theo.</li></ul><p>Má»™t cÃ¡ch khÃ¡i quÃ¡t, hÃ m <code>async</code> cÃ³ thá»ƒ coi lÃ  má»™t táº­p há»£p cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng Promise, vÃ  lá»‡nh <code>await</code> chá»‰ lÃ  cÃº phÃ¡p Ä‘Æ¡n giáº£n cá»§a lá»‡nh <code>then</code> bÃªn trong.</p><p><strong>So sÃ¡nh giá»¯a hÃ m <code>async</code> vÃ  hÃ m Generator</strong></p><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;">HÃ m async</th><th style="text-align:left;">HÃ m Generator</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>CÃ¡ch khai bÃ¡o</strong></td><td style="text-align:left;"><code>async function(){}</code></td><td style="text-align:left;"><code>function* (){}</code></td></tr><tr><td style="text-align:left;"><strong>Lá»‡nh báº¥t Ä‘á»“ng bá»™</strong></td><td style="text-align:left;"><code>await</code></td><td style="text-align:left;"><code>yield</code></td></tr></tbody></table><h2 id="cu-phap-co-ban" tabindex="-1"><a class="header-anchor" href="#cu-phap-co-ban"><span>CÃº phÃ¡p cÆ¡ báº£n</span></a></h2><h3 id="khai-bao-ham-bat-Ä‘ong-bo" tabindex="-1"><a class="header-anchor" href="#khai-bao-ham-bat-Ä‘ong-bo"><span>Khai bÃ¡o hÃ m báº¥t Ä‘á»“ng bá»™</span></a></h3><p>Báº¥t ká»³ hÃ m nÃ o Ä‘Æ°á»£c khai bÃ¡o vá»›i tá»« khÃ³a <code>async</code> Ä‘á»u tá»± Ä‘á»™ng tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise sau khi thá»±c thi.</p><p>HÃ m <code>async</code> tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise, vÃ  báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>then</code> Ä‘á»ƒ thÃªm cÃ¡c hÃ m gá»i láº¡i. Khi hÃ m Ä‘Æ°á»£c thá»±c thi, náº¿u gáº·p lá»‡nh <code>await</code>, nÃ³ sáº½ táº¡m dá»«ng vÃ  Ä‘á»£i cho Ä‘áº¿n khi hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ hoÃ n thÃ nh, sau Ä‘Ã³ tiáº¿p tá»¥c thá»±c thi cÃ¡c cÃ¢u lá»‡nh trong thÃ¢n hÃ m.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">ms</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">ms</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">arg1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">ms</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">ms</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> arg1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">500</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;Hello world!&#39;</span></span></code></pre></div><h3 id="cau-lenh-bat-Ä‘ong-bo-trong-ham" tabindex="-1"><a class="header-anchor" href="#cau-lenh-bat-Ä‘ong-bo-trong-ham"><span>CÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™ trong hÃ m</span></a></h3><p>Lá»‡nh <code>await</code> chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong hÃ m <code>async</code>, khÃ´ng thá»ƒ sá»­ dá»¥ng Ä‘á»™c láº­p.</p><p>VÃ¬ hÃ m <code>async</code> tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise, nÃªn nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m Ä‘á»‘i sá»‘ cho lá»‡nh <code>await</code>.</p><h3 id="gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo" tabindex="-1"><a class="header-anchor" href="#gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo"><span>GiÃ¡ trá»‹ tráº£ vá» cá»§a cÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™</span></a></h3><p>Lá»‡nh <code>await</code> pháº£i Ä‘Æ°á»£c theo sau bá»Ÿi má»™t Promise.</p><p>Má»™t trong cÃ¡c chá»©c nÄƒng cá»§a lá»‡nh <code>await</code> lÃ  nháº­n giÃ¡ trá»‹ Ä‘Æ°á»£c truyá»n tá»« tráº¡ng thÃ¡i thÃ nh cÃ´ng cá»§a Ä‘á»‘i tÆ°á»£ng Promise.</p><p>Lá»‡nh <code>await</code> chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong hÃ m <code>async</code>, náº¿u khÃ´ng sáº½ gÃ¢y ra lá»—i.</p><h2 id="cu-phap" tabindex="-1"><a class="header-anchor" href="#cu-phap"><span>CÃº phÃ¡p</span></a></h2><h3 id="kieu-gia-tri-tra-ve" tabindex="-1"><a class="header-anchor" href="#kieu-gia-tri-tra-ve"><span>Kiá»ƒu giÃ¡ trá»‹ tráº£ vá»</span></a></h3><p>HÃ m <code>async</code> tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise.</p><p>GiÃ¡ trá»‹ Ä‘Æ°á»£c tráº£ vá» bá»Ÿi lá»‡nh <code>return</code> trong hÃ m <code>async</code> sáº½ trá»Ÿ thÃ nh Ä‘á»‘i sá»‘ cá»§a hÃ m gá»i láº¡i cá»§a phÆ°Æ¡ng thá»©c <code>then</code>.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;Hello world!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;Hello world!&#39;</span></span></code></pre></div><p>Náº¿u hÃ m <code>async</code> nÃ©m ra má»™t ngoáº¡i lá»‡, Ä‘á»‘i tÆ°á»£ng Promise tráº£ vá» sáº½ cÃ³ tráº¡ng thÃ¡i bá»‹ tá»« chá»‘i (<code>rejected</code>). Lá»—i Ä‘Æ°á»£c nÃ©m ra sáº½ Ä‘Æ°á»£c nháº­n bá»Ÿi hÃ m gá»i láº¡i cá»§a phÆ°Æ¡ng thá»©c <code>catch</code>.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  throw</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Error</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Error&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  .</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  .</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span></code></pre></div><h3 id="thay-Ä‘oi-trang-thai-gia-tri-tra-ve" tabindex="-1"><a class="header-anchor" href="#thay-Ä‘oi-trang-thai-gia-tri-tra-ve"><span>Thay Ä‘á»•i tráº¡ng thÃ¡i giÃ¡ trá»‹ tráº£ vá»</span></a></h3><p>Äá»‘i tÆ°á»£ng Promise tráº£ vá» tá»« hÃ m <code>async</code> chá»‰ thay Ä‘á»•i tráº¡ng thÃ¡i sau khi táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng Promise sau lá»‡nh <code>await</code> trong hÃ m Ä‘Ã£ thá»±c thi xong, trá»« khi gáº·p lá»‡nh <code>return</code> hoáº·c nÃ©m ra lá»—i. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  chá»‰ khi táº¥t cáº£ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ trong hÃ m <code>async</code> Ä‘Ã£ hoÃ n thÃ nh, phÆ°Æ¡ng thá»©c <code>then</code> Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh má»›i Ä‘Æ°á»£c thá»±c thi.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;done&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;done&#39;</span></span></code></pre></div><p>Trong Ä‘oáº¡n mÃ£ trÃªn, hÃ m <code>foo</code> cÃ³ ba hÃ m trá»…. Chá»‰ khi ba hoáº¡t Ä‘á»™ng nÃ y Ä‘Ã£ hoÃ n thÃ nh theo thá»© tá»±, phÆ°Æ¡ng thá»©c <code>console.log</code> trong phÆ°Æ¡ng thá»©c <code>then</code> má»›i Ä‘Æ°á»£c thá»±c thi.</p><h3 id="gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo-1" tabindex="-1"><a class="header-anchor" href="#gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo-1"><span>GiÃ¡ trá»‹ tráº£ vá» cá»§a cÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™</span></a></h3><p>ThÆ°á»ng thÃ¬ lá»‡nh <code>await</code> sáº½ Ä‘Æ°á»£c theo sau bá»Ÿi má»™t Ä‘á»‘i tÆ°á»£ng Promise vÃ  tráº£ vá» káº¿t quáº£ cá»§a Ä‘á»‘i tÆ°á»£ng Promise Ä‘Ã³. Náº¿u khÃ´ng pháº£i lÃ  má»™t Ä‘á»‘i tÆ°á»£ng Promise, giÃ¡ trá»‹ tÆ°Æ¡ng á»©ng sáº½ Ä‘Æ°á»£c tráº£ vá» trá»±c tiáº¿p.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">fn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> =&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// 1</span></span></code></pre></div><h2 id="xu-ly-ngoai-le" tabindex="-1"><a class="header-anchor" href="#xu-ly-ngoai-le"><span>Xá»­ lÃ½ ngoáº¡i lá»‡</span></a></h2><h3 id="bat-ngoai-le" tabindex="-1"><a class="header-anchor" href="#bat-ngoai-le"><span>Báº¯t ngoáº¡i lá»‡</span></a></h3><p>Náº¿u má»™t Ä‘á»‘i tÆ°á»£ng Promise sau lá»‡nh <code>await</code> trá»Ÿ thÃ nh tráº¡ng thÃ¡i <code>rejected</code>, thÃ¬ toÃ n bá»™ hÃ m <code>async</code> sáº½ dá»«ng láº¡i.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">reject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Error!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // KhÃ´ng Ä‘Æ°á»£c thá»±c thi</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>Khi má»™t hÃ m <code>async</code> cÃ³ má»™t cÃ¢u lá»‡nh <code>await</code> tráº£ vá» má»™t Promise á»Ÿ tráº¡ng thÃ¡i <code>rejected</code>, cÃ¡c cÃ¢u lá»‡nh <code>await</code> sau Ä‘Ã³ sáº½ khÃ´ng Ä‘Æ°á»£c thá»±c thi.</p><p><strong>Giáº£i phÃ¡p</strong>: Sá»­ dá»¥ng cÃ¢u lá»‡nh [[JS Try Statement|try-catch]] hoáº·c sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>catch</code> trÃªn Promise tráº£ vá» tá»« cÃ¢u lá»‡nh <code>await</code> Ä‘á»ƒ báº¯t lá»—i.</p><p>ÄÃ´i khi, chÃºng ta muá»‘n tiáº¿p tá»¥c thá»±c hiá»‡n cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ sau khi má»™t hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ trÆ°á»›c Ä‘Ã³ tháº¥t báº¡i. Trong trÆ°á»ng há»£p nÃ y, báº¡n cÃ³ thá»ƒ Ä‘áº·t cÃ¢u lá»‡nh <code>await</code> Ä‘áº§u tiÃªn trong má»™t khá»‘i <code>tryâ€¦catch</code> Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng dÃ¹ hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ Ä‘Ã³ thÃ nh cÃ´ng hay khÃ´ng, cÃ¢u lá»‡nh <code>await</code> thá»© hai váº«n Ä‘Æ°á»£c thá»±c thi.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  try</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">reject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Error!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // xá»­ lÃ½ lá»—i</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;Hello world!&#39;</span></span></code></pre></div><p>Má»™t phÆ°Æ¡ng phÃ¡p khÃ¡c lÃ  gáº¯n thÃªm phÆ°Æ¡ng thá»©c <code>catch</code> vÃ o Ä‘á»‘i tÆ°á»£ng Promise tráº£ vá» tá»« cÃ¢u lá»‡nh <code>await</code>, Ä‘á»ƒ xá»­ lÃ½ lá»—i cÃ³ thá»ƒ xáº£y ra trÆ°á»›c Ä‘Ã³.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">reject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Error!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Hello world!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;Error!&#39;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// &#39;Hello world!&#39;</span></span></code></pre></div><h3 id="gian-Ä‘oan-hoat-Ä‘ong" tabindex="-1"><a class="header-anchor" href="#gian-Ä‘oan-hoat-Ä‘ong"><span>GiÃ¡n Ä‘oáº¡n hoáº¡t Ä‘á»™ng</span></a></h3><p>Náº¿u hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ sau lá»‡nh <code>await</code> gáº·p lá»—i, thÃ¬ hÃ m <code>async</code> sáº½ tráº£ vá» má»™t Promise bá»‹ tá»« chá»‘i (<code>rejected</code>).</p><p>Sá»­ dá»¥ng cÃ¢u lá»‡nh <code>tryâ€¦catch</code> Ä‘á»ƒ thá»±c hiá»‡n nhiá»u láº§n thá»­ láº¡i.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> superagent</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> require</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;superagent&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> NUM_RETRIES</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> i</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">i</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#E06C75;--shiki-dark:#E06C75;">i</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> NUM_RETRIES</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">; </span><span style="color:#E06C75;--shiki-dark:#E06C75;">i</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">++</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    try</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> superagent</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;https://google.com/this-throws-an-error&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      break</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">      // xá»­ lÃ½ lá»—i</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">i</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // 3</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Náº¿u hoáº¡t Ä‘á»™ng <code>await</code> thÃ nh cÃ´ng, sáº½ sá»­ dá»¥ng cÃ¢u lá»‡nh <code>break</code> Ä‘á»ƒ thoÃ¡t khá»i vÃ²ng láº·p; náº¿u tháº¥t báº¡i, nÃ³ sáº½ Ä‘Æ°á»£c báº¯t bá»Ÿi cÃ¢u lá»‡nh <code>catch</code>, sau Ä‘Ã³ tiáº¿p tá»¥c vÃ²ng láº·p tiáº¿p theo.</p><h2 id="nguyen-ly-trien-khai" tabindex="-1"><a class="header-anchor" href="#nguyen-ly-trien-khai"><span>NguyÃªn lÃ½ triá»ƒn khai</span></a></h2><p>CÃ¡ch thá»©c triá»ƒn cá»§a hÃ m <code>async</code> lÃ  Ä‘Ã³ng gÃ³i hÃ m Generator vÃ  trÃ¬nh thá»±c thi tá»± Ä‘á»™ng vÃ o trong má»™t hÃ m.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // ...</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> spawn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function*</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // ...</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>Táº¥t cáº£ cÃ¡c hÃ m <code>async</code> cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng thá»© hai nhÆ° trÃªn, trong Ä‘Ã³ <code>spawn</code> lÃ  trÃ¬nh thá»±c thi tá»± Ä‘á»™ng.</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> spawn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">genF</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">reject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> gen</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> genF</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> step</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">nextF</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      try</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        next</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> nextF</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> reject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">done</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">v</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">          step</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> gen</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">v</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">          });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">          step</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> gen</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">throw</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">          });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      );</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    step</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">      return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> gen</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">next</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">undefined</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="thuc-hanh-tot-nhat" tabindex="-1"><a class="header-anchor" href="#thuc-hanh-tot-nhat"><span>Thá»±c hÃ nh tá»‘t nháº¥t</span></a></h2><h3 id="chan-bat-Ä‘ong-bo" tabindex="-1"><a class="header-anchor" href="#chan-bat-Ä‘ong-bo"><span>Cháº·n báº¥t Ä‘á»“ng bá»™</span></a></h3><p>CÃ¡c yÃªu cáº§u sau luÃ´n phá»¥ thuá»™c vÃ o dá»¯ liá»‡u Ä‘Æ°á»£c tráº£ vá» tá»« yÃªu cáº§u trÆ°á»›c Ä‘Ã³.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> request</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">rejecr</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(() </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getResult</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> p1</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> request</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">500</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> p2</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> request</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p1</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> p3</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> request</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">p2</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> p3</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getResult</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  .</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">res</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  .</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  });</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bat-Ä‘ong-bo-khong-chan" tabindex="-1"><a class="header-anchor" href="#bat-Ä‘ong-bo-khong-chan"><span>Báº¥t Ä‘á»“ng bá»™ khÃ´ng cháº·n</span></a></h3><p>Trong má»™t sá»‘ tÃ¬nh huá»‘ng kinh doanh, báº¡n cÃ³ thá»ƒ cáº§n xá»­ lÃ½ nhiá»u bÆ°á»›c liÃªn tiáº¿p, nhÆ°ng cÃ¡c bÆ°á»›c nÃ y khÃ´ng nháº¥t thiáº¿t phá»¥ thuá»™c vÃ o nhau. Do Ä‘Ã³, báº¡n cÃ³ thá»ƒ tá»‘i Æ°u hÃ³a cÃ¡c hoáº¡t Ä‘á»™ng nÃ y.</p><p>Káº¿t há»£p giá»¯a Báº¥t Ä‘á»“ng bá»™ cháº·n vÃ  Báº¥t Ä‘á»“ng bá»™ khÃ´ng cháº·n, chÃºng ta cÃ³ thá»ƒ táº­n dá»¥ng Event Loop vÃ  thá»±c hiá»‡n cÃ¡c hÃ m báº¥t Ä‘á»“ng bá»™ nÃ y Ä‘á»“ng thá»i.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Chá»n pizza</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> selectPizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Láº¥y dá»¯ liá»‡u pizza báº¥t Ä‘á»“ng bá»™</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> pizzaData</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getPizzaData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Chá»n pizza</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> chosenPizza</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> choosePizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // ThÃªm pizza Ä‘Ã£ chá»n vÃ o giá» hÃ ng báº¥t Ä‘á»“ng bá»™</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> addPizzaToCart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">chosenPizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Chá»n Ä‘á»“ uá»‘ng</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> selectDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Láº¥y dá»¯ liá»‡u Ä‘á»“ uá»‘ng báº¥t Ä‘á»“ng bá»™</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> drinkData</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getDrinkData</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Chá»n Ä‘á»“ uá»‘ng</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> chosenDrink</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> chooseDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // ThÃªm Ä‘á»“ uá»‘ng Ä‘Ã£ chá»n vÃ o giá» hÃ ng báº¥t Ä‘á»“ng bá»™</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> addDrinkToCart</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">chosenDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Thá»±c hiá»‡n cÃ¡c hÃ m báº¥t Ä‘á»“ng bá»™ nÃ y Ä‘á»“ng thá»i</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">all</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">([</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">selectPizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(), </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">selectDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()]).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">orderItems</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">})();</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ThÃªm má»™t cÃ¡ch viáº¿t tÆ°Æ¡ng tá»± vÃ  tinh táº¿ hÆ¡n.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">all</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">selectPizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">choosePizza</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">), </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">selectDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">then</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">chooseDrink</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span></code></pre></div><h3 id="bat-Ä‘ong-bo-Ä‘ong-thoi" tabindex="-1"><a class="header-anchor" href="#bat-Ä‘ong-bo-Ä‘ong-thoi"><span>Báº¥t Ä‘á»“ng bá»™ Ä‘á»“ng thá»i</span></a></h3><p>CÃ¡c yÃªu cáº§u máº¡ng Ä‘á»“ng thá»i khÃ´ng phá»¥ thuá»™c vÃ o nhau, tá»‘t nháº¥t lÃ  sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>Promise.all</code> Ä‘á»ƒ cÃ¹ng lÃºc gá»­i cÃ¡c yÃªu cáº§u.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">userList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">orderList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">] </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">all</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">([</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getUserList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(), </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getOrderList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> userPromise</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getUserList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> orderPromise</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getOrderList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> user</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> userPromise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> order</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> orderPromise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Cáº£ hai cÃ¡ch viáº¿t trÃªn Ä‘á»u cho phÃ©p <code>getUserList</code> vÃ  <code>getOrderList</code> Ä‘Æ°á»£c gá»­i cÃ¹ng má»™t lÃºc, giÃºp rÃºt ngáº¯n thá»i gian thá»±c thi chÆ°Æ¡ng trÃ¬nh.</p><h3 id="bat-Ä‘ong-bo-Ä‘a-luong-khong-xac-Ä‘inh" tabindex="-1"><a class="header-anchor" href="#bat-Ä‘ong-bo-Ä‘a-luong-khong-xac-Ä‘inh"><span>Báº¥t Ä‘á»“ng bá»™ Ä‘a luá»“ng khÃ´ng xÃ¡c Ä‘á»‹nh</span></a></h3><p>Tiáº¿p tá»¥c tá»« phÆ°Æ¡ng phÃ¡p thá»±c hÃ nh trÆ°á»›c, khi chÃºng ta cáº§n giáº£i quyáº¿t má»™t sá»‘ lÆ°á»£ng khÃ´ng xÃ¡c Ä‘á»‹nh cÃ¡c Promise, chÃºng ta chá»‰ cáº§n táº¡o má»™t máº£ng vÃ  lÆ°u trá»¯ chÃºng, sau Ä‘Ã³ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>Promise.all</code> Ä‘á»ƒ Ä‘á»£i Ä‘á»“ng thá»i táº¥t cáº£ cÃ¡c Promise tráº£ vá» káº¿t quáº£.</p><p>ğŸŒ° <strong>VÃ­ dá»¥</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> foo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // CÃ¡c má»¥c cáº¥u hÃ¬nh hÃ ng loáº¡t</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> items</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> batchDisposal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Má»—i má»¥c cáº¥u hÃ¬nh tÆ°Æ¡ng á»©ng vá»›i má»™t yÃªu cáº§u báº¥t Ä‘á»“ng bá»™</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> promises</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> items</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> sendRequest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">all</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">promises</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="vong-lap-bat-Ä‘ong-bo-khong-cho-ket-qua" tabindex="-1"><a class="header-anchor" href="#vong-lap-bat-Ä‘ong-bo-khong-cho-ket-qua"><span>VÃ²ng láº·p báº¥t Ä‘á»“ng bá»™ khÃ´ng chá» káº¿t quáº£</span></a></h3><p><code>await</code> cho má»—i tÃ¡c vá»¥ láº·p láº¡i, lÆ°u Ã½ ráº±ng hÃ m vÃ´ danh Ä‘Æ°á»£c thá»±c thi trong vÃ²ng láº·p cÅ©ng pháº£i Ä‘Æ°á»£c Ä‘áº·t lÃ  má»™t hÃ m báº¥t Ä‘á»“ng bá»™ <code>async</code>.</p><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">resolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">300</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delayedLog</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // lÆ°u Ã½ ráº±ng chÃºng ta cÃ³ thá»ƒ Ä‘á»£i má»™t hÃ m tráº£ vá» Promise</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delay</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // log item chá»‰ sau má»™t khoáº£ng thá»i gian chá»</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> execute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">forEach</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> delayLog</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">item</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;DONE!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="lap-tuan-tu-bat-Ä‘ong-bo" tabindex="-1"><a class="header-anchor" href="#lap-tuan-tu-bat-Ä‘ong-bo"><span>Láº·p tuáº§n tá»± báº¥t Ä‘á»“ng bá»™</span></a></h3><p>Äá»ƒ Ä‘á»£i táº¥t cáº£ cÃ¡c káº¿t quáº£ tráº£ vá», chÃºng ta pháº£i quay láº¡i cÃ¡ch viáº¿t truyá»n thá»‘ng vá»›i vÃ²ng láº·p <code>for</code>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> execute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> result</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  for</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> task</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> of</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    try</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">push</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">await</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> task</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">catch</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">err</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">push</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> result</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>VÃ²ng láº·p trÃªn Ä‘Æ°á»£c thá»±c hiá»‡n <strong>tuáº§n tá»±</strong>, chÃºng ta cÅ©ng cÃ³ thá»ƒ chuyá»ƒn Ä‘á»•i nÃ³ thÃ nh <strong>Ä‘á»“ng thá»i</strong>.</p><h3 id="lap-Ä‘ong-thoi-bat-Ä‘ong-bo" tabindex="-1"><a class="header-anchor" href="#lap-Ä‘ong-thoi-bat-Ä‘ong-bo"><span>Láº·p Ä‘á»“ng thá»i báº¥t Ä‘á»“ng bá»™</span></a></h3><p>ChÃºng ta cÃ³ thá»ƒ thay Ä‘á»•i mÃ£ trÃªn Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™ <strong>Ä‘á»“ng thá»i</strong>:</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">async</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> execute</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // Ã¡nh xáº¡ cÃ¡c tÃ¡c vá»¥ thÃ nh cÃ¡c Promise</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> promises</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> tasks</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">delayLog</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // chá» cho Ä‘áº¿n khi táº¥t cáº£ cÃ¡c Promise Ä‘Æ°á»£c giáº£i quyáº¿t</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  await</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Promise</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">all</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">promises</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;DONE!&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div>`,94),r=[o];function e(t,p){return a(),n("div",null,r)}const B=s(l,[["render",e],["__file","async-function.html.vue"]]),k=JSON.parse('{"path":"/programming/js/core/function/declarations/async-function.html","title":"Async Function Definition","lang":"en-US","frontmatter":{"title":"Async Function Definition","tags":["js","programming"],"categories":["js","programming"],"date created":"2023-08-04T00:00:00.000Z","date modified":"2023-08-04T00:00:00.000Z","order":3,"description":"HÃ m báº¥t Ä‘á»“ng bá»™ - Async Function HÃ m async lÃ  má»™t cÃº phÃ¡p Ä‘Æ¡n giáº£n hÆ¡n cá»§a hÃ m Generator. NÃ³ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng tá»« khÃ³a async vÃ  sá»­ dá»¥ng lá»‡nh await Ä‘á»ƒ biá»ƒu thá»‹ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/programming/js/core/function/declarations/async-function.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Async Function Definition"}],["meta",{"property":"og:description","content":"HÃ m báº¥t Ä‘á»“ng bá»™ - Async Function HÃ m async lÃ  má»™t cÃº phÃ¡p Ä‘Æ¡n giáº£n hÆ¡n cá»§a hÃ m Generator. NÃ³ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng tá»« khÃ³a async vÃ  sá»­ dá»¥ng lá»‡nh await Ä‘á»ƒ biá»ƒu thá»‹ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"programming"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Async Function Definition\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"CÃº phÃ¡p cÆ¡ báº£n","slug":"cu-phap-co-ban","link":"#cu-phap-co-ban","children":[{"level":3,"title":"Khai bÃ¡o hÃ m báº¥t Ä‘á»“ng bá»™","slug":"khai-bao-ham-bat-Ä‘ong-bo","link":"#khai-bao-ham-bat-Ä‘ong-bo","children":[]},{"level":3,"title":"CÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™ trong hÃ m","slug":"cau-lenh-bat-Ä‘ong-bo-trong-ham","link":"#cau-lenh-bat-Ä‘ong-bo-trong-ham","children":[]},{"level":3,"title":"GiÃ¡ trá»‹ tráº£ vá» cá»§a cÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™","slug":"gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo","link":"#gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo","children":[]}]},{"level":2,"title":"CÃº phÃ¡p","slug":"cu-phap","link":"#cu-phap","children":[{"level":3,"title":"Kiá»ƒu giÃ¡ trá»‹ tráº£ vá»","slug":"kieu-gia-tri-tra-ve","link":"#kieu-gia-tri-tra-ve","children":[]},{"level":3,"title":"Thay Ä‘á»•i tráº¡ng thÃ¡i giÃ¡ trá»‹ tráº£ vá»","slug":"thay-Ä‘oi-trang-thai-gia-tri-tra-ve","link":"#thay-Ä‘oi-trang-thai-gia-tri-tra-ve","children":[]},{"level":3,"title":"GiÃ¡ trá»‹ tráº£ vá» cá»§a cÃ¢u lá»‡nh báº¥t Ä‘á»“ng bá»™","slug":"gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo-1","link":"#gia-tri-tra-ve-cua-cau-lenh-bat-Ä‘ong-bo-1","children":[]}]},{"level":2,"title":"Xá»­ lÃ½ ngoáº¡i lá»‡","slug":"xu-ly-ngoai-le","link":"#xu-ly-ngoai-le","children":[{"level":3,"title":"Báº¯t ngoáº¡i lá»‡","slug":"bat-ngoai-le","link":"#bat-ngoai-le","children":[]},{"level":3,"title":"GiÃ¡n Ä‘oáº¡n hoáº¡t Ä‘á»™ng","slug":"gian-Ä‘oan-hoat-Ä‘ong","link":"#gian-Ä‘oan-hoat-Ä‘ong","children":[]}]},{"level":2,"title":"NguyÃªn lÃ½ triá»ƒn khai","slug":"nguyen-ly-trien-khai","link":"#nguyen-ly-trien-khai","children":[]},{"level":2,"title":"Thá»±c hÃ nh tá»‘t nháº¥t","slug":"thuc-hanh-tot-nhat","link":"#thuc-hanh-tot-nhat","children":[{"level":3,"title":"Cháº·n báº¥t Ä‘á»“ng bá»™","slug":"chan-bat-Ä‘ong-bo","link":"#chan-bat-Ä‘ong-bo","children":[]},{"level":3,"title":"Báº¥t Ä‘á»“ng bá»™ khÃ´ng cháº·n","slug":"bat-Ä‘ong-bo-khong-chan","link":"#bat-Ä‘ong-bo-khong-chan","children":[]},{"level":3,"title":"Báº¥t Ä‘á»“ng bá»™ Ä‘á»“ng thá»i","slug":"bat-Ä‘ong-bo-Ä‘ong-thoi","link":"#bat-Ä‘ong-bo-Ä‘ong-thoi","children":[]},{"level":3,"title":"Báº¥t Ä‘á»“ng bá»™ Ä‘a luá»“ng khÃ´ng xÃ¡c Ä‘á»‹nh","slug":"bat-Ä‘ong-bo-Ä‘a-luong-khong-xac-Ä‘inh","link":"#bat-Ä‘ong-bo-Ä‘a-luong-khong-xac-Ä‘inh","children":[]},{"level":3,"title":"VÃ²ng láº·p báº¥t Ä‘á»“ng bá»™ khÃ´ng chá» káº¿t quáº£","slug":"vong-lap-bat-Ä‘ong-bo-khong-cho-ket-qua","link":"#vong-lap-bat-Ä‘ong-bo-khong-cho-ket-qua","children":[]},{"level":3,"title":"Láº·p tuáº§n tá»± báº¥t Ä‘á»“ng bá»™","slug":"lap-tuan-tu-bat-Ä‘ong-bo","link":"#lap-tuan-tu-bat-Ä‘ong-bo","children":[]},{"level":3,"title":"Láº·p Ä‘á»“ng thá»i báº¥t Ä‘á»“ng bá»™","slug":"lap-Ä‘ong-thoi-bat-Ä‘ong-bo","link":"#lap-Ä‘ong-thoi-bat-Ä‘ong-bo","children":[]}]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":8.82,"words":2646},"filePathRelative":"programming/js/core/function/declarations/async-function.md","localizedDate":"June 28, 2024","excerpt":"\\n<p>HÃ m <code>async</code> lÃ  má»™t cÃº phÃ¡p Ä‘Æ¡n giáº£n hÆ¡n cá»§a hÃ m Generator. NÃ³ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u báº±ng tá»« khÃ³a <code>async</code> vÃ  sá»­ dá»¥ng lá»‡nh <code>await</code> Ä‘á»ƒ biá»ƒu thá»‹ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™.</p>\\n<p>So vá»›i Generator, hÃ m <code>async</code> cÃ³ nhá»¯ng cáº£i tiáº¿n sau Ä‘Ã¢y:</p>\\n<ul>\\n<li><strong>Bá»™ thá»±c thi tÃ­ch há»£p</strong>: Viá»‡c thá»±c thi hÃ m Generator pháº£i dá»±a vÃ o bá»™ thá»±c thi, trong khi hÃ m <code>async</code> cÃ³ bá»™ thá»±c thi tÃ­ch há»£p sáºµn, vÃ  cÃ¡ch gá»i nÃ³ giá»‘ng nhÆ° gá»i má»™t hÃ m thÃ´ng thÆ°á»ng.</li>\\n<li><strong>Ã nghÄ©a rÃµ rÃ ng hÆ¡n</strong>: <code>async</code> vÃ  <code>await</code> cÃ³ Ã½ nghÄ©a rÃµ rÃ ng hÆ¡n so vá»›i dáº¥u sao (<code>*</code>) vÃ  <code>yield</code>. <code>async</code> biá»ƒu thá»‹ ráº±ng hÃ m cÃ³ cÃ¡c hoáº¡t Ä‘á»™ng báº¥t Ä‘á»“ng bá»™, <code>await</code> biá»ƒu thá»‹ ráº±ng biá»ƒu thá»©c tiáº¿p theo cáº§n Ä‘á»£i káº¿t quáº£.</li>\\n<li><strong>Ãp dá»¥ng rá»™ng hÆ¡n</strong>: Module <code>co</code> quy Ä‘á»‹nh ráº±ng sau lá»‡nh <code>yield</code> chá»‰ cÃ³ thá»ƒ lÃ  hÃ m Thunk hoáº·c Ä‘á»‘i tÆ°á»£ng Promise, trong khi sau lá»‡nh <code>await</code> cá»§a hÃ m <code>async</code> cÃ³ thá»ƒ lÃ  Promise vÃ  cÃ¡c giÃ¡ trá»‹ nguyÃªn thá»§y (Number, String vÃ  Boolean, nhÆ°ng sáº½ tá»± Ä‘á»™ng chuyá»ƒn thÃ nh Promise vá»›i tráº¡ng thÃ¡i <code>fulfilled</code> ngay láº­p tá»©c).</li>\\n<li><strong>GiÃ¡ trá»‹ tráº£ vá» lÃ  Promise</strong>: HÃ m <code>async</code> tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Promise, Ä‘iá»u nÃ y thuáº­n tiá»‡n hÆ¡n so vá»›i hÃ m Generator tráº£ vá» má»™t Ä‘á»‘i tÆ°á»£ng Iterator. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>then</code> Ä‘á»ƒ chá»‰ Ä‘á»‹nh cÃ¡c bÆ°á»›c tiáº¿p theo.</li>\\n</ul>","autoDesc":true}');export{B as comp,k as data};
