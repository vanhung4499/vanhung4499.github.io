import{_ as l,g as d,o as p,c,a as n,e as o,h as i,f as t,w as r}from"./app-5QVbWi7Z.js";const s={};function u(m,e){const a=d("RouteLink");return p(),c("div",null,[e[5]||(e[5]=n('<h1 id="功能开启" tabindex="-1"><a class="header-anchor" href="#功能开启"><span>功能开启</span></a></h1><p>进度说明：</p><ul><li>管理后台，请使用 <a href="https://gitee.com/yudaocode/yudao-ui-admin-vue3" target="_blank" rel="noopener noreferrer">https://gitee.com/yudaocode/yudao-ui-admin-vue3</a> 仓库的 <code>master</code> 分支</li><li>后端项目，请使用 <a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro" target="_blank" rel="noopener noreferrer">https://gitee.com/zhijiantianya/ruoyi-vue-pro</a> 仓库的 <code>master</code>（JDK8） 或 <code>master-jdk17</code>（JDK17/21） 分支<br> BPM 系统，后端由 <code>yudao-module-bpm</code> 模块实现，前端由 <code>yudao-ui-admin-vue3</code> 的 <code>bpm</code> 目录实现。</li></ul><p>考虑到编译速度，默认 <code>yudao-module-bpm</code> 模块是关闭的，需要手动开启。步骤如下：</p><ul><li>第一步，开启 <code>yudao-module-bpm</code> 模块</li><li>第二步，导入 bpm 系统的 SQL 数据库脚本</li><li>第三步，重启后端项目，确认功能是否生效</li></ul><h2 id="_1-第一步-开启模块" tabindex="-1"><a class="header-anchor" href="#_1-第一步-开启模块"><span><a href="#_1-%E7%AC%AC%E4%B8%80%E6%AD%A5-%E5%BC%80%E5%90%AF%E6%A8%A1%E5%9D%97">#</a> 1. 第一步，开启模块</span></a></h2><p>① 修改根目录的 <a href="https://github.com/YunaiV/ruoyi-vue-pro/blob/master/pom.xml" target="_blank" rel="noopener noreferrer"><code>pom.xml</code></a> 文件，取消 <code>yudao-module-bpm</code> 模块的注释。</p><figure><img src="https://doc.iocoder.cn/img/工作流手册/功能开启/第一步-01.png" alt="引入  模块" tabindex="0" loading="lazy"><figcaption>引入 模块</figcaption></figure><p>② 第二步，修改 <code>yudao-server</code> 的 <a href="https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-server/pom.xml" target="_blank" rel="noopener noreferrer"><code>pom.xml</code></a> 文件，取消 <code>yudao-module-bpm-biz</code> 依赖的注释，并进行 IDEA 的 Maven 刷新。</p><figure><img src="https://doc.iocoder.cn/img/工作流手册/功能开启/第一步-02.png" alt="引入  依赖" tabindex="0" loading="lazy"><figcaption>引入 依赖</figcaption></figure><p>③ 点击 IDEA 右上角的【Reload All Maven Projects】，刷新 Maven 依赖。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/公众号手册/功能开启/第一步-03.png" alt="刷新 Maven 依赖" tabindex="0" loading="lazy"><figcaption>刷新 Maven 依赖</figcaption></figure><h2 id="_2-第二步-导入-sql" tabindex="-1"><a class="header-anchor" href="#_2-第二步-导入-sql"><span><a href="#_2-%E7%AC%AC%E4%BA%8C%E6%AD%A5-%E5%AF%BC%E5%85%A5-sql">#</a> 2. 第二步，导入 SQL</span></a></h2><p>点击 <a href="https://t.zsxq.com/150EPtWgV" target="_blank" rel="noopener noreferrer"><code>bpm-2024-03-24.sql.zip</code></a> 下载附件，解压出 SQL 文件，然后导入到数据库中。</p><p>友情提示：↑↑↑ bpm.sql 是可以点击下载的！ ↑↑↑</p><figure><img src="https://doc.iocoder.cn/img/工作流手册/功能开启/SQL导入.png" alt="导入 " tabindex="0" loading="lazy"><figcaption>导入 </figcaption></figure><p>以 <code>bpm_</code> 作为前缀的表，就是 BPM 模块的表。</p><h2 id="_3-第三步-重启项目" tabindex="-1"><a class="header-anchor" href="#_3-第三步-重启项目"><span><a href="#_3-%E7%AC%AC%E4%B8%89%E6%AD%A5-%E9%87%8D%E5%90%AF%E9%A1%B9%E7%9B%AE">#</a> 3. 第三步，重启项目</span></a></h2><p>重启后端项目，重启项目，看到 <code>Property Source flowable-liquibase-override refreshed</code> 说明开启成功。</p><p>然后访问前端的 BPM 菜单，确认功能是否生效。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/工作流手册/功能演示/管理后台.png" alt="管理后台" tabindex="0" loading="lazy"><figcaption>管理后台</figcaption></figure><p>另外，启动过程中，Flowable 会自动创建 <code>ACT_</code> 和 <code>FLW_</code> 开头的表。</p><p>常见问题：</p><p>① 问题：如果启动中报 <a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro/issues/I57FYM" target="_blank" rel="noopener noreferrer">MySQL “Specified key was too long; max key length is 1000 bytes”</a> 错误？</p><p>解决方案：可以将 MySQL 的缺省存储引擎设置为 innodb，即 <code>default-storage-engine=innodb</code> 配置项。</p><p>② 问题：如果 Flowable 启动报错 <code>problem during schema upgrade&amp;&amp;couldn‘t upgrade db schema</code> 错误？</p><p>解决方案：参见 <a href="https://www.cnblogs.com/sowler/p/17195427.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/sowler/p/17195427.html</a> 帖子，MySQL 不区分大小写导致的，需要调整为区分。</p><p>③ 问题：我想使用达梦数据库，怎么办？</p>',28)),o("p",null,[e[1]||(e[1]=i("解决方案：参见 ")),t(a,{to:"/bpm/dameng/"},{default:r(()=>e[0]||(e[0]=[i("《工作流（达梦适配）》")])),_:1}),e[2]||(e[2]=i(" 文档。"))]),e[6]||(e[6]=o("h2",{id:"_666-后续学习",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#_666-后续学习"},[o("span",null,[o("a",{href:"#_666-%E5%90%8E%E7%BB%AD%E5%AD%A6%E4%B9%A0"},"#"),i(" 666. 后续学习")])])],-1)),e[7]||(e[7]=o("p",null,"建议阅读如下两篇文档，对整个工作流建立一个整体的认识：",-1)),o("ul",null,[o("li",null,[t(a,{to:"/bpm/use-bpm-form/"},{default:r(()=>e[3]||(e[3]=[i("《审批接入（流程表单）》")])),_:1})]),o("li",null,[t(a,{to:"/bpm/use-business-form/"},{default:r(()=>e[4]||(e[4]=[i("《审批接入（业务表单）》")])),_:1})])]),e[8]||(e[8]=n('<h2 id="补充说明-如何集成-activiti" tabindex="-1"><a class="header-anchor" href="#补充说明-如何集成-activiti"><span><a href="#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E-%E5%A6%82%E4%BD%95%E9%9B%86%E6%88%90-activiti">#</a> 补充说明：如何集成 Activiti？</span></a></h2><p>Activiti 和 Flowable 提供的 Java API 是基本一致的，例如说 Flowable 的 <code>org.flowable.engine.RepositoryService</code> 对应 Activiti 的 <code>org.activiti.engine .RepositoryService</code>。所以，我们可以修改 <code>import</code> 的包路径来替换。</p><p>另外，在项目的老版本，我们也提供了 Activiti 实现，你可以具体参考下：</p><ul><li><a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro/tree/v1.6.2/yudao-framework/yudao-spring-boot-starter-activiti" target="_blank" rel="noopener noreferrer"><code>yudao-spring-boot-starter-activiti</code></a></li><li><a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro/tree/v1.6.2/yudao-module-bpm/yudao-module-bpm-biz-activiti" target="_blank" rel="noopener noreferrer"><code>yudao-module-bpm-biz-activiti</code></a></li></ul><figure><img src="https://doc.iocoder.cn/img/工作流手册/功能开启/Activiti.png" alt="项目结构" tabindex="0" loading="lazy"><figcaption>项目结构</figcaption></figure>',5))])}const f=l(s,[["render",u],["__file","bpm.html.vue"]]),h=JSON.parse('{"path":"/project/rouyi-vue-pro/bpm.html","title":"功能开启","lang":"en-US","frontmatter":{"title":"功能开启","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":61,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. 第一步，开启模块","slug":"_1-第一步-开启模块","link":"#_1-第一步-开启模块","children":[]},{"level":2,"title":"# 2. 第二步，导入 SQL","slug":"_2-第二步-导入-sql","link":"#_2-第二步-导入-sql","children":[]},{"level":2,"title":"# 3. 第三步，重启项目","slug":"_3-第三步-重启项目","link":"#_3-第三步-重启项目","children":[]},{"level":2,"title":"# 666. 后续学习","slug":"_666-后续学习","link":"#_666-后续学习","children":[]},{"level":2,"title":"# 补充说明：如何集成 Activiti？","slug":"补充说明-如何集成-activiti","link":"#补充说明-如何集成-activiti","children":[]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":3.23,"words":969},"filePathRelative":"project/rouyi-vue-pro/bpm.md","localizedDate":"July 7, 2024"}');export{f as comp,h as data};
