import{_ as s,o as a,c as n,d as i}from"./app-BG8AAbz2.js";const l={},t=i(`<h1 id="strategy-pattern-practice-mo-phong-nhieu-loai-tiep-thi-phieu-giam-gia-va-kich-ban-chien-luoc-tinh-toan-so-tien-chiet-khau" tabindex="-1"><a class="header-anchor" href="#strategy-pattern-practice-mo-phong-nhieu-loai-tiep-thi-phieu-giam-gia-va-kich-ban-chien-luoc-tinh-toan-so-tien-chiet-khau"><span>Strategy Pattern Practice: MÃ´ phá»ng nhiá»u loáº¡i tiáº¿p thá»‹ phiáº¿u giáº£m giÃ¡ vÃ  ká»‹ch báº£n chiáº¿n lÆ°á»£c tÃ­nh toÃ¡n sá»‘ tiá»n chiáº¿t kháº¥u</span></a></h1><h2 id="gioi-thieu" tabindex="-1"><a class="header-anchor" href="#gioi-thieu"><span>Giá»›i thiá»‡u</span></a></h2><p>&quot;KhÃ´ng cÃ³ ngÆ°á»i Ä‘á»©ng Ä‘áº§u, khÃ´ng cÃ³ vÅ© khÃ­ sá»‘ hai.&quot;</p><p>Má»—i ngÆ°á»i, dÃ¹ há» hÆ°á»›ng tá»›i cÃ¡c má»¥c tiÃªu khÃ¡c nhau nhÆ°ng Ä‘á»u cÃ³ giÃ¡ trá»‹ vÃ  Ä‘iá»ƒm sÃ¡ng riÃªng, vÃ  Ä‘á»u cÃ³ thá»ƒ há»c há»i láº«n nhau. Äá»«ng quÃ¡ dÃ¹ng cÃ¢y giÃ¡o trong tay mÃ¬nh Ä‘á»ƒ táº¥n cÃ´ng mÅ©i giÃ¡o cá»§a ngÆ°á»i khÃ¡c, tháº­m chÃ­ náº¿u báº¡n Ä‘Ã£ tranh luáº­n thÃ nh cÃ´ng, Ä‘Ã³ cÃ³ thá»ƒ chá»‰ lÃ  vÃ¬ vai trÃ² báº¡n Ä‘Æ°á»£c Ä‘áº·t á»Ÿ vá»‹ trÃ­ khÃ¡c. Láº¥y sá»©c máº¡nh cá»§a ngÆ°á»i khÃ¡c Ä‘á»ƒ bÃ¹ Ä‘áº¯p Ä‘iá»ƒm yáº¿u cá»§a báº£n thÃ¢n, sá»± káº¿t há»£p giá»¯a cÃ¢y giÃ¡o vÃ  mÅ©i giÃ¡o cÃ³ thá»ƒ lÃ  má»™t chiáº¿c xe tÄƒng.</p><p>&quot;Viá»‡c giáº£i thÃ­ch kiáº¿n thá»©c phá»©c táº¡p má»™t cÃ¡ch Ä‘Æ¡n giáº£n lÃ  ráº¥t quan trá»ng.&quot;</p><p>Trong quÃ¡ trÃ¬nh há»c táº­p, chÃºng ta Ä‘Ã£ xem qua nhiá»u tÃ i liá»‡u, video, tÃ i liá»‡u v.v. VÃ¬ cÃ³ quÃ¡ nhiá»u tÃ i liá»‡u vÃ  video hiá»‡n nay, nÃªn má»™t khÃ¡i niá»‡m cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i thÃ­ch dÆ°á»›i nhiá»u hÃ¬nh thá»©c video khÃ¡c nhau. NgoÃ i viá»‡c quáº£ng cÃ¡o vÃ  tiáº¿p thá»‹, thá»±c sá»± cÃ³ nhiá»u video giáº£i thÃ­ch ráº¥t xuáº¥t sáº¯c, vÃ­ dá»¥ nhÆ° cÃ¡c video ngáº¯n cá»§a giÃ¡o sÆ° LÃ½ VÄ©nh Lá»£i, cÃ³ thá»ƒ giáº£i thÃ­ch má»™t khÃ¡i niá»‡m phá»©c táº¡p nhÆ° váº­y trÃªn má»™t báº£ng Ä‘en, giáº£i thÃ­ch má»™t cÃ¡ch dá»… hiá»ƒu vÃ  sÃ¢u sáº¯c. CÅ©ng giá»‘ng nhÆ° chÃºng ta, nhá»¯ng ngÆ°á»i há»c láº­p trÃ¬nh cÅ©ng cáº§n há»c cÃ¡ch giáº£i thÃ­ch má»™t cÃ¡ch rÃµ rÃ ng vÃ  viáº¿t rÃµ rÃ ng.</p><p>&quot;NÃ¢ng cao táº§m nhÃ¬n vÃ  giao lÆ°u vá»›i nhiá»u báº¡n cÃ¹ng sá»Ÿ thÃ­ch.&quot;</p><p>ÄÃ´i khi, mÃ´i trÆ°á»ng lÃ  ráº¥t quan trá»ng, giá»‘ng nhÆ° khi báº¡n cÃ²n há»c, báº¡n sáº½ phÃ¡t hiá»‡n ra ráº±ng cÃ³ má»™t loáº¡i há»c sinh trong lá»›p há»c khÃ´ng nghe giáº£ng, nhÆ°ng há»c ráº¥t giá»i. Váº­y náº¿u há» pháº£i á»Ÿ nhÃ  khÃ´ng thá»ƒ á»Ÿ trong lá»›p há»c? CÃ³ cÃ¡c mÃ´i trÆ°á»ng tÆ°Æ¡ng tá»± khÃ¡c; thÆ° viá»‡n, quÃ¡n internet, nhÃ³m báº¡n Ä‘á»“ng hÃ nh, nhÃ³m ká»¹ thuáº­t v.v., táº¥t cáº£ Ä‘á»u cÃ³ thá»ƒ giÃºp báº¡n phÃ¡t triá»ƒn thÃ´ng qua ká»¹ nÄƒng Ä‘Æ°á»£c chia sáº» bá»Ÿi nhá»¯ng ngÆ°á»i cÃ³ cÃ¹ng sá»Ÿ thÃ­ch hoáº·c qua báº§u khÃ´ng khÃ­ Ä‘Æ°á»£c táº¡o ra bá»Ÿi má»i ngÆ°á»i cÃ¹ng nhau.</p><h2 id="moi-truong-phat-trien" tabindex="-1"><a class="header-anchor" href="#moi-truong-phat-trien"><span>MÃ´i trÆ°á»ng phÃ¡t triá»ƒn</span></a></h2><ol><li>JDK 1.8</li><li>Idea + Maven</li><li>Code: <a href="https://github.com/vanhung4499/practical-java-design" target="_blank" rel="noopener noreferrer">vanhung4499/practical-java-design</a></li></ol><table><thead><tr><th>Dá»± Ã¡n</th><th>MÃ´ táº£</th></tr></thead><tbody><tr><td>design-demo-20-01</td><td>Thá»±c hiá»‡n nhu cáº§u kinh doanh báº±ng code thÃ´ sÆ¡</td></tr><tr><td>design-demo-20-02</td><td>Tá»‘i Æ°u vÃ  cáº£i thiá»‡n thÃ´ng qua thiáº¿t káº¿ máº«u, táº¡o ra sá»± so sÃ¡nh Ä‘á»ƒ há»c há»i</td></tr></tbody></table><h2 id="gioi-thieu-ve-strategy-pattern" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-strategy-pattern"><span>Giá»›i thiá»‡u vá» Strategy Pattern</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240401213859.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>Strategy Pattern lÃ  má»™t máº«u hÃ nh vi, cÅ©ng lÃ  má»™t cÃ´ng cá»¥ thay tháº¿ lÆ°á»£ng lá»›n cÃ¢u lá»‡nh <code>if else</code>. NÃ³ giÃºp giáº£i quyáº¿t cÃ¡c tÃ¬nh huá»‘ng cÃ³ logic thuá»™c cÃ¹ng má»™t loáº¡i cÃ³ thá»ƒ thay tháº¿ Ä‘Æ°á»£c. VÃ­ dá»¥: cÃ¡c loáº¡i giao dá»‹ch khÃ¡c nhau (tháº» tÃ­n dá»¥ng, Alipay, WeChat), chiáº¿n lÆ°á»£c táº¡o ID duy nháº¥t (UUID, auto increasement, DB + Redis, thuáº­t toÃ¡n snowflake, thuáº­t toÃ¡n Leaf), cÃ³ thá»ƒ sá»­ dá»¥ng Strategy Pattern Ä‘á»ƒ Ä‘Ã³ng gÃ³i hÃ nh vi vÃ  cung cáº¥p cho bÃªn ngoÃ i sá»­ dá»¥ng.</p><h2 id="mo-phong-tinh-huong-thuc-te" tabindex="-1"><a class="header-anchor" href="#mo-phong-tinh-huong-thuc-te"><span>MÃ´ phá»ng tÃ¬nh huá»‘ng thá»±c táº¿</span></a></h2><p><strong>Trong trÆ°á»ng há»£p nÃ y, chÃºng tÃ´i mÃ´ phá»ng cÃ¡c loáº¡i phiáº¿u giáº£m giÃ¡ khÃ¡c nhau Ä‘Æ°á»£c sá»­ dá»¥ng khi mua hÃ ng (giáº£m giÃ¡ toÃ n bá»™, chiáº¿t kháº¥u trá»±c tiáº¿p, chiáº¿t kháº¥u, mua sá»‰, â€¦)</strong></p><p>TÃ¬nh huá»‘ng nÃ y gáº§n nhÆ° lÃ  má»™t kÃªnh tiáº¿t kiá»‡m hÃ ng ngÃ y cá»§a má»i ngÆ°á»i, khi mua hÃ ng thÆ°á»ng muá»‘n tÃ¬m kiáº¿m cÃ¡c phiáº¿u giáº£m giÃ¡ Ä‘á»ƒ lÃ m cho viá»‡c mua hÃ ng trá»Ÿ nÃªn tiáº¿t kiá»‡m hÆ¡n. Äáº·c biá»‡t vÃ o thá»i gian khuyáº¿n codei lá»›n, sáº½ cÃ³ nhiá»u phiáº¿u giáº£m giÃ¡ hÆ¡n cáº§n tÃ­nh toÃ¡n Ä‘á»ƒ mua cÃ¡c sáº£n pháº©m cÃ¹ng nhau vá»›i giÃ¡ Æ°u Ä‘Ã£i!!!</p><p>ÄÃ´i khi ngÆ°á»i dÃ¹ng sáº½ tháº¥y thÃº vá»‹ khi sá»­ dá»¥ng chá»©c nÄƒng nÃ y, nhÆ°ng tá»« Ä‘áº§u viá»‡c thiáº¿t láº­p tÃ­nh nÄƒng nÃ y vÃ  sá»± phÃ¡t triá»ƒn liÃªn tá»¥c cá»§a sáº£n pháº©m Ä‘á»‘i vá»›i cÃ¡c nhÃ  phÃ¡t triá»ƒn pháº§n má»mğŸ‘¨â€ğŸ’»â€ khÃ´ng pháº£i lÃºc nÃ o cÅ©ng dá»… dÃ ng. Bá»Ÿi vÃ¬ Ä‘iá»u nÃ y bao gá»“m nhiá»u quy táº¯c vÃ  logic Æ°u Ä‘Ã£i, vÃ¬ váº­y chÃºng tÃ´i mÃ´ phá»ng má»™t cÃ¡ch tÃ­nh Æ°u Ä‘Ã£i, sá»­ dá»¥ng Strategy Pattern Ä‘á»ƒ thá»±c hiá»‡n.</p><h2 id="trien-khai-bang-code-tho-so" tabindex="-1"><a class="header-anchor" href="#trien-khai-bang-code-tho-so"><span>Triá»ƒn khai báº±ng code thÃ´ sÆ¡</span></a></h2><p><code>á» Ä‘Ã¢y, chÃºng ta sáº½ sá»­ dá»¥ng cÃ¡ch triá»ƒn khai thÃ´ sÆ¡ nháº¥t Ä‘á»ƒ thá»±c hiá»‡n tÃ­nh nÄƒng.</code></p><p>Ban Ä‘áº§u, thiáº¿t káº¿ cÃ¡c phiáº¿u giáº£m giÃ¡ cÃ³ thá»ƒ ráº¥t Ä‘Æ¡n giáº£n, chá»‰ lÃ  má»™t sá»‘ tiá»n Ä‘Æ°á»£c giáº£m trá»«, cÅ©ng khÃ´ng cÃ³ nhiá»u loáº¡i nhÆ° hiá»‡n nay. VÃ¬ váº­y, náº¿u khÃ´ng cÃ³ kinh nghiá»‡m vá» tÃ¬nh huá»‘ng nÃ y, thiáº¿t káº¿ ban Ä‘áº§u thÆ°á»ng ráº¥t Ä‘Æ¡n giáº£n. Tuy nhiÃªn, vá»›i viá»‡c phÃ¡t triá»ƒn liÃªn tá»¥c cá»§a cÃ¡c tÃ­nh nÄƒng sáº£n pháº©m, náº¿u thiáº¿t káº¿ ban Ä‘áº§u khÃ´ng cÃ³ tÃ­nh má»Ÿ rá»™ng tá»‘t, thÃ¬ trong tÆ°Æ¡ng lai nÃ³ sáº½ trá»Ÿ nÃªn lá»™n xá»™n hÆ¡n.</p><h3 id="cau-truc-du-an" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-an"><span>Cáº¥u trÃºc dá»± Ã¡n</span></a></h3><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">design</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">demo</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">20</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">01</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pom</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">xml</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">â””â”€â”€ src</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â””â”€â”€ main</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        â””â”€â”€ java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            â””â”€â”€ com</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                â””â”€â”€ hnv99</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    â””â”€â”€ design</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                        â””â”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">CouponDiscountService</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span></code></pre></div><ul><li>Cáº¥u trÃºc dá»± Ã¡n <code>thÃ´ sÆ¡</code> ráº¥t Ä‘Æ¡n giáº£n, cÅ©ng lÃ  cÃ¡ch phÃ¡t triá»ƒn trá»±c tiáº¿p nháº¥t hÆ°á»›ng tá»›i quÃ¡ trÃ¬nh.</li></ul><h3 id="trien-khai-code" tabindex="-1"><a class="header-anchor" href="#trien-khai-code"><span>Triá»ƒn khai code</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Blog: https://bugstack.cn - Láº¯ng Ä‘á»ng, Chia sáº», PhÃ¡t triá»ƒn, cho cáº£ báº£n thÃ¢n vÃ  ngÆ°á»i khÃ¡c cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c Ä‘iá»u gÃ¬ Ä‘Ã³!</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Official Account: bugstackè™«æ´æ ˆ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Táº¡o bá»Ÿi å°å‚…å“¥(fustack) @2020</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Giao diá»‡n tÃ­nh giáº£m giÃ¡ phiáº¿u giáº£m giÃ¡</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * &lt;p&gt;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Loáº¡i phiáº¿u giáº£m giÃ¡;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * 1. Giáº£m trá»±c tiáº¿p</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * 2. Giáº£m khi Ä‘áº¡t</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * 3. Phiáº¿u giáº£m giÃ¡</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * 4. Mua n Ä‘á»“ng</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> CouponDiscountService</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> double</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">int</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> type</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> typeContent</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> typeExt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // 1. Giáº£m trá»±c tiáº¿p</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> type) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> skuPrice </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> typeContent;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // 2. Giáº£m khi Ä‘áº¡t</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> type) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (skuPrice </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> typeExt) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> skuPrice;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> skuPrice </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> typeContent;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // 3. Phiáº¿u giáº£m giÃ¡</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#D19A66;--shiki-dark:#D19A66;">3</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> type) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> skuPrice </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">*</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> typeContent;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // 4. Mua n Ä‘á»“ng</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#D19A66;--shiki-dark:#D19A66;">4</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> ==</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> type) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> typeContent;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0D</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>TrÃªn Ä‘Ã¢y lÃ  sá»‘ tiá»n giáº£m giÃ¡ thá»±c táº¿ sau khi tÃ­nh toÃ¡n cho má»—i loáº¡i phiáº¿u giáº£m giÃ¡.</li><li>CÃ¡c tham sá»‘ Ä‘áº§u vÃ o bao gá»“m; loáº¡i phiáº¿u giáº£m giÃ¡, sá»‘ tiá»n phiáº¿u giáº£m giÃ¡, giÃ¡ sáº£n pháº©m, vÃ¬ má»™t sá»‘ phiáº¿u giáº£m giÃ¡ lÃ  giáº£m giÃ¡ khi mua Ä‘á»§ sá»‘ lÆ°á»£ng nháº¥t Ä‘á»‹nh, nÃªn Ä‘Ã£ thÃªm <code>typeExt</code> loáº¡i. Äiá»u nÃ y cÅ©ng lÃ  váº¥n Ä‘á» vá» tÃ­nh má»Ÿ rá»™ng cá»§a phÆ°Æ¡ng phÃ¡p.</li><li>Cuá»‘i cÃ¹ng lÃ  viá»‡c triá»ƒn khai cá»§a pháº§n thÃ¢n phÆ°Æ¡ng thá»©c tÃ­nh sá»‘ tiá»n giáº£m giÃ¡ cá»§a phiáº¿u giáº£m giÃ¡, ban Ä‘áº§u cÃ³ thá»ƒ lÃ  má»™t loáº¡i phiáº¿u giáº£m giÃ¡ Ä‘Æ¡n giáº£n nháº¥t, sau Ä‘Ã³ vá»›i sá»± phÃ¡t triá»ƒn cá»§a tÃ­nh nÄƒng sáº£n pháº©m, cÃ¢u lá»‡nh <code>if</code> Ä‘Æ°á»£c má»Ÿ rá»™ng khÃ´ng ngá»«ng. Thá»±c táº¿, code cÃ³ thá»ƒ lá»›n hÆ¡n nhiá»u so vá»›i vÃ­ dá»¥ trÃªn.</li></ul><h2 id="tai-cau-truc-theo-strategy-pattern" tabindex="-1"><a class="header-anchor" href="#tai-cau-truc-theo-strategy-pattern"><span>TÃ¡i cáº¥u trÃºc theo Strategy Pattern</span></a></h2><p><code>Tiáº¿p theo, sá»­ dá»¥ng Strategy Pattern Ä‘á»ƒ tá»‘i Æ°u hÃ³a code, cÃ³ thá»ƒ coi Ä‘Ã¢y lÃ  má»™t láº§n tÃ¡i cáº¥u trÃºc nhá».</code></p><p>So vá»›i sá»± phÃ¡t triá»ƒn theo Ä‘á»‹nh hÆ°á»›ng quy trÃ¬nh á»Ÿ trÃªn, cÃ¡c máº«u thiáº¿t káº¿ vÃ  cáº¥u trÃºc code Æ°u tiÃªn sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ Ä‘Ã¢y Ä‘á»ƒ nÃ¢ng cao kháº£ nÄƒng má»Ÿ rá»™ng tá»•ng thá»ƒ.</p><h3 id="cau-truc-du-an-1" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-an-1"><span>Cáº¥u trÃºc dá»± Ã¡n</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">design</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#E06C75;--shiki-dark:#E06C75;">demo</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">20</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">02</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">pom</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">xml</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">â””â”€â”€ src</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”œâ”€â”€ main</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â  â””â”€â”€ java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â      â””â”€â”€ com</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â          â””â”€â”€ hnv99</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â              â””â”€â”€ design</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                  â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                  â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                  â””â”€â”€ impl</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                      â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">MJCouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                      â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NYGCouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                      â”œâ”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ZJCouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â”‚Â Â                      â””â”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ZKCouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    â””â”€â”€ test</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        â””â”€â”€ java</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">            â””â”€â”€ com</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                â””â”€â”€ hnv99</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                    â””â”€â”€ design</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">                        â””â”€â”€ </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Cáº¥u trÃºc mÃ´ hÃ¬nh chiáº¿n lÆ°á»£c</strong></p><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/itstack-demo-design-20-04.png" alt="Cáº¥u trÃºc mÃ´ hÃ¬nh chiáº¿n lÆ°á»£c" tabindex="0" loading="lazy"><figcaption>Cáº¥u trÃºc mÃ´ hÃ¬nh chiáº¿n lÆ°á»£c</figcaption></figure><ul><li>Cáº¥u trÃºc tá»•ng thá»ƒ khÃ´ng phá»©c táº¡p, chá»§ yáº¿u lÃ  sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c loáº¡i phiáº¿u giáº£m giÃ¡ trong cÃ¡ch tÃ­nh toÃ¡n chiáº¿n lÆ°á»£c giáº£m giÃ¡.</li><li>Bao gá»“m má»™t lá»›p giao diá»‡n (<code>ICouponDiscount</code>) vÃ  bá»‘n cÃ¡ch thá»©c cá»¥ thá»ƒ Ä‘á»ƒ thá»±c hiá»‡n loáº¡i phiáº¿u giáº£m giÃ¡.</li><li>Cuá»‘i cÃ¹ng, cung cáº¥p má»™t lá»›p Ä‘iá»u khiá»ƒn trÃªn vÃ  dÆ°á»›i Ä‘á»ƒ xá»­ lÃ½ dá»‹ch vá»¥ chiáº¿n lÆ°á»£c toÃ n bá»™.</li></ul><h3 id="trien-khai-code-1" tabindex="-1"><a class="header-anchor" href="#trien-khai-code-1"><span>Triá»ƒn khai code</span></a></h3><h4 id="giao-dien-phieu-giam-gia" tabindex="-1"><a class="header-anchor" href="#giao-dien-phieu-giam-gia"><span>Giao diá»‡n phiáº¿u giáº£m giÃ¡</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> interface</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">T</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * TÃ­nh toÃ¡n sá»‘ tiá»n giáº£m giÃ¡ cá»§a phiáº¿u</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> couponInfo</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> ThÃ´ng tin giáº£m giÃ¡; giáº£m trá»±c tiáº¿p, giáº£m khi Ä‘á»§ Ä‘iá»u kiá»‡n, giáº£m giÃ¡, mua vá»›i giÃ¡ N yuan</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">   GiÃ¡ trá»‹ cá»§a SKU</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@return</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">           Sá»‘ tiá»n sau khi giáº£m giÃ¡</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    BigDecimal</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">T</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>Äá»‹nh nghÄ©a giao diá»‡n giáº£m giÃ¡ phiáº¿u, cÅ©ng Ä‘Ã£ thÃªm generic Ä‘á»ƒ cÃ¡c loáº¡i giao diá»‡n khÃ¡c nhau cÃ³ thá»ƒ truyá»n tham sá»‘ loáº¡i khÃ¡c nhau.</li><li>Giao diá»‡n bao gá»“m thÃ´ng tin giáº£m giÃ¡ sáº£n pháº©m vÃ  giÃ¡ trá»‹ tráº£ vá» cuá»‘i cÃ¹ng sau khi giáº£m giÃ¡, trong thá»±c táº¿, giao diá»‡n cÃ³ thá»ƒ cÃ³ nhiá»u tham sá»‘ hÆ¡n so vá»›i bÃ¢y giá», nhÆ°ng logic cá»‘t lÃµi lÃ  nhÆ° váº­y.</li></ul><h4 id="trien-khai-giao-dien-phieu-giam-gia" tabindex="-1"><a class="header-anchor" href="#trien-khai-giao-dien-phieu-giam-gia"><span>Triá»ƒn khai giao diá»‡n phiáº¿u giáº£m giÃ¡</span></a></h4><p><strong>Giáº£m giÃ¡ Ä‘áº§y Ä‘á»§</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MJCouponDiscount</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * TÃ­nh toÃ¡n sá»‘ tiá»n giáº£m giÃ¡ khi Ä‘á»§ Ä‘iá»u kiá»‡n</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 1. Kiá»ƒm tra x Ä‘áº¿n n sau Ä‘Ã³ giáº£m</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 2. Sá»‘ tiá»n thanh toÃ¡n tá»‘i thiá»ƒu lÃ  1 Ä‘Ã´ la</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> x</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;x&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> o</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">get</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;n&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // Náº¿u giÃ¡ sáº£n pháº©m nhá» hÆ¡n Ä‘iá»u kiá»‡n, tráº£ vá» giÃ¡ gá»‘c cá»§a sáº£n pháº©m</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">compareTo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(x)) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> skuPrice;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // Kiá»ƒm tra sá»‘ tiá»n giáº£m</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">subtract</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(o));</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">compareTo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ZERO</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ONE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> discountAmount;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Giáº£m giÃ¡ trá»±c tiáº¿p</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ZJCouponDiscount</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * TÃ­nh toÃ¡n sá»‘ tiá»n giáº£m giÃ¡ trá»±c tiáº¿p</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 1. Sá»­ dá»¥ng giÃ¡ sáº£n pháº©m trá»« Ä‘i giÃ¡ giáº£m giÃ¡</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 2. Sá»‘ tiá»n thanh toÃ¡n tá»‘i thiá»ƒu lÃ  1 Ä‘Ã´ la</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">subtract</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(couponInfo));</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">compareTo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ZERO</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ONE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> discountAmount;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p><strong>Giáº£m giÃ¡ pháº§n trÄƒm</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ZKCouponDiscount</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * TÃ­nh toÃ¡n sá»‘ tiá»n giáº£m giÃ¡ pháº§n trÄƒm</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 1. Sá»­ dá»¥ng giÃ¡ sáº£n pháº©m nhÃ¢n vá»›i tá»· lá»‡ giáº£m giÃ¡, Ä‘á»ƒ Ä‘Æ°á»£c sá»‘ tiá»n thanh toÃ¡n cuá»‘i cÃ¹ng</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 2. LÃ m trÃ²n 2 chá»¯ sá»‘ tháº­p phÃ¢n</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 3. Sá»‘ tiá»n thanh toÃ¡n tá»‘i thiá»ƒu lÃ  1 Ä‘Ã´ la</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">multiply</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(couponInfo)).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">setScale</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ROUND_HALF_UP</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">compareTo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ZERO</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ONE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> discountAmount;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Mua vá»›i giÃ¡ N Ä‘Ã´ la</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> NYGCouponDiscount</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ICouponDiscount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * Mua vá»›i giÃ¡ N Ä‘Ã´ la</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * 1. Mua vá»›i giÃ¡ cá»‘ Ä‘á»‹nh, khÃ´ng quan tÃ¢m giÃ¡ gá»‘c lÃ  bao nhiÃªu</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> couponInfo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> skuPrice</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(couponInfo);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><ul><li>ÄÃ¢y lÃ  bá»‘n loáº¡i chiáº¿n lÆ°á»£c tÃ­nh toÃ¡n sá»‘ tiá»n giáº£m giÃ¡ cho phiáº¿u giáº£m giÃ¡ khÃ¡c nhau, báº¡n cÃ³ thá»ƒ tháº¥y sá»‘ tiá»n giáº£m giÃ¡ cho má»—i loáº¡i phiáº¿u giáº£m giÃ¡ tá»« code nÃ y.</li></ul><h3 id="kiem-thu" tabindex="-1"><a class="header-anchor" href="#kiem-thu"><span>Kiá»ƒm thá»­</span></a></h3><h4 id="viet-lop-kiem-thu-uu-Ä‘ai-truc-tiep" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-thu-uu-Ä‘ai-truc-tiep"><span>Viáº¿t lá»›p kiá»ƒm thá»­ (Æ¯u Ä‘Ã£i trá»±c tiáº¿p)</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Test</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> testZj</span><span style="color:#E06C75;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // Trá»« trá»±c tiáº¿p; 100-10, sáº£n pháº©m cÃ³ giÃ¡ 100 Ä‘á»“ng</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> context </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> ZJCouponDiscount</span><span style="color:#E06C75;--shiki-dark:#E06C75;">())</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">10D</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    logger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">info</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Káº¿t quáº£ kiá»ƒm thá»­: GiÃ¡ sau Æ°u Ä‘Ã£i trá»±c tiáº¿p {}&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, discountAmount);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">}</span></span></code></pre></div><p><strong>Káº¿t quáº£ kiá»ƒm thá»­</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2024</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">04</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">01</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 23</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">10</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">07</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#FFFFFF;--shiki-dark:#FFFFFF;">166</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">	main</span><span style="color:#E06C75;--shiki-dark:#E06C75;">		(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">18</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)	</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">|</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	Káº¿t</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> quáº£ kiá»ƒm thá»­</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> GiÃ¡</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sau Æ°u Ä‘Ã£i trá»±c tiáº¿p </span><span style="color:#D19A66;--shiki-dark:#D19A66;">90</span></span></code></pre></div><h4 id="viet-lop-kiem-thu-uu-Ä‘ai-theo-so-luong" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-thu-uu-Ä‘ai-theo-so-luong"><span>Viáº¿t lá»›p kiá»ƒm thá»­ (Æ¯u Ä‘Ã£i theo sá»‘ lÆ°á»£ng)</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Test</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> test_mj</span><span style="color:#E06C75;--shiki-dark:#E06C75;">() {  </span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // Giáº£m 10 khi mua tá»« 100, sáº£n pháº©m cÃ³ giÃ¡ 100 Ä‘á»“ng  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    context </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> MJCouponDiscount</span><span style="color:#E06C75;--shiki-dark:#E06C75;">())</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    Map</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> mapReq </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> HashMap</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    mapReq</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">put</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;x&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;100&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    mapReq</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">put</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;n&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;10&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(mapReq, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    logger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">info</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Káº¿t quáº£ kiá»ƒm thá»­: GiÃ¡ sau Æ°u Ä‘Ã£i theo sá»‘ lÆ°á»£ng {}&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, discountAmount);</span><span style="color:#E06C75;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">}</span></span></code></pre></div><p><strong>Káº¿t quáº£ kiá»ƒm thá»­</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2024</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">04</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">01</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 23</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">11</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">18.211</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">	main</span><span style="color:#E06C75;--shiki-dark:#E06C75;">		(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">33</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)	</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">|</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	Káº¿t</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> quáº£ kiá»ƒm thá»­</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> GiÃ¡</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sau Æ°u Ä‘Ã£i theo sá»‘ lÆ°á»£ng </span><span style="color:#D19A66;--shiki-dark:#D19A66;">90</span></span></code></pre></div><h4 id="viet-lop-kiem-thu-uu-Ä‘ai-giam-gia" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-thu-uu-Ä‘ai-giam-gia"><span>Viáº¿t lá»›p kiá»ƒm thá»­ (Æ¯u Ä‘Ã£i giáº£m giÃ¡)</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Test</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> testZk</span><span style="color:#E06C75;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // Giáº£m giÃ¡ 10%, sáº£n pháº©m cÃ³ giÃ¡ 100 Ä‘á»“ng</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> context </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> ZKCouponDiscount</span><span style="color:#E06C75;--shiki-dark:#E06C75;">())</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">0.9D</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    logger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">info</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Káº¿t quáº£ kiá»ƒm thá»­: GiÃ¡ sau Æ°u Ä‘Ã£i giáº£m giÃ¡ 9 {}&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, discountAmount);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">}</span></span></code></pre></div><p><strong>Káº¿t quáº£ kiá»ƒm thá»­</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2024</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">04</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">01</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 23</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">12</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">00</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#FFFFFF;--shiki-dark:#FFFFFF;">984</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">	main</span><span style="color:#E06C75;--shiki-dark:#E06C75;">		(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">42</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)	</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">|</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	Káº¿t</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> quáº£ kiá»ƒm thá»­</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> GiÃ¡</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sau Æ°u Ä‘Ã£i giáº£m giÃ¡ </span><span style="color:#D19A66;--shiki-dark:#D19A66;">9</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 90.00</span></span></code></pre></div><h4 id="viet-lop-kiem-thu-uu-Ä‘ai-mua-n-Ä‘ong" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-thu-uu-Ä‘ai-mua-n-Ä‘ong"><span>Viáº¿t lá»›p kiá»ƒm thá»­ (Æ¯u Ä‘Ã£i mua N Ä‘á»“ng)</span></a></h4><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Test</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> test_nyg</span><span style="color:#E06C75;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // Mua vá»›i giÃ¡ N Ä‘á»“ng; giáº£m 10%, sáº£n pháº©m cÃ³ giÃ¡ 100 Ä‘á»“ng</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> context </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Double</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> NYGCouponDiscount</span><span style="color:#E06C75;--shiki-dark:#E06C75;">())</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    BigDecimal</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> discountAmount </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> context</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">discountAmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">90D</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> BigDecimal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    logger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">info</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Káº¿t quáº£ kiá»ƒm thá»­: GiÃ¡ sau Æ°u Ä‘Ã£i mua vá»›i giÃ¡ N Ä‘á»“ng {}&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, discountAmount);</span></span></code></pre></div><p><strong>Káº¿t quáº£ kiá»ƒm thá»­</strong></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">2024</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">04</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="color:#D19A66;--shiki-dark:#D19A66;">01</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 23</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">13</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">06</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#FFFFFF;--shiki-dark:#FFFFFF;">475</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">	main</span><span style="color:#E06C75;--shiki-dark:#E06C75;">		(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">java</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#D19A66;--shiki-dark:#D19A66;">51</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)	</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">|</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">	Káº¿t</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> quáº£ kiá»ƒm thá»­</span><span style="color:#C678DD;--shiki-dark:#C678DD;">:</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> GiÃ¡</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sau Æ°u Ä‘Ã£i mua vá»›i giÃ¡ N Ä‘á»“ng </span><span style="color:#D19A66;--shiki-dark:#D19A66;">90</span></span></code></pre></div><ul><li>Bá»‘n bá»™ kiá»ƒm thá»­ trÃªn thá»±c hiá»‡n kiá»ƒm tra cÃ¡c chiáº¿n lÆ°á»£c Æ°u Ä‘Ã£i khÃ¡c nhau cá»§a phiáº¿u giáº£m giÃ¡ vÃ  káº¿t quáº£ kiá»ƒm thá»­ Ä‘á»u Ä‘Ã¡p á»©ng ká»³ vá»ng cá»§a chÃºng ta.</li><li>Bá»‘n loáº¡i phiáº¿u giáº£m giÃ¡ nÃ y cuá»‘i cÃ¹ng Ä‘á»u giáº£m giÃ¡ <code>10 Ä‘á»“ng</code> trÃªn giÃ¡ gá»‘c <code>100 Ä‘á»“ng</code>, cuá»‘i cÃ¹ng thanh toÃ¡n lÃ  <code>90 Ä‘á»“ng</code>.</li></ul><h2 id="tong-ket" tabindex="-1"><a class="header-anchor" href="#tong-ket"><span>Tá»•ng káº¿t</span></a></h2><ul><li>CÃ¡c vÃ­ dá»¥ vá» Strategy Pattern Ä‘Æ°á»£c trÃ¬nh bÃ y á»Ÿ trÃªn khÃ´ng phá»©c táº¡p, vá»›i logic chÃ­nh táº­p trung vÃ o chiáº¿n lÆ°á»£c tÃ­nh giáº£m giÃ¡ cá»§a cÃ¡c loáº¡i phiáº¿u giáº£m giÃ¡ khÃ¡c nhau. Cáº¥u trÃºc tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ¡n giáº£n vÃ  máº«u thiáº¿t káº¿ nÃ y cÅ©ng ráº¥t phá»• biáº¿n trong thá»±c táº¿. NgoÃ i ra, cáº¥u trÃºc nÃ y cÃ³ sá»± tÆ°Æ¡ng Ä‘á»“ng vá»›i máº«u thiáº¿t káº¿ lá»‡nh vÃ  máº«u thiáº¿t káº¿ trÃ¬nh Ä‘iá»u chá»‰nh, nhÆ°ng cÃ³ sá»± khÃ¡c biá»‡t trong cÃ¡ch tiáº¿p cáº­n.</li><li>Báº±ng cÃ¡ch sá»­ dá»¥ng Strategy Pattern, cÃ³ thá»ƒ loáº¡i bá» cÃ¡c cÃ¢u lá»‡nh if trong phÆ°Æ¡ng thá»©c, vÃ¬ viá»‡c sá»­ dá»¥ng nhiá»u cÃ¢u lá»‡nh if sáº½ lÃ m cho mÃ£ nguá»“n khÃ³ má»Ÿ rá»™ng vÃ  khÃ³ báº£o trÃ¬. Äá»“ng thá»i, khi gáº·p pháº£i cÃ¡c váº¥n Ä‘á» sau nÃ y, cÅ©ng khÃ³ Ä‘á»ƒ báº£o trÃ¬. Sau khi sá»­ dá»¥ng máº«u thiáº¿t káº¿ nÃ y, cÃ³ thá»ƒ Ä‘Ã¡p á»©ng tá»‘t yÃªu cáº§u vá» tÃ­nh cÃ¡ch ly vÃ  má»Ÿ rá»™ng, Ä‘á»“ng thá»i cÅ©ng dá»… dÃ ng thÃ­ch á»©ng vá»›i cÃ¡c yÃªu cáº§u má»›i khÃ´ng ngá»«ng tÄƒng lÃªn.</li><li><code>Máº«u thiáº¿t káº¿ chiáº¿n lÆ°á»£c</code>, <code>Máº«u thiáº¿t káº¿ Ä‘iá»u chá»‰nh</code>, <code>Máº«u thiáº¿t káº¿ káº¿t há»£p</code>, vÃ  cÃ¡c máº«u thiáº¿t káº¿ khÃ¡c cÃ³ thá»ƒ cÃ³ cáº¥u trÃºc tÆ°Æ¡ng Ä‘á»‘i giá»‘ng nhau, nhÆ°ng má»—i máº«u thiáº¿t káº¿ láº¡i cÃ³ cÃ¡c Ä‘áº·c Ä‘iá»ƒm logic riÃªng. Trong quÃ¡ trÃ¬nh sá»­ dá»¥ng, cÃ¡ch tá»‘t nháº¥t lÃ  há»c há»i tá»« kinh nghiá»‡m thá»±c táº¿ Ä‘á»ƒ cung cáº¥p Ä‘áº§u ra cÃ´ng nghá»‡ tá»‘t hÆ¡n cho quÃ¡ trÃ¬nh phÃ¡t triá»ƒn sau nÃ y.</li></ul>`,69),o=[t];function r(p,e){return a(),n("div",null,o)}const k=s(l,[["render",r],["__file","strategy.html.vue"]]),h=JSON.parse('{"path":"/design/design-pattern/practical/behavioral/strategy.html","title":"Strategy Pattern Practice","lang":"en-US","frontmatter":{"title":"Strategy Pattern Practice","tags":["design-pattern"],"categories":null,"date created":"2024-04-01T00:00:00.000Z","date modified":"2024-04-01T00:00:00.000Z","description":"Strategy Pattern Practice: MÃ´ phá»ng nhiá»u loáº¡i tiáº¿p thá»‹ phiáº¿u giáº£m giÃ¡ vÃ  ká»‹ch báº£n chiáº¿n lÆ°á»£c tÃ­nh toÃ¡n sá»‘ tiá»n chiáº¿t kháº¥u Giá»›i thiá»‡u \\"KhÃ´ng cÃ³ ngÆ°á»i Ä‘á»©ng Ä‘áº§u, khÃ´ng cÃ³ vÅ© khÃ­ s...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/design/design-pattern/practical/behavioral/strategy.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Strategy Pattern Practice"}],["meta",{"property":"og:description","content":"Strategy Pattern Practice: MÃ´ phá»ng nhiá»u loáº¡i tiáº¿p thá»‹ phiáº¿u giáº£m giÃ¡ vÃ  ká»‹ch báº£n chiáº¿n lÆ°á»£c tÃ­nh toÃ¡n sá»‘ tiá»n chiáº¿t kháº¥u Giá»›i thiá»‡u \\"KhÃ´ng cÃ³ ngÆ°á»i Ä‘á»©ng Ä‘áº§u, khÃ´ng cÃ³ vÅ© khÃ­ s..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240401213859.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"design-pattern"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Strategy Pattern Practice\\",\\"image\\":[\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240401213859.png\\",\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/itstack-demo-design-20-04.png\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Giá»›i thiá»‡u","slug":"gioi-thieu","link":"#gioi-thieu","children":[]},{"level":2,"title":"MÃ´i trÆ°á»ng phÃ¡t triá»ƒn","slug":"moi-truong-phat-trien","link":"#moi-truong-phat-trien","children":[]},{"level":2,"title":"Giá»›i thiá»‡u vá» Strategy Pattern","slug":"gioi-thieu-ve-strategy-pattern","link":"#gioi-thieu-ve-strategy-pattern","children":[]},{"level":2,"title":"MÃ´ phá»ng tÃ¬nh huá»‘ng thá»±c táº¿","slug":"mo-phong-tinh-huong-thuc-te","link":"#mo-phong-tinh-huong-thuc-te","children":[]},{"level":2,"title":"Triá»ƒn khai báº±ng code thÃ´ sÆ¡","slug":"trien-khai-bang-code-tho-so","link":"#trien-khai-bang-code-tho-so","children":[{"level":3,"title":"Cáº¥u trÃºc dá»± Ã¡n","slug":"cau-truc-du-an","link":"#cau-truc-du-an","children":[]},{"level":3,"title":"Triá»ƒn khai code","slug":"trien-khai-code","link":"#trien-khai-code","children":[]}]},{"level":2,"title":"TÃ¡i cáº¥u trÃºc theo Strategy Pattern","slug":"tai-cau-truc-theo-strategy-pattern","link":"#tai-cau-truc-theo-strategy-pattern","children":[{"level":3,"title":"Cáº¥u trÃºc dá»± Ã¡n","slug":"cau-truc-du-an-1","link":"#cau-truc-du-an-1","children":[]},{"level":3,"title":"Triá»ƒn khai code","slug":"trien-khai-code-1","link":"#trien-khai-code-1","children":[]},{"level":3,"title":"Kiá»ƒm thá»­","slug":"kiem-thu","link":"#kiem-thu","children":[]}]},{"level":2,"title":"Tá»•ng káº¿t","slug":"tong-ket","link":"#tong-ket","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":10.87,"words":3262},"filePathRelative":"design/design-pattern/practical/behavioral/strategy.md","localizedDate":"June 28, 2024","excerpt":"\\n<h2>Giá»›i thiá»‡u</h2>\\n<p>\\"KhÃ´ng cÃ³ ngÆ°á»i Ä‘á»©ng Ä‘áº§u, khÃ´ng cÃ³ vÅ© khÃ­ sá»‘ hai.\\"</p>\\n<p>Má»—i ngÆ°á»i, dÃ¹ há» hÆ°á»›ng tá»›i cÃ¡c má»¥c tiÃªu khÃ¡c nhau nhÆ°ng Ä‘á»u cÃ³ giÃ¡ trá»‹ vÃ  Ä‘iá»ƒm sÃ¡ng riÃªng, vÃ  Ä‘á»u cÃ³ thá»ƒ há»c há»i láº«n nhau. Äá»«ng quÃ¡ dÃ¹ng cÃ¢y giÃ¡o trong tay mÃ¬nh Ä‘á»ƒ táº¥n cÃ´ng mÅ©i giÃ¡o cá»§a ngÆ°á»i khÃ¡c, tháº­m chÃ­ náº¿u báº¡n Ä‘Ã£ tranh luáº­n thÃ nh cÃ´ng, Ä‘Ã³ cÃ³ thá»ƒ chá»‰ lÃ  vÃ¬ vai trÃ² báº¡n Ä‘Æ°á»£c Ä‘áº·t á»Ÿ vá»‹ trÃ­ khÃ¡c. Láº¥y sá»©c máº¡nh cá»§a ngÆ°á»i khÃ¡c Ä‘á»ƒ bÃ¹ Ä‘áº¯p Ä‘iá»ƒm yáº¿u cá»§a báº£n thÃ¢n, sá»± káº¿t há»£p giá»¯a cÃ¢y giÃ¡o vÃ  mÅ©i giÃ¡o cÃ³ thá»ƒ lÃ  má»™t chiáº¿c xe tÄƒng.</p>","autoDesc":true}');export{k as comp,h as data};
