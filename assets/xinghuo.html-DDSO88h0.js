import{_ as s,g as i,o as p,c as o,a as n,e as t,h as a,f as l,w as d}from"./app-5QVbWi7Z.js";const c={};function h(g,e){const r=i("RouteLink");return p(),o("div",null,[e[5]||(e[5]=n('<h1 id="【模型接入】讯飞星火" tabindex="-1"><a class="header-anchor" href="#【模型接入】讯飞星火"><span>【模型接入】讯飞星火</span></a></h1><p>项目基于 Spring AI + 自己实现的 <code>models/xinghu</code>，实现 <a href="https://xinghuo.xfyun.cn/sparkapi" target="_blank" rel="noopener noreferrer">讯飞星火大模型</a> 的接入：</p><table><thead><tr><th>功能</th><th>模型</th><th>Spring AI 客户端</th></tr></thead><tbody><tr><td>AI 对话</td><td>generalv3、generalv3.5 等</td><td>XingHuoChatModel</td></tr><tr><td>AI 绘画</td><td>暂未接入</td><td>暂未支持</td></tr></tbody></table><p>补充说明：</p><p>讯飞星火支持 <a href="https://www.xfyun.cn/doc/spark/ImageGeneration.html" target="_blank" rel="noopener noreferrer">图片生成</a>，未来我们也会进行集成。</p><h2 id="_1-申请密钥" tabindex="-1"><a class="header-anchor" href="#_1-申请密钥"><span><a href="#_1-%E7%94%B3%E8%AF%B7%E5%AF%86%E9%92%A5">#</a> 1. 申请密钥</span></a></h2><p>由于讯飞星火是非开源的模型，所以无法私有化部署，需要去官网申请 API Key，然后通过 Spring AI 提供的客户端接入。</p><h3 id="_1-1-申请讯飞密钥" tabindex="-1"><a class="header-anchor" href="#_1-1-申请讯飞密钥"><span><a href="#_1-1-%E7%94%B3%E8%AF%B7%E8%AE%AF%E9%A3%9E%E5%AF%86%E9%92%A5">#</a> 1.1 申请讯飞密钥</span></a></h3><p>① 在 <a href="https://xinghuo.xfyun.cn/sparkapi" target="_blank" rel="noopener noreferrer">讯飞星火</a> 上，注册一个账号。</p><p>② 在 <a href="https://xinghuo.xfyun.cn/sparkapi" target="_blank" rel="noopener noreferrer">讯飞星火</a> 上，点击【免费试用】按钮，创建一个应用。</p><p>③ 在 <a href="https://console.xfyun.cn/app/myapp" target="_blank" rel="noopener noreferrer">我的应用</a> 里，点击该应用的名字，然后选择【Spark3.5 Max】菜单，获得到 APPID、APISecret、APIKey。</p><figure><img src="https://doc.iocoder.cn/img/AI手册/模型接入/讯飞-创建应用.png" alt="创建应用" tabindex="0" loading="lazy"><figcaption>创建应用</figcaption></figure><hr><p>申请完成后，可以在我们系统的 [AI 大模型 -&gt; 控制台 -&gt; API 密钥] 菜单，进行密钥的配置。只需要填写“密钥”（<code>${APPID}|${APIKey}|{APISecret}</code>），不需要填写“自定义 API URL”（因为 Spring AI 默认官方地址）。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/AI手册/模型接入/讯飞星火-官方.png" alt="官方的密钥配置" tabindex="0" loading="lazy"><figcaption>官方的密钥配置</figcaption></figure><h3 id="_1-2-补充说明" tabindex="-1"><a class="header-anchor" href="#_1-2-补充说明"><span><a href="#_1-2-%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E">#</a> 1.2 补充说明</span></a></h3>',16)),t("p",null,[e[1]||(e[1]=a("如果后续你要体验 ")),l(r,{to:"/ai/chat/"},{default:d(()=>e[0]||(e[0]=[a("《AI 对话》")])),_:1}),e[2]||(e[2]=a(" ，需要在 [AI 大模型 -> 控制台 -> 聊天模型] 菜单，配置对应的聊天模型。注意，每个模型标识的 ")),e[3]||(e[3]=t("code",null,"max_tokens",-1)),e[4]||(e[4]=a("（回复数 Token 数）默认是 4096，最大 8192。"))]),e[6]||(e[6]=n(`<p>具体有哪些模型，可以去官方文档查看。例如说：<code>generalv3.5</code>、<code>generalv3</code> 等等。</p><h2 id="_2-如何使用" tabindex="-1"><a class="header-anchor" href="#_2-如何使用"><span><a href="#_2-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">#</a> 2. 如何使用？</span></a></h2><p>① 如果你的项目里需要直接通过 <code>@Resource</code> 注入 XingHuoChatModel 等对象，需要把 <code>application.yaml</code> 配置文件里的 <code>yudao.ai.xinghuo</code> 配置项，替换成你的！</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>yudao:</span></span>
<span class="line"><span>  ai:</span></span>
<span class="line"><span>    xinghuo:</span></span>
<span class="line"><span>      enable: true</span></span>
<span class="line"><span>      appId: 13c8cca6</span></span>
<span class="line"><span>      appKey: cb6415c19d6162cda07b47316fcb0416</span></span>
<span class="line"><span>      secretKey: Y2JiYTIxZjA3MDMxMjNjZjQzYzVmNzdh</span></span>
<span class="line"><span>      model: generalv3.5</span></span></code></pre></div><p>② 如果你希望使用 [AI 大模型 -&gt; 控制台 -&gt; API 密钥] 菜单的密钥配置，则可以通过 AiApiKeyService 的 <code>#getChatModel(...)</code>，获取对应的模型对象。</p><hr><p>① 和 ② 这两者的后续使用，就是标准的 Spring AI 客户端的使用，调用对应的方法即可。</p><p>另外，XingHuoChatModelTests 里有对应的测试用例，可以参考。</p>`,8))])}const f=s(c,[["render",h],["__file","xinghuo.html.vue"]]),A=JSON.parse('{"path":"/project/rouyi-vue-pro/ai/xinghuo.html","title":"【模型接入】讯飞星火","lang":"en-US","frontmatter":{"title":"【模型接入】讯飞星火","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":141,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. 申请密钥","slug":"_1-申请密钥","link":"#_1-申请密钥","children":[{"level":3,"title":"# 1.1 申请讯飞密钥","slug":"_1-1-申请讯飞密钥","link":"#_1-1-申请讯飞密钥","children":[]},{"level":3,"title":"# 1.2 补充说明","slug":"_1-2-补充说明","link":"#_1-2-补充说明","children":[]}]},{"level":2,"title":"# 2. 如何使用？","slug":"_2-如何使用","link":"#_2-如何使用","children":[]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":2.14,"words":641},"filePathRelative":"project/rouyi-vue-pro/ai/xinghuo.md","localizedDate":"July 7, 2024"}');export{f as comp,A as data};
