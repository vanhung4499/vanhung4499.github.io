import{_ as s,o as n,c as a,d as i}from"./app-fjbxAy1X.js";const l={},t=i(`<h1 id="hieu-sau-ve-serialization-trong-java" tabindex="-1"><a class="header-anchor" href="#hieu-sau-ve-serialization-trong-java"><span>Hiá»ƒu sÃ¢u vá» Serialization trong Java</span></a></h1><blockquote><p><strong>Keyword</strong>:Â <code>Serializable</code>,Â <code>serialVersionUID</code>,Â <code>transient</code>,Â <code>Externalizable</code>,Â <code>writeObject</code>,Â <code>readObject</code></p></blockquote><h2 id="gioi-thieu-ve-serialization" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-serialization"><span>Giá»›i thiá»‡u vá» Serialization</span></a></h2><p>Trong quÃ¡ trÃ¬nh truyá»n thÃ´ng qua máº¡ng, dá»¯ liá»‡u pháº£i Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i thÃ nh dáº¡ng nhá»‹ phÃ¢n. Tuy nhiÃªn, cÃ¡c tham sá»‘ Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra cá»§a cÃ¡c yÃªu cáº§u tá»« phÃ­a gá»i lÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng. Äá»‘i tÆ°á»£ng khÃ´ng thá»ƒ truyá»n trá»±c tiáº¿p qua máº¡ng, vÃ¬ váº­y cáº§n chuyá»ƒn Ä‘á»•i nÃ³ thÃ nh dáº¡ng nhá»‹ phÃ¢n cÃ³ thá»ƒ truyá»n Ä‘Æ°á»£c vÃ  thuáº­t toÃ¡n chuyá»ƒn Ä‘á»•i pháº£i lÃ  Ä‘áº£o ngÆ°á»£c Ä‘Æ°á»£c.</p><ul><li><strong>Serialization</strong>: Serialization lÃ  quÃ¡ trÃ¬nh chuyá»ƒn Ä‘á»•i Ä‘á»‘i tÆ°á»£ng thÃ nh dáº¡ng nhá»‹ phÃ¢n.</li><li><strong>Deserialization</strong>: Deserialization lÃ  quÃ¡ trÃ¬nh chuyá»ƒn Ä‘á»•i dáº¡ng nhá»‹ phÃ¢n thÃ nh Ä‘á»‘i tÆ°á»£ng.</li></ul><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20230715135332.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p><strong>Má»¥c Ä‘Ã­ch cá»§a Serialization</strong></p><ul><li>Serialization cho phÃ©p lÆ°u trá»¯ dÃ£y byte cá»§a Ä‘á»‘i tÆ°á»£ng - lÆ°u trá»¯ trong bá»™ nhá»›, tá»‡p tin, cÆ¡ sá»Ÿ dá»¯ liá»‡u.</li><li>Truyá»n dá»¯ liá»‡u dáº¡ng byte cá»§a Ä‘á»‘i tÆ°á»£ng qua máº¡ng.</li><li>RMI (Remote Method Invocation) - Gá»i phÆ°Æ¡ng thá»©c tá»« xa.</li></ul><h2 id="jdk-serialization" tabindex="-1"><a class="header-anchor" href="#jdk-serialization"><span>JDK Serialization</span></a></h2><p>Trong JDK, cÃ³ má»™t cÃ¡ch tÃ­ch há»£p sáºµn Ä‘á»ƒ thá»±c hiá»‡n viá»‡c serialization.</p><h3 id="objectinputstream-va-objectoutputstream" tabindex="-1"><a class="header-anchor" href="#objectinputstream-va-objectoutputstream"><span>ObjectInputStream vÃ  ObjectOutputStream</span></a></h3><p>Java sá»­ dá»¥ng luá»“ng Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra Ä‘á»‘i tÆ°á»£ng Ä‘á»ƒ thá»±c hiá»‡n serialization vÃ  deserialization:</p><ul><li>PhÆ°Æ¡ng thá»©cÂ <code>writeObject()</code>Â cá»§a lá»›pÂ <code>java.io.ObjectOutputStream</code>Â Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thá»±c hiá»‡n serialization.</li><li>PhÆ°Æ¡ng thá»©cÂ <code>readObject()</code>Â cá»§a lá»›pÂ <code>java.io.ObjectInputStream</code>Â Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ thá»±c hiá»‡n deserialization.</li></ul><p>VÃ­ dá»¥ vá» serialization vÃ  deserialization:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> SerializeDemo01</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    enum</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">        MALE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">        FEMALE</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> long</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1L</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> name </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> age</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">name</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> name;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">age</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> age;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sex</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> sex;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        @</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> toString</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;Person{&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;name=&#39;&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> name </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">\\&#39;</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;, age=&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;, sex=&quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> sex </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;}&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * Serialization</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> serialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> filename</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        File</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> f</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> File</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Define the save path</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        OutputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> out</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> FileOutputStream</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(f); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// File output stream</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        ObjectOutputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> oos</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> ObjectOutputStream</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(out); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Object output stream</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        oos</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">writeObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Jack&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">30</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">MALE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Save the object</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        oos</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">close</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">close</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     * Deserialization</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> deserialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> filename</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        File</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> f</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> File</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Define the save path</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        InputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> in</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> FileInputStream</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(f); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// File input stream</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        ObjectInputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> ois</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> ObjectInputStream</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(in); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Object input stream</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        Object</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> obj</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ois</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">readObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(); </span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Read the object</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        ois</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">close</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">close</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        System</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">println</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(obj);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[] </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        final</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> filename</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;d:/text.dat&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        serialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        deserialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Output:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Person{name=&#39;Jack&#39;, age=30, sex=MALE}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>QuÃ¡ trÃ¬nh serialization cá»§a JDK Ä‘Æ°á»£c thá»±c hiá»‡n nhÆ° tháº¿ nÃ o?</p><p>QuÃ¡ trÃ¬nh serialization lÃ  quÃ¡ trÃ¬nh Ä‘á»c dá»¯ liá»‡u Ä‘á»‘i tÆ°á»£ng vÃ  liÃªn tá»¥c chÃ¨n cÃ¡c kÃ½ tá»± phÃ¢n cÃ¡ch Ä‘áº·c biá»‡t vÃ o, cÃ¡c kÃ½ tá»± nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cáº¯t ngang trong quÃ¡ trÃ¬nh deserialization, giá»‘ng nhÆ° dáº¥u cÃ¢u trong vÄƒn báº£n Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¡ch cÃ¢u.</p><ul><li>Dá»¯ liá»‡u tiÃªu Ä‘á» Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khai bÃ¡o giao thá»©c serialization, phiÃªn báº£n serialization, Ä‘á»ƒ há»— trá»£ viá»‡c tÆ°Æ¡ng thÃ­ch ngÆ°á»£c vá»›i cÃ¡c phiÃªn báº£n cao hÆ¡n.</li><li>Dá»¯ liá»‡u Ä‘á»‘i tÆ°á»£ng chá»§ yáº¿u bao gá»“m tÃªn lá»›p, chá»¯ kÃ½, tÃªn thuá»™c tÃ­nh, kiá»ƒu thuá»™c tÃ­nh vÃ  giÃ¡ trá»‹ thuá»™c tÃ­nh. Táº¥t nhiÃªn cÃ²n cÃ³ cÃ¡c dá»¯ liá»‡u khÃ¡c nhÆ° má»¥c Ä‘áº§u má»¥c cuá»‘i cÃ¹ng vÃ  chá»‰ cÃ³ giÃ¡ trá»‹ thuá»™c tÃ­nh lÃ  giÃ¡ trá»‹ thá»±c sá»± cá»§a Ä‘á»‘i tÆ°á»£ng. CÃ¡c thÃ´ng tin khÃ¡c lÃ  siÃªu dá»¯ liá»‡u cho quÃ¡ trÃ¬nh deserialization.</li><li>Trong trÆ°á»ng há»£p cÃ³ sá»± xuáº¥t hiá»‡n cá»§a viá»‡c Ã¡p dá»¥ng tham chiáº¿u Ä‘á»‘i tÆ°á»£ng vÃ  káº¿ thá»«a, quÃ¡ trÃ¬nh nÃ y sáº½ tiáº¿p tá»¥c láº·p láº¡i &quot;ghi Ä‘á»‘i tÆ°á»£ng&quot;.</li></ul><blockquote><p>ğŸ”” LÆ°u Ã½: Khi sá»­ dá»¥ng serialization Ä‘á»‘i tÆ°á»£ng Java, khi lÆ°u trá»¯ má»™t Ä‘á»‘i tÆ°á»£ng, nÃ³ sáº½ Ä‘Æ°á»£c lÆ°u trá»¯ thÃ nh má»™t nhÃ³m byte vÃ  sau nÃ y cÃ¡c byte nÃ y sáº½ Ä‘Æ°á»£c há»£p thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng. Äiá»u cáº§n chÃº Ã½ lÃ  serialization cá»§a Ä‘á»‘i tÆ°á»£ng chá»‰ lÆ°u tráº¡ng thÃ¡i cá»§a nÃ³, tá»©c lÃ  cÃ¡c biáº¿n thÃ nh viÃªn cá»§a nÃ³. Do Ä‘Ã³, <strong>serialization khÃ´ng quan tÃ¢m Ä‘áº¿n biáº¿n static trong class</strong>.</p></blockquote><h3 id="giao-dien-serializable" tabindex="-1"><a class="header-anchor" href="#giao-dien-serializable"><span>Giao diá»‡n Serializable</span></a></h3><p><strong>Lá»›p Ä‘Æ°á»£c serialize pháº£i thuá»™c má»™t trong cÃ¡c loáº¡i <code>Enum</code>, <code>Array</code> vÃ  <code>Serializable</code>, náº¿u khÃ´ng sáº½ gÃ¢y ra ngoáº¡i lá»‡ <code>NotSerializableException</code></strong>. Äiá»u nÃ y xáº£y ra vÃ¬: trong quÃ¡ trÃ¬nh thá»±c hiá»‡n serialize, kiá»ƒu dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c kiá»ƒm tra vÃ  náº¿u khÃ´ng Ä‘Ã¡p á»©ng yÃªu cáº§u cá»§a kiá»ƒu dá»¯ liá»‡u serialize, má»™t ngoáº¡i lá»‡ sáº½ Ä‘Æ°á»£c gÃ¢y ra.</p><p>ã€VÃ­ dá»¥ã€‘Lá»—i <code>NotSerializableException</code></p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> UnSerializeDemo</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> // Ná»™i dung khÃ¡c bá» qua }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // Ná»™i dung khÃ¡c bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>Káº¿t quáº£: Káº¿t quáº£ lÃ  xuáº¥t hiá»‡n thÃ´ng tin ngoáº¡i lá»‡ nhÆ° sau.</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>Exception in thread &quot;main&quot; java.io.NotSerializableException:</span></span>
<span class="line"><span>...</span></span></code></pre></div><h4 id="serialversionuid" tabindex="-1"><a class="header-anchor" href="#serialversionuid"><span>serialVersionUID</span></a></h4><p>HÃ£y chÃº Ã½ Ä‘áº¿n trÆ°á»ng <code>serialVersionUID</code>, báº¡n cÃ³ thá»ƒ tháº¥y trÆ°á»ng nÃ y trong vÃ´ sá»‘ lá»›p Java.</p><p><code>serialVersionUID</code> cÃ³ tÃ¡c dá»¥ng gÃ¬ vÃ  lÃ m cÃ¡ch nÃ o Ä‘á»ƒ sá»­ dá»¥ng <code>serialVersionUID</code>?</p><p><strong><code>serialVersionUID</code> lÃ  má»™t phiÃªn báº£n Ä‘á»‹nh danh Ä‘Æ°á»£c táº¡o ra cho má»—i lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a trong Java</strong>. NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng khi giáº£i tuáº§n tá»± hÃ³a, cÃ¡c Ä‘á»‘i tÆ°á»£ng gá»­i Ä‘i vÃ  nháº­n Ä‘Æ°á»£c lÃ  tÆ°Æ¡ng thÃ­ch. Náº¿u <code>serialVersionUID</code> cá»§a lá»›p nháº­n Ä‘Æ°á»£c khÃ´ng khá»›p vá»›i <code>serialVersionUID</code> cá»§a ngÆ°á»i gá»­i, sáº½ xáº£y ra ngoáº¡i lá»‡ <code>InvalidClassException</code>.</p><p>Náº¿u lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a khÃ´ng khai bÃ¡o rÃµ rÃ ng <code>serialVersionUID</code>, thÃ¬ quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a runtime sáº½ tÃ­nh toÃ¡n giÃ¡ trá»‹ máº·c Ä‘á»‹nh cá»§a <code>serialVersionUID</code> dá»±a trÃªn cÃ¡c khÃ­a cáº¡nh cá»§a lá»›p. Tuy váº­y, <strong>váº«n nÃªn chá»‰ Ä‘á»‹nh giÃ¡ trá»‹ cá»§a <code>serialVersionUID</code> má»™t cÃ¡ch rÃµ rÃ ng trong tá»«ng lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a</strong>. Bá»Ÿi vÃ¬ cÃ¡c phiÃªn báº£n JDK biÃªn dá»‹ch khÃ¡c nhau cÃ³ thá»ƒ sinh ra cÃ¡c giÃ¡ trá»‹ máº·c Ä‘inh cho <code>serialVersionID</code> khÃ¡c nhau, dáº«n Ä‘áº¿n ngoáº¡i lá»‡ <code>InvalidClassExceptions</code> khi giáº£i tuáº§n tá»± hÃ³a.</p><p><strong>TrÆ°á»ng <code>serialVersionUID</code> pháº£i cÃ³ kiá»ƒu <code>static final long</code>.</strong></p><p>HÃ£y xem má»™t vÃ­ dá»¥:</p><p>(1) CÃ³ má»™t lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a lÃ  Person</p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> long</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1L</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> address</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o, getter, setter bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>(2) Trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, chÃºng ta thÃªm má»™t trÆ°á»ng email vÃ o lá»›p Person, nhÆ° sau:</p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> long</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1L</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> address</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> email</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o, getter, setter bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>VÃ¬ lá»›p nÃ y khÃ´ng tÆ°Æ¡ng thÃ­ch vá»›i phiÃªn báº£n cÅ©, chÃºng ta cáº§n thay Ä‘á»•i sá»‘ phiÃªn báº£n:</p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> long</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 2L</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>Khi tiáº¿n hÃ nh giáº£i tuáº§n tá»± hÃ³a láº¡i sáº½ gÃ¢y ra ngoáº¡i lá»‡ <code>InvalidClassException</code>.</p><p>TÃ³m láº¡i, chÃºng ta cÃ³ thá»ƒ hiá»ƒu rÃµ: <strong><code>serialVersionUID</code> Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm soÃ¡t tÃ­nh tÆ°Æ¡ng thÃ­ch cá»§a phiÃªn báº£n tuáº§n tá»± hÃ³a</strong>. Náº¿u chÃºng ta cho ráº±ng cÃ¡c thay Ä‘á»•i trong lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a lÃ  tÆ°Æ¡ng thÃ­ch vá»›i phiÃªn báº£n cÅ©, chÃºng ta khÃ´ng cáº§n sá»­a <code>serialVersionUID</code>.</p><h4 id="co-che-tuan-tu-hoa-mac-Ä‘inh" tabindex="-1"><a class="header-anchor" href="#co-che-tuan-tu-hoa-mac-Ä‘inh"><span>CÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh</span></a></h4><p>Náº¿u chá»‰ Ä‘Æ¡n giáº£n lÃ  lÃ m cho má»™t lá»›p triá»ƒn khai giao diá»‡n <code>Serializable</code> mÃ  khÃ´ng cÃ³ báº¥t ká»³ xá»­ lÃ½ nÃ o khÃ¡c, thÃ¬ cÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng.</p><p>Khi sá»­ dá»¥ng cÆ¡ cháº¿ máº·c Ä‘á»‹nh, khi tuáº§n tá»± hÃ³a má»™t Ä‘á»‘i tÆ°á»£ng, khÃ´ng chá»‰ Ä‘Æ¡n giáº£n tuáº§n tá»± hÃ³a Ä‘á»‘i tÆ°á»£ng hiá»‡n táº¡i mÃ  cÃ²n tuáº§n tá»± hÃ³a cÃ¡c trÆ°á»ng cá»§a lá»›p cha vÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c mÃ  Ä‘á»‘i tÆ°á»£ng hiá»‡n táº¡i tham chiáº¿u Ä‘áº¿n. TÆ°Æ¡ng tá»±, cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c Ä‘Æ°á»£c tham chiáº¿u bá»Ÿi cÃ¡c Ä‘á»‘i tÆ°á»£ng nÃ y cÅ©ng sáº½ Ä‘Æ°á»£c tuáº§n tá»± hÃ³a, vÃ  cá»© tiáº¿p tá»¥c nhÆ° váº­y. Do Ä‘Ã³, náº¿u má»™t Ä‘á»‘i tÆ°á»£ng chá»©a cÃ¡c biáº¿n thÃ nh viÃªn lÃ  Ä‘á»‘i tÆ°á»£ng kiá»ƒu container vÃ  cÃ¡c pháº§n tá»­ cá»§a cÃ¡c container nÃ y cÅ©ng lÃ  Ä‘á»‘i tÆ°á»£ng kiá»ƒu container, quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a nÃ y sáº½ phá»©c táº¡p vÃ  tá»‘n kÃ©m.</p><blockquote><p>ğŸ”” LÆ°u Ã½: Lá»›p cha vÃ  Ä‘á»‘i tÆ°á»£ng tham chiáº¿u á»Ÿ Ä‘Ã¢y cÅ©ng pháº£i tuÃ¢n thá»§ yÃªu cáº§u tuáº§n tá»± hÃ³a: <strong>Lá»›p Ä‘Æ°á»£c tuáº§n tá»± hÃ³a pháº£i thuá»™c má»™t trong cÃ¡c kiá»ƒu Enum, Array hoáº·c Serializable</strong>.</p></blockquote><h4 id="Ä‘iem-quan-trong-cua-tuan-tu-hoa-jdk" tabindex="-1"><a class="header-anchor" href="#Ä‘iem-quan-trong-cua-tuan-tu-hoa-jdk"><span>Äiá»ƒm quan trá»ng cá»§a tuáº§n tá»± hÃ³a JDK</span></a></h4><p>Tuáº§n tá»± hÃ³a cá»§a Java cÃ³ thá»ƒ Ä‘áº£m báº£o viá»‡c lÆ°u trá»¯ tráº¡ng thÃ¡i cá»§a Ä‘á»‘i tÆ°á»£ng, nhÆ°ng khi gáº·p pháº£i cÃ¡c cáº¥u trÃºc Ä‘á»‘i tÆ°á»£ng phá»©c táº¡p, viá»‡c xá»­ lÃ½ váº«n khÃ¡ khÃ³ khÄƒn. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ Ä‘iá»ƒm tá»•ng há»£p:</p><ul><li>Náº¿u lá»›p cha triá»ƒn khai giao diá»‡n <code>Serializable</code>, táº¥t cáº£ cÃ¡c lá»›p con cÅ©ng cÃ³ thá»ƒ Ä‘Æ°á»£c tuáº§n tá»± hÃ³a.</li><li>Náº¿u lá»›p con triá»ƒn khai giao diá»‡n <code>Serializable</code>, nhÆ°ng lá»›p cha khÃ´ng, thÃ¬ lá»›p con cÃ³ thá»ƒ Ä‘Æ°á»£c tuáº§n tá»± hÃ³a chÃ­nh xÃ¡c, nhÆ°ng cÃ¡c thuá»™c tÃ­nh cá»§a lá»›p cha sáº½ khÃ´ng Ä‘Æ°á»£c tuáº§n tá»± hÃ³a (khÃ´ng bÃ¡o lá»—i, dá»¯ liá»‡u bá»‹ máº¥t).</li><li>Náº¿u thuá»™c tÃ­nh Ä‘Æ°á»£c tuáº§n tá»± hÃ³a lÃ  má»™t Ä‘á»‘i tÆ°á»£ng, thÃ¬ Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ cÅ©ng pháº£i triá»ƒn khai giao diá»‡n <code>Serializable</code>, náº¿u khÃ´ng sáº½ bá»‹ bÃ¡o lá»—i.</li><li>Khi thá»±c hiá»‡n tuáº§n tá»± hÃ³a ngÆ°á»£c, náº¿u thuá»™c tÃ­nh cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i hoáº·c xÃ³a bá», cÃ¡c thuá»™c tÃ­nh Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i sáº½ bá»‹ máº¥t, nhÆ°ng khÃ´ng bÃ¡o lá»—i.</li><li>Khi thá»±c hiá»‡n tuáº§n tá»± hÃ³a ngÆ°á»£c, náº¿u <code>serialVersionUID</code> Ä‘Ã£ bá»‹ thay Ä‘á»•i, quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a ngÆ°á»£c sáº½ tháº¥t báº¡i.</li></ul><h4 id="transient" tabindex="-1"><a class="header-anchor" href="#transient"><span>transient</span></a></h4><p>Trong cÃ¡c á»©ng dá»¥ng thá»±c táº¿, Ä‘Ã´i khi khÃ´ng thá»ƒ sá»­ dá»¥ng cÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh. VÃ­ dá»¥, muá»‘n bá» qua dá»¯ liá»‡u nháº¡y cáº£m trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a, hoáº·c Ä‘Æ¡n giáº£n hÃ³a quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ phÆ°Æ¡ng phÃ¡p áº£nh hÆ°á»Ÿng Ä‘áº¿n quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a.</p><p><strong>Trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a, cÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh sáº½ bá» qua cÃ¡c trÆ°á»ng Ä‘Æ°á»£c khai bÃ¡o lÃ  <code>transient</code></strong>, nghÄ©a lÃ  ná»™i dung cá»§a trÆ°á»ng nÃ y khÃ´ng thá»ƒ truy cáº­p sau khi tuáº§n tá»± hÃ³a.</p><p>ChÃºng ta hÃ£y khai bÃ¡o trÆ°á»ng age cá»§a lá»›p Person trong vÃ­ dá»¥ SerializeDemo01 lÃ  <code>transient</code>, nhÆ° sau:</p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> SerializeDemo02</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        transient</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Káº¿t quáº£:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// name: Jack, age: null, sex: MALE</span></span></code></pre></div><p>Tá»« káº¿t quáº£ Ä‘áº§u ra, cÃ³ thá»ƒ tháº¥y ráº±ng trÆ°á»ng age khÃ´ng Ä‘Æ°á»£c tuáº§n tá»± hÃ³a.</p><h3 id="giao-dien-externalizable" tabindex="-1"><a class="header-anchor" href="#giao-dien-externalizable"><span>Giao diá»‡n Externalizable</span></a></h3><p>DÃ¹ sá»­ dá»¥ng tá»« khÃ³a <code>transient</code>, hoáº·c sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng thá»©c <code>writeObject()</code> vÃ  <code>readObject()</code>, thá»±c cháº¥t Ä‘á»u dá»±a trÃªn giao diá»‡n <code>Serializable</code> Ä‘á»ƒ thá»±c hiá»‡n viá»‡c tuáº§n tá»± hÃ³a.</p><p>JDK cung cáº¥p má»™t giao diá»‡n tuáº§n tá»± hÃ³a khÃ¡c lÃ  <code>Externalizable</code>.</p><p><strong>Khi má»™t lá»›p cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a triá»ƒn khai giao diá»‡n <code>Externalizable</code>, cÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh dá»±a trÃªn giao diá»‡n <code>Serializable</code> sáº½ khÃ´ng cÃ²n hoáº¡t Ä‘á»™ng</strong>.</p><p>ChÃºng ta hÃ£y thá»±c hiá»‡n má»™t sá»‘ thay Ä‘á»•i dá»±a trÃªn vÃ­ dá»¥ SerializeDemo02, mÃ£ nguá»“n nhÆ° sau:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ExternalizeDemo01</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Externalizable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        transient</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> writeObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectOutputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultWriteObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">writeInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(age);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> readObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectInputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultReadObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">readInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        @</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> writeExternal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectOutput</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        @</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> readExternal</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectInput</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">     // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Káº¿t quáº£:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// call Person()</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// name: null, age: null, sex: null</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tá»« káº¿t quáº£ nÃ y, má»™t máº·t ta cÃ³ thá»ƒ tháº¥y ráº±ng khÃ´ng cÃ³ trÆ°á»ng nÃ o cá»§a Ä‘á»‘i tÆ°á»£ng Person Ä‘Æ°á»£c tuáº§n tá»± hÃ³a. Máº·t khÃ¡c, náº¿u chÃº Ã½, ta cÅ©ng cÃ³ thá»ƒ tháº¥y ráº±ng trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a nÃ y, phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o khÃ´ng tham sá»‘ cá»§a lá»›p Person Ä‘Ã£ Ä‘Æ°á»£c gá»i.</p><ul><li><strong><code>Externalizable</code> káº¿ thá»«a tá»« <code>Serializable</code> vÃ  thÃªm hai phÆ°Æ¡ng thá»©c: <code>writeExternal()</code> vÃ  <code>readExternal()</code> Ä‘á»ƒ thá»±c hiá»‡n má»™t sá»‘ thao tÃ¡c Ä‘áº·c biá»‡t trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a vÃ  giáº£i tuáº§n tá»± hÃ³a</strong>. Khi sá»­ dá»¥ng giao diá»‡n nÃ y, chi tiáº¿t tuáº§n tá»± hÃ³a pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi ngÆ°á»i láº­p trÃ¬nh. NhÆ° mÃ£ nguá»“n trÃªn, vÃ¬ <code>writeExternal()</code> vÃ  <code>readExternal()</code> khÃ´ng thá»±c hiá»‡n báº¥t ká»³ xá»­ lÃ½ nÃ o, nÃªn hÃ nh vi tuáº§n tá»± hÃ³a nÃ y sáº½ khÃ´ng lÆ°u/truy xuáº¥t báº¥t ká»³ trÆ°á»ng nÃ o. ÄÃ³ lÃ  lÃ½ do táº¡i sao táº¥t cáº£ cÃ¡c trÆ°á»ng trong káº¿t quáº£ Ä‘áº§u ra Ä‘á»u rá»—ng.</li><li>NgoÃ i ra, <strong>khi sá»­ dá»¥ng <code>Externalizable</code> Ä‘á»ƒ tuáº§n tá»± hÃ³a, khi Ä‘á»c Ä‘á»‘i tÆ°á»£ng, sáº½ gá»i phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o khÃ´ng tham sá»‘ cá»§a lá»›p Ä‘Æ°á»£c tuáº§n tá»± hÃ³a Ä‘á»ƒ táº¡o má»™t Ä‘á»‘i tÆ°á»£ng má»›i, sau Ä‘Ã³ Ä‘iá»n giÃ¡ trá»‹ cá»§a cÃ¡c trÆ°á»ng cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ Ä‘Æ°á»£c lÆ°u vÃ o Ä‘á»‘i tÆ°á»£ng má»›i</strong>. ÄÃ¢y lÃ  lÃ½ do táº¡i sao phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o khÃ´ng tham sá»‘ cá»§a lá»›p Person Ä‘Æ°á»£c gá»i trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a nÃ y. Do Ä‘Ã³, lá»›p triá»ƒn khai giao diá»‡n <code>Externalizable</code> pháº£i cung cáº¥p má»™t phÆ°Æ¡ng thá»©c khá»Ÿi táº¡o khÃ´ng tham sá»‘ vÃ  quyá»n truy cáº­p cá»§a nÃ³ pháº£i lÃ  <code>public</code>.</li></ul><h4 id="phuong-phap-thay-the-cho-giao-dien-externalizable" tabindex="-1"><a class="header-anchor" href="#phuong-phap-thay-the-cho-giao-dien-externalizable"><span>PhÆ°Æ¡ng phÃ¡p thay tháº¿ cho giao diá»‡n Externalizable</span></a></h4><p>Triá»ƒn khai giao diá»‡n <code>Externalizable</code> cho phÃ©p kiá»ƒm soÃ¡t cÃ¡c chi tiáº¿t cá»§a quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a vÃ  giáº£i tuáº§n tá»± hÃ³a. Tuy nhiÃªn, cÃ²n má»™t phÆ°Æ¡ng phÃ¡p thay tháº¿ khÃ¡c: triá»ƒn khai giao diá»‡n <code>Serializable</code> vÃ  thÃªm cÃ¡c phÆ°Æ¡ng thá»©c <code>writeObject(ObjectOutputStream out)</code> vÃ  <code>readObject(ObjectInputStream in)</code>. CÃ¡c phÆ°Æ¡ng thá»©c nÃ y sáº½ Ä‘Æ°á»£c gá»i tá»± Ä‘á»™ng trong quÃ¡ trÃ¬nh tuáº§n tá»± hÃ³a vÃ  giáº£i tuáº§n tá»± hÃ³a.</p><p>VÃ­ dá»¥ nhÆ° sau:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> SerializeDemo03</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        transient</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> writeObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectOutputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultWriteObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">writeInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(age);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> readObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectInputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultReadObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">readInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c ná»™i dung khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Káº¿t quáº£:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// name: Jack, age: 30, sex: MALE</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Trong phÆ°Æ¡ng thá»©c <code>writeObject()</code>, trÆ°á»›c tiÃªn sáº½ gá»i phÆ°Æ¡ng thá»©c <code>defaultWriteObject()</code> trong <code>ObjectOutputStream</code>, phÆ°Æ¡ng thá»©c nÃ y sáº½ thá»±c hiá»‡n cÆ¡ cháº¿ tuáº§n tá»± hÃ³a máº·c Ä‘á»‹nh nhÆ° Ä‘Ã£ mÃ´ táº£ á»Ÿ pháº§n trÆ°á»›c, trong quÃ¡ trÃ¬nh nÃ y trÆ°á»ng age sáº½ bá»‹ bá» qua. Sau Ä‘Ã³, gá»i phÆ°Æ¡ng thá»©c <code>writeInt()</code> Ä‘á»ƒ ghi trÆ°á»ng age vÃ o <code>ObjectOutputStream</code>. PhÆ°Æ¡ng thá»©c <code>readObject()</code> cÅ©ng tÆ°Æ¡ng tá»±, nÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»c Ä‘á»‘i tÆ°á»£ng, nguyÃªn táº¯c hoáº¡t Ä‘á»™ng giá»‘ng nhÆ° phÆ°Æ¡ng thá»©c <code>writeObject()</code>.</p><blockquote><p>ğŸ”” LÆ°u Ã½: Cáº£ <code>writeObject()</code> vÃ  <code>readObject()</code> Ä‘á»u lÃ  phÆ°Æ¡ng thá»©c <code>private</code>, váº­y lÃ m sao chÃºng Ä‘Æ°á»£c gá»i? ÄÆ°Æ¡ng nhiÃªn, thÃ´ng qua pháº£n chiáº¿u (reflection). Chi tiáº¿t cÃ³ thá»ƒ xem trong phÆ°Æ¡ng thá»©c <code>writeSerialData</code> cá»§a <code>ObjectOutputStream</code> vÃ  phÆ°Æ¡ng thá»©c <code>readSerialData</code> cá»§a <code>ObjectInputStream</code>.</p></blockquote><h3 id="phuong-thuc-readresolve" tabindex="-1"><a class="header-anchor" href="#phuong-thuc-readresolve"><span>PhÆ°Æ¡ng thá»©c readResolve()</span></a></h3><p>Khi sá»­ dá»¥ng máº«u Singleton, chÃºng ta mong muá»‘n má»™t lá»›p chá»‰ cÃ³ má»™t phiÃªn báº£n duy nháº¥t. Tuy nhiÃªn, náº¿u lá»›p Ä‘Ã³ cÃ³ kháº£ nÄƒng tuáº§n tá»± hÃ³a, thÃ¬ tÃ¬nh huá»‘ng cÃ³ thá»ƒ khÃ¡c Ä‘i má»™t chÃºt. Trong trÆ°á»ng há»£p nÃ y, chÃºng ta sáº½ thay Ä‘á»•i lá»›p Person trong pháº§n 2 Ä‘á»ƒ triá»ƒn khai máº«u Singleton, nhÆ° sau:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> SerializeDemo04</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    enum</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="color:#D19A66;--shiki-dark:#D19A66;">        MALE</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> FEMALE</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> long</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> serialVersionUID </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 1L</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> name </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        transient</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> instance </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;Tom&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 31</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">MALE</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            System</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">println</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;call Person()&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Person</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Integer</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> age</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Sex</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">name</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> name;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">age</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> age;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sex</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> sex;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getInstance</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> instance;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> writeObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectOutputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultWriteObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            out</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">writeInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(age);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> readObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ObjectInputStream</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">            in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">defaultReadObject</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">            age </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> in</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">readInt</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> toString</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;name: &quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">name</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;, age: &quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">age</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;, sex: &quot;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sex</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c phÆ°Æ¡ng thá»©c tuáº§n tá»± hÃ³a vÃ  giáº£i tuáº§n tá»± hÃ³a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> main</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">[] </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> throws</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> IOException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ClassNotFoundException</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        final</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> filename</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &quot;d:/text.dat&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        serialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename);</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">        deserialize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(filename);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Káº¿t quáº£:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// name: Jack, age: null, sex: MALE</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// false</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>LÆ°u Ã½ ráº±ng Ä‘á»‘i tÆ°á»£ng Person Ä‘Æ°á»£c láº¥y tá»« tá»‡p khÃ´ng báº±ng vá»›i Ä‘á»‘i tÆ°á»£ng singleton trong lá»›p Person. <strong>Äá»ƒ váº«n duy trÃ¬ tÃ­nh cháº¥t tuáº§n tá»± hÃ³a trong lá»›p Singleton, chÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c <code>readResolve()</code></strong>. Trong phÆ°Æ¡ng thá»©c nÃ y, chÃºng ta trá»±c tiáº¿p tráº£ vá» Ä‘á»‘i tÆ°á»£ng singleton cá»§a lá»›p Person. ChÃºng ta thÃªm má»™t phÆ°Æ¡ng thá»©c <code>readResolve()</code> vÃ o vÃ­ dá»¥ SerializeDemo04 nhÆ° sau:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> SerializeDemo05</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c pháº§n khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Person</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> implements</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Serializable</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        //     in.defaultReadObject();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        //     age = in.readInt();</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // ThÃªm phÆ°Æ¡ng thá»©c nÃ y</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Object</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> readResolve</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> instance;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">        // CÃ¡c pháº§n khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // CÃ¡c pháº§n khÃ¡c bá»‹ bá» qua</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// Káº¿t quáº£:</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// name: Tom, age: 31, sex: MALE</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">// true</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="van-Ä‘e-voi-jdk-serialization" tabindex="-1"><a class="header-anchor" href="#van-Ä‘e-voi-jdk-serialization"><span>Váº¥n Ä‘á» vá»›i JDK Serialization</span></a></h3><ul><li><strong>KhÃ´ng thá»ƒ giao tiáº¿p qua ngÃ´n ngá»¯</strong>: JDK Serialization hiá»‡n chá»‰ Ã¡p dá»¥ng cho cÃ¡c framework Ä‘Æ°á»£c triá»ƒn khai báº±ng Java, háº§u háº¿t cÃ¡c ngÃ´n ngá»¯ khÃ¡c khÃ´ng sá»­ dá»¥ng framework serialization cá»§a Java hoáº·c khÃ´ng triá»ƒn khai giao thá»©c serialization cá»§a JDK. Do Ä‘Ã³, náº¿u hai á»©ng dá»¥ng Ä‘Æ°á»£c viáº¿t báº±ng cÃ¡c ngÃ´n ngá»¯ khÃ¡c nhau cáº§n giao tiáº¿p vá»›i nhau, viá»‡c tuáº§n tá»± hÃ³a vÃ  giáº£i tuáº§n tá»± hÃ³a Ä‘á»‘i tÆ°á»£ng giá»¯a hai dá»‹ch vá»¥ sáº½ khÃ´ng thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c.</li><li><strong>Dá»… bá»‹ táº¥n cÃ´ng</strong>: Äá»‘i tÆ°á»£ng Ä‘Æ°á»£c giáº£i tuáº§n tá»± hÃ³a thÃ´ng qua viá»‡c gá»i phÆ°Æ¡ng thá»©c <code>readObject()</code> trÃªn <code>ObjectInputStream</code>, Ä‘iá»u nÃ y cÃ³ thá»ƒ táº¡o ra má»™t phiÃªn báº£n cá»§a háº§u háº¿t cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ triá»ƒn khai giao diá»‡n <code>Serializable</code> trÃªn Ä‘Æ°á»ng dáº«n lá»›p. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  trong quÃ¡ trÃ¬nh giáº£i tuáº§n tá»± hÃ³a dá»¯ liá»‡u byte, phÆ°Æ¡ng thá»©c nÃ y cÃ³ thá»ƒ thá»±c thi báº¥t ká»³ mÃ£ loáº¡i nÃ o, Ä‘iá»u nÃ y ráº¥t nguy hiá»ƒm. Vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng cáº§n thá»i gian giáº£i tuáº§n tá»± hÃ³a lÃ¢u, khÃ´ng cáº§n thá»±c thi báº¥t ká»³ mÃ£ nÃ o, cÅ©ng cÃ³ thá»ƒ táº¡o ra má»™t cuá»™c táº¥n cÃ´ng. Káº» táº¥n cÃ´ng cÃ³ thá»ƒ táº¡o ra má»™t chuá»—i Ä‘á»‘i tÆ°á»£ng láº·p láº¡i vÃ  sau Ä‘Ã³ chuyá»ƒn Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ Ä‘Æ°á»£c tuáº§n tá»± hÃ³a vÃ o chÆ°Æ¡ng trÃ¬nh Ä‘á»ƒ giáº£i tuáº§n tá»± hÃ³a, Ä‘iá»u nÃ y sáº½ dáº«n Ä‘áº¿n viá»‡c gá»i phÆ°Æ¡ng thá»©c <code>hashCode</code> nhiá»u láº§n, gÃ¢y ra lá»—i trÃ n ngÄƒn xáº¿p. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ tá»‘t Ä‘á»ƒ minh há»a Ä‘iá»u nÃ y.</li><li><strong>Dá»¯ liá»‡u tuáº§n tá»± hÃ³a quÃ¡ lá»›n</strong>: JDK Serialization sá»­ dá»¥ng <code>ObjectOutputStream</code> Ä‘á»ƒ chuyá»ƒn Ä‘á»•i Ä‘á»‘i tÆ°á»£ng thÃ nh mÃ£ nhá»‹ phÃ¢n, máº£ng byte Ä‘Æ°á»£c táº¡o ra ráº¥t lá»›n, áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t lÆ°u trá»¯ vÃ  truyá»n dá»¯ liá»‡u.</li><li><strong>Hiá»‡u suáº¥t tuáº§n tá»± hÃ³a kÃ©m</strong>: Tuáº§n tá»± hÃ³a cá»§a Java tá»‘n nhiá»u thá»i gian. Tá»‘c Ä‘á»™ tuáº§n tá»± hÃ³a cÅ©ng lÃ  má»™t chá»‰ sá»‘ quan trá»ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t tuáº§n tá»± hÃ³a. Náº¿u tá»‘c Ä‘á»™ tuáº§n tá»± hÃ³a cháº­m, nÃ³ sáº½ áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t giao tiáº¿p máº¡ng vÃ  lÃ m tÄƒng thá»i gian pháº£n há»“i cá»§a há»‡ thá»‘ng.</li><li><strong>Háº¡n cháº¿ láº­p trÃ¬nh tuáº§n tá»± hÃ³a</strong>: <ul><li>JDK Serialization <strong>yÃªu cáº§u triá»ƒn khai giao diá»‡n <code>Serializable</code></strong>.</li><li>JDK Serialization <strong>yÃªu cáº§u chÃº Ã½ Ä‘áº¿n <code>serialVersionUID</code></strong>.</li></ul></li></ul><h2 id="serialization-nhi-phan" tabindex="-1"><a class="header-anchor" href="#serialization-nhi-phan"><span>Serialization nhá»‹ phÃ¢n</span></a></h2><p>Pháº§n trÆ°á»›c Ä‘Ã£ chi tiáº¿t giá»›i thiá»‡u vá» cÃ¡ch thá»©c serialization cá»§a JDK, tuy nhiÃªn do hiá»‡u suáº¥t khÃ´ng cao vÃ  tá»“n táº¡i nhiá»u váº¥n Ä‘á» khÃ¡c, nÃªn trong ngÃ nh cÃ´ng nghiá»‡p Ä‘Ã£ cÃ³ ráº¥t nhiá»u thÆ° viá»‡n serialization nhá»‹ phÃ¢n xuáº¥t sáº¯c khÃ¡c.</p><h3 id="protobuf" tabindex="-1"><a class="header-anchor" href="#protobuf"><span>Protobuf</span></a></h3><p><a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener noreferrer">Protobuf</a> lÃ  má»™t chuáº©n dá»¯ liá»‡u Ä‘a ngÃ´n ngá»¯ Ä‘Æ°á»£c Google sá»­ dá»¥ng ná»™i bá»™ trong cÃ´ng ty. ÄÃ¢y lÃ  má»™t Ä‘á»‹nh dáº¡ng lÆ°u trá»¯ dá»¯ liá»‡u cáº¥u trÃºc nháº¹, hiá»‡u quáº£ vÃ  há»— trá»£ viá»‡c serialization cho cÃ¡c ngÃ´n ngá»¯ nhÆ° Java, Python, C++, Go,â€¦ Khi sá»­ dá»¥ng Protobuf, chÃºng ta cáº§n xÃ¡c Ä‘á»‹nh IDL (Interface description language), sau Ä‘Ã³ sá»­ dá»¥ng trÃ¬nh biÃªn dá»‹ch IDL cá»§a tá»«ng ngÃ´n ngá»¯ Ä‘á»ƒ táº¡o ra cÃ¡c lá»›p cÃ´ng cá»¥ serialization.</p><p>Æ¯u Ä‘iá»ƒm:</p><ul><li>Dung lÆ°á»£ng sau khi serialize so vá»›i JSON hay Hessian nhá» hÆ¡n ráº¥t nhiá»u</li><li>Tá»‘c Ä‘á»™ serialize vÃ  deserialize ráº¥t nhanh mÃ  khÃ´ng cáº§n thÃ´ng qua reflection Ä‘á»ƒ láº¥y kiá»ƒu</li><li>KhÃ´ng phá»¥ thuá»™c vÃ o ngÃ´n ngá»¯ hoáº·c platform (dá»±a trÃªn IDL), IDL cÃ³ thá»ƒ miÃªu táº£ Ã½ nghÄ©a má»™t cÃ¡ch rÃµ rÃ ng, do Ä‘Ã³ cÃ³ thá»ƒ giÃºp Ä‘áº£m báº£o khÃ´ng máº¥t kiá»ƒu giá»¯a cÃ¡c á»©ng dá»¥ng vÃ  khÃ´ng cáº§n pháº£i sá»­ dá»¥ng trÃ¬nh phÃ¢n tÃ­ch XML tÆ°Æ¡ng tá»±</li><li>Há»— trá»£ viá»‡c nÃ¢ng cáº¥p vÃ  tÆ°Æ¡ng thÃ­ch thÃ´ng Ä‘iá»‡p, cÃ³ thá»ƒ Ä‘áº£m báº£o tÆ°Æ¡ng thÃ­ch ngÆ°á»£c vá» sau</li><li>Há»— trá»£ Ä‘a ngÃ´n ngá»¯: Java, C++, Python, Go, â€¦</li></ul><p>NhÆ°á»£c Ä‘iá»ƒm:</p><ul><li>Protobuf khÃ¡ khÃ³ sá»­ dá»¥ng Ä‘á»‘i vá»›i cÃ¡c ngÃ´n ngá»¯ cÃ³ kháº£ nÄƒng reflection vÃ  linh hoáº¡t.</li></ul><h3 id="thrift" tabindex="-1"><a class="header-anchor" href="#thrift"><span>Thrift</span></a></h3><blockquote><p><a href="https://github.com/apache/thrift" target="_blank" rel="noopener noreferrer">Thrift</a> lÃ  má»™t dá»± Ã¡n mÃ£ nguá»“n má»Ÿ cá»§a Apache, lÃ  má»™t cÃ¡ch triá»ƒn khai RPC (Remote Procedure Call) point-to-point.</p></blockquote><p>NÃ³ cÃ³ cÃ¡c tÃ­nh nÄƒng sau:</p><ul><li>Há»— trá»£ nhiá»u ngÃ´n ngá»¯ (hiá»‡n táº¡i há»— trá»£ 28 ngÃ´n ngá»¯ nhÆ° C++, Go, Java, Php, Python, Ruby, vv).</li><li>Sá»­ dá»¥ng cÃ´ng cá»¥ trao Ä‘á»•i vÃ  lÆ°u trá»¯ dá»¯ liá»‡u lá»›n, cÃ³ lá»£i tháº¿ vá» hiá»‡u suáº¥t vÃ  kÃ­ch thÆ°á»›c so vá»›i JSON vÃ  XML trong viá»‡c truyá»n dá»¯ liá»‡u trong cÃ¡c há»‡ thá»‘ng lá»›n.</li><li>Há»— trá»£ ba phÆ°Æ¡ng phÃ¡p mÃ£ hÃ³a phá»• biáº¿n (mÃ£ hÃ³a nhá»‹ phÃ¢n chung, mÃ£ hÃ³a nhá»‹ phÃ¢n nÃ©n, mÃ£ hÃ³a nÃ©n trÆ°á»ng tÃ¹y chá»n).</li></ul><h3 id="hessian" tabindex="-1"><a class="header-anchor" href="#hessian"><span>Hessian</span></a></h3><p><a href="http://hessian.caucho.com/" target="_blank" rel="noopener noreferrer">Hessian</a> lÃ  má»™t framework serialization Ä‘a ngÃ´n ngá»¯, cÃ³ kiá»ƒu dá»¯ liá»‡u Ä‘á»™ng, nhá»‹ phÃ¢n vÃ  gá»n nháº¹. Giao thá»©c Hessian nhá» gá»n hÆ¡n JDK vÃ  JSON, Ä‘á»“ng thá»i hiá»‡u suáº¥t cá»§a nÃ³ hiá»‡u quáº£ hÆ¡n nhiá»u so vá»›i tuáº§n tá»± hÃ³a JDK vÃ  JSON, Ä‘á»“ng thá»i sá»‘ lÆ°á»£ng byte Ä‘Æ°á»£c táº¡o cÅ©ng nhá» hÆ¡n.</p><p>Framework RPC Dubbo há»— trá»£ Thrift vÃ  Hession.</p><p>NÃ³ cÃ³ cÃ¡c tÃ­nh nÄƒng sau:</p><ul><li>Há»— trá»£ nhiá»u ngÃ´n ngá»¯ khÃ¡c nhau: Java, Python, C++, C#, PHP, Ruby,â€¦</li><li>TÆ°Æ¡ng Ä‘á»‘i cháº­m so vá»›i cÃ¡c thÆ° viá»‡n serialization nhá»‹ phÃ¢n khÃ¡c.</li></ul><p>Hessian cÅ©ng tá»“n táº¡i má»™t sá»‘ váº¥n Ä‘á». PhiÃªn báº£n chÃ­nh thá»©c khÃ´ng há»— trá»£ loáº¡i cá»§a má»™t sá»‘ Ä‘á»‘i tÆ°á»£ng thÃ´ng dá»¥ng trong Java:</p><ul><li>CÃ¡c kiá»ƒu Linked nhÆ° LinkedHashMap, LinkedHashSet, nhÆ°ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­a chá»¯a báº±ng cÃ¡ch má»Ÿ rá»™ng lá»›p CollectionDeserializer.</li><li>Lá»›p Locale, cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­a chá»¯a báº±ng cÃ¡ch má»Ÿ rá»™ng lá»›p ContextSerializerFactory.</li><li>Khi giáº£i nÃ©n Byte/Short, chÃºng sáº½ trá»Ÿ thÃ nh Integer.</li></ul><h3 id="kryo" tabindex="-1"><a class="header-anchor" href="#kryo"><span>Kryo</span></a></h3><blockquote><p><a href="https://github.com/EsotericSoftware/kryo" target="_blank" rel="noopener noreferrer">Kryo</a> lÃ  má»™t framework serialization nhanh chÃ³ng vÃ  hiá»‡u quáº£ cho Java. Kryo cÅ©ng cÃ³ thá»ƒ thá»±c hiá»‡n sao chÃ©p sÃ¢u vÃ  sao chÃ©p nÃ´ng tá»± Ä‘á»™ng. Äiá»u nÃ y lÃ  viá»‡c sao chÃ©p trá»±c tiáº¿p tá»« object sang object, khÃ´ng pháº£i tá»« object sang byte.</p></blockquote><p>NÃ³ cÃ³ cÃ¡c tÃ­nh nÄƒng sau:</p><ul><li>Tá»‘c Ä‘á»™ cao, kÃ­ch thÆ°á»›c serialization nhá»</li><li>Chá»‰ há»— trá»£ Java, khÃ´ng há»— trá»£ ngÃ´n ngá»¯ khÃ¡c</li></ul><h3 id="fst" tabindex="-1"><a class="header-anchor" href="#fst"><span>FST</span></a></h3><blockquote><p><a href="https://github.com/RuedigerMoeller/fast-serialization" target="_blank" rel="noopener noreferrer">FST</a> lÃ  má»™t thÆ° viá»‡n serialization nhá»‹ phÃ¢n Ä‘Æ°á»£c triá»ƒn khai báº±ng Java.</p></blockquote><p>NÃ³ cÃ³ cÃ¡c tÃ­nh nÄƒng sau:</p><ul><li>Gáº§n nhÆ° tÆ°Æ¡ng thÃ­ch 100% vá»›i JDK serialization vÃ  nhanh gáº¥p 10 láº§n so vá»›i cÃ¡ch serialization ban Ä‘áº§u cá»§a JDK.</li><li>Tá»« phiÃªn báº£n 2.17 trá»Ÿ Ä‘i tÆ°Æ¡ng thÃ­ch vá»›i Android.</li><li>(TÃ¹y chá»n) Tá»« phiÃªn báº£n 2.29 trá»Ÿ Ä‘i há»— trá»£ mÃ£ hÃ³a/giáº£i mÃ£ báº¥t ká»³ biá»ƒu Ä‘á»“ Ä‘á»‘i tÆ°á»£ng serializable thÃ nh JSON (bao gá»“m cáº£ reference sharing).</li></ul><h2 id="json-serialization" tabindex="-1"><a class="header-anchor" href="#json-serialization"><span>JSON Serialization</span></a></h2><p>NgoÃ i cÃ¡ch serialization nhá»‹ phÃ¢n, báº¡n cÅ©ng cÃ³ thá»ƒ chá»n cÃ¡ch serialization JSON. Hiá»‡u suáº¥t cá»§a nÃ³ kÃ©m hÆ¡n so vá»›i serialization nhá»‹ phÃ¢n, nhÆ°ng Ä‘á»™ Ä‘á»c Ä‘Æ°á»£c ráº¥t tá»‘t vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i trong lÄ©nh vá»±c Web.</p><h3 id="json-la-gi" tabindex="-1"><a class="header-anchor" href="#json-la-gi"><span>JSON lÃ  gÃ¬?</span></a></h3><p>JSON báº¯t nguá»“n tá»« má»™t pháº§n con cá»§a <a href="http://javascript.crockford.com/" target="_blank" rel="noopener noreferrer">tiÃªu chuáº©n ngÃ´n ngá»¯ JS ECMA262</a> nÄƒm 1999 (má»¥c 15.12 mÃ´ táº£ Ä‘á»‹nh dáº¡ng vÃ  phÃ¢n tÃ­ch cÃº phÃ¡p), sau Ä‘Ã³ Ä‘Æ°á»£c xuáº¥t báº£n vÃ o nÄƒm 2003 dÆ°á»›i dáº¡ng má»™t Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u ECMA404 (sá»‘ thá»© tá»± ká»³ láº¡ cÃ³ vÃ i sá»‘ khÃ´ng?). NÄƒm 2006, nÃ³ Ä‘Æ°á»£c xuáº¥t báº£n dÆ°á»›i dáº¡ngÂ <a href="http://www.ietf.org/rfc/rfc4627.txt" target="_blank" rel="noopener noreferrer">rfc4627</a>, tÃ i liá»‡u nÃ y cÃ³ 18 trang, loáº¡i bá» cÃ¡c pháº§n khÃ´ng cáº§n thiáº¿t vÃ  chá»‰ cÃ²n láº¡i khoáº£ng chá»«ng 10 trang.</p><p>JSON Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ  cÃ³ hÆ¡n 100 thÆ° viá»‡n JSON cho hÆ¡n 100 ngÃ´n ngá»¯ khÃ¡c nhau:Â <a href="http://www.json.org/" target="_blank" rel="noopener noreferrer">json.org</a>.</p><p>Báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm vá» JSON táº¡i Ä‘Ã¢y,Â <a href="https://github.com/burningtree/awesome-json" target="_blank" rel="noopener noreferrer">Táº¥t cáº£ vá» JSON</a>.</p><h3 id="tieu-chuan-json" tabindex="-1"><a class="header-anchor" href="#tieu-chuan-json"><span>TiÃªu chuáº©n JSON</span></a></h3><p>ÄÃ¢y cÃ³ láº½ lÃ  má»™t trong nhá»¯ng tiÃªu chuáº©n Ä‘Æ¡n giáº£n nháº¥t:</p><ul><li>Chá»‰ cÃ³ hai cáº¥u trÃºc: táº­p há»£p cÃ¡c cáº·p khÃ³a-giÃ¡ trá»‹ trong Ä‘á»‘i tÆ°á»£ng vÃ  máº£ng, Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c Ä‘áº¡i diá»‡n báº±ngÂ <code>{}</code>, bÃªn trong lÃ Â <code>&quot;key&quot;:&quot;value&quot;</code>, máº£ng Ä‘Æ°á»£c Ä‘áº¡i diá»‡n báº±ngÂ <code>[]</code>, cÃ¡c giÃ¡ trá»‹ khÃ¡c nhau Ä‘Æ°á»£c phÃ¢n tÃ¡ch báº±ng dáº¥u pháº©y.</li><li>CÃ³ 7 kiá»ƒu giÃ¡ trá»‹ cÆ¡ báº£n:Â <code>false</code>Â /Â <code>null</code>Â /Â <code>true</code>Â /Â <code>object</code>Â /Â <code>array</code>Â /Â <code>number</code>Â /Â <code>string</code>.</li><li>NgoÃ i ra, nÃ³ cho phÃ©p lá»“ng ghÃ©p cÃ¡c cáº¥u trÃºc Ä‘á»ƒ biá»ƒu thá»‹ dá»¯ liá»‡u phá»©c táº¡p.</li><li>DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ Ä‘Æ¡n giáº£n:</li></ul><div class="language-json" data-ext="json" data-title="json"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  &quot;Image&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    &quot;Width&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">800</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    &quot;Height&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">600</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    &quot;Title&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;View from 15th Floor&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    &quot;Thumbnail&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      &quot;Url&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;http://www.example.com/image/481989943&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      &quot;Height&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">125</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      &quot;Width&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;100&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    &quot;IDs&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="color:#D19A66;--shiki-dark:#D19A66;">116</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">943</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">234</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">38793</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><blockquote><p>Äá»c thÃªm:</p><ul><li><a href="http://www.json.org/json-vi.html" target="_blank" rel="noopener noreferrer">http://www.json.org/json-vi.html</a>Â - Giá»›i thiá»‡u vá» Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u JSON.</li><li><a href="http://tools.ietf.org/html/rfc4627" target="_blank" rel="noopener noreferrer">TÃ i liá»‡u RFC vá» JSON</a></li></ul></blockquote><h3 id="uu-Ä‘iem-va-nhuoc-Ä‘iem-cua-json" tabindex="-1"><a class="header-anchor" href="#uu-Ä‘iem-va-nhuoc-Ä‘iem-cua-json"><span>Æ¯u Ä‘iá»ƒm vÃ  nhÆ°á»£c Ä‘iá»ƒm cá»§a JSON</span></a></h3><p>Æ¯u Ä‘iá»ƒm cá»§a JSON:</p><ul><li>Dá»±a trÃªn vÄƒn báº£n thuáº§n tÃºy, nÃªn ráº¥t dá»… Ä‘á»c cho con ngÆ°á»i.</li><li>Quy chuáº©n Ä‘Æ¡n giáº£n, dá»… xá»­ lÃ½, sáºµn cÃ³ Ä‘á»ƒ sá»­ dá»¥ng. Äáº·c biá»‡t lÃ  trong cÃ¡c ECMAScript Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p sáºµn vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng trá»±c tiáº¿p nhÆ° má»™t Ä‘á»‘i tÆ°á»£ng.</li><li>KhÃ´ng phá»¥ thuá»™c vÃ o ná»n táº£ng vÃ¬ kiá»ƒu vÃ  cáº¥u trÃºc khÃ´ng phá»¥ thuá»™c vÃ o ná»n táº£ng. NgoÃ i ra, viá»‡c xá»­ lÃ½ cÅ©ng ráº¥t dá»… dÃ ng, cÃ³ thá»ƒ triá»ƒn khai cÃ¡c thÆ° viá»‡n xá»­ lÃ½ khÃ¡c nhau cho cÃ¡c ngÃ´n ngá»¯ khÃ¡c nhau. CÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m giao thá»©c Ä‘á»‹nh dáº¡ng truyá»n thÃ´ng giá»¯a nhiá»u há»‡ thá»‘ng khÃ´ng tÆ°Æ¡ng tá»± nhau, Ä‘áº·c biá»‡t lÃ  trong HTTP/REST.</li></ul><p>NhÆ°á»£c Ä‘iá»ƒm cá»§a JSON:</p><ul><li>Hiá»‡u suáº¥t chá»‰ á»Ÿ má»©c trung bÃ¬nh. Dá»¯ liá»‡u biá»ƒu diá»…n báº±ng vÄƒn báº£n thÃ´ng thÆ°á»ng thÃ´ng generally so vá»›i sá»‘ liá»‡u hai chÃ­nh phá»§ binary data , do Ä‘Ã³ áº£nh hÆ°á»Ÿng hiá»‡u suáº¥t khi truyá»n vÃ  xá»­ lÃ½.</li><li>Thiáº¿u schema (báº£o máº­t), so vá»›i XML - má»™t Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u vÄƒn báº£n khÃ¡c, JSON kÃ©m hÆ¡n ráº¥t nhiá»u vá» tÃ­nh chÃ­nh xÃ¡c vÃ  phong phÃº cá»§a kiá»ƒu. XML cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh theo XSD hoáº·c DTD Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘á»‹nh dáº¡ng phá»©c táº¡p vÃ  kiá»ƒm tra xem tÃ i liá»‡u XML cÃ³ tuÃ¢n thá»§ yÃªu cáº§u Ä‘á»‹nh dáº¡ng hay khÃ´ng. Tháº­m chÃ­, báº¡n cÃ²n cÃ³ thá»ƒ táº¡o mÃ£ hoáº¡t Ä‘á»™ng cho ngÃ´n ngá»¯ cá»¥ thá»ƒ dá»±a trÃªn XSD, vÃ­ dá»¥ nhÆ° apache xmlbeans. VÃ  nhá»¯ng cÃ´ng cá»¥ nÃ y khi káº¿t há»£p láº¡i sáº½ táº¡o thÃ nh má»™t há»‡ sinh thÃ¡i lá»›n, vÃ­ dá»¥: SOAP vÃ  WSDL Ä‘Æ°á»£c triá»ƒn khai trÃªn XML thÃ´ng qua chuá»—i quy Æ°á»›c ws-*. Tuy nhiÃªn, ta cÅ©ng cÃ³ thá»ƒ nháº­n ra ráº±ng JSON trong trÆ°á»ng há»£p thiáº¿u quy Æ°á»›c Ä‘Ã£ linh hoáº¡t hÆ¡n má»™t chÃºt, Ä‘áº·c biá»‡t lÃ  gáº§n Ä‘Ã¢y REST Ä‘Ã£ phÃ¡t triá»ƒn nhanh chÃ³ng vÃ  Ä‘Ã£ xuáº¥t hiá»‡n má»™t sá»‘ tiáº¿n bá»™ liÃªn quan schema (vÃ­ dá»¥: <a href="https://spacetelescope.github.io/understanding-json-schema/index.html" target="_blank" rel="noopener noreferrer">Hiá»ƒu JSON Schema</a>, <a href="http://usingjsonschema.com/downloads/" target="_blank" rel="noopener noreferrer">Sá»­ dá»¥ng JSON Schema</a>, <a href="http://azimi.me/json-schema-view/demo/demo.html" target="_blank" rel="noopener noreferrer">Kiá»ƒm tra schema trá»±c tuyáº¿n</a>), cÅ©ng nhÆ° WADL tÆ°Æ¡ng tá»± vá»›i WSDL (<a href="https://www.w3.org/Submission/wadl/" target="_blank" rel="noopener noreferrer">https://www.w3.org/Submission/wadl/</a>) Ä‘Ã£ xuáº¥t hiá»‡n.</li></ul><h3 id="thu-vien-json" tabindex="-1"><a class="header-anchor" href="#thu-vien-json"><span>ThÆ° viá»‡n JSON</span></a></h3><p>CÃ³ nhiá»u thÆ° viá»‡n JSON phá»• biáº¿n trong Java:</p><ul><li><a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener noreferrer">Fastjson</a>Â - ThÆ° viá»‡n JSON Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Alibaba, cÃ³ hiá»‡u suáº¥t ráº¥t tá»‘t.</li><li><a href="http://wiki.fasterxml.com/JacksonHome" target="_blank" rel="noopener noreferrer">Jackson</a>Â - Cá»™ng Ä‘á»“ng ráº¥t tÃ­ch cá»±c vÃ  cáº­p nháº­t nhanh. ThÆ° viá»‡n JSON máº·c Ä‘á»‹nh cá»§a Spring Framework.</li><li><a href="https://github.com/google/gson" target="_blank" rel="noopener noreferrer">Gson</a>Â - ThÆ° viá»‡n JSON Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Google, lÃ  thÆ° viá»‡n JSON chá»©c nÄƒng Ä‘áº§y Ä‘á»§ nháº¥t.</li></ul><p>Vá» hiá»‡u suáº¥t, trong háº§u háº¿t cÃ¡c trÆ°á»ng há»£p: Fastjson &gt; Jackson &gt; Gson.</p><h3 id="huong-dan-ma-hoa-json" tabindex="-1"><a class="header-anchor" href="#huong-dan-ma-hoa-json"><span>HÆ°á»›ng dáº«n mÃ£ hÃ³a JSON</span></a></h3><blockquote><p>TuÃ¢n thá»§ thiáº¿t káº¿ vÃ  phong cÃ¡ch mÃ£ hÃ³a tá»‘t cÃ³ thá»ƒ giáº£i quyáº¿t trÆ°á»›c 80% váº¥n Ä‘á», cÃ¡ nhÃ¢n khuyáº¿n nghá»‹ tuÃ¢n thá»§ <a href="https://google.github.io/styleguide/jsoncstyleguide.xml" target="_blank" rel="noopener noreferrer">Google JSON Style Guide</a>.</p></blockquote><p>DÆ°á»›i Ä‘Ã¢y lÃ  má»™t sá»‘ Ä‘iá»ƒm ná»•i báº­t:</p><ul><li>TÃªn thuá»™c tÃ­nh vÃ  giÃ¡ trá»‹ Ä‘á»u Ä‘Æ°á»£c bao bá»c báº±ng dáº¥u ngoáº·c kÃ©p, khÃ´ng Ä‘áº·t chÃº thÃ­ch vÃ o bÃªn trong Ä‘á»‘i tÆ°á»£ng, dá»¯ liá»‡u Ä‘á»‘i tÆ°á»£ng pháº£i Ä‘Æ¡n giáº£n.</li><li>KhÃ´ng nhÃ³m cÃ¡c Ä‘á»‘i tÆ°á»£ng thÃ nh cÃ¡c nhÃ³m cáº¥u trÃºc, khuyáº¿n nghá»‹ sá»­ dá»¥ng cÃ¡ch táº¡o chuá»—i nhá»‹ phÃ¢n pháº³ng, khÃ´ng nÃªn quÃ¡ phá»©c táº¡p.</li><li>Äáº·t tÃªn cÃ³ Ã½ nghÄ©a, vÃ­ dá»¥: sá»‘ Ã­t vÃ  sá»‘ nhiá»u.</li><li>Sá»­ dá»¥ng kiá»ƒu ghi táº¯t camelCase, tuÃ¢n theo quy táº¯c Bean.</li><li>Sá»­ dá»¥ng phiÃªn báº£n Ä‘á»ƒ kiá»ƒm soÃ¡t xung Ä‘á»™t.</li><li>Äá»‘i vá»›i cÃ¡c thuá»™c tÃ­nh tÃ¹y chá»n hoáº·c chá»©a giÃ¡ trá»‹ rá»—ng hoáº·c null, xem xÃ©t loáº¡i bá» thuá»™c tÃ­nh Ä‘Ã³ khá»i JSON, trá»« khi nÃ³ cÃ³ Ã½ nghÄ©a máº¡nh máº½.</li><li>Khi mÃ£ hÃ³a kiá»ƒu enum, sá»­ dá»¥ng tÃªn thay vÃ¬ giÃ¡ trá»‹.</li><li>Xá»­ lÃ½ ngÃ y thÃ¡ng theo Ä‘á»‹nh dáº¡ng chuáº©n.</li><li>Thiáº¿t káº¿ tham sá»‘ phÃ¢n trang chung.</li><li>Thiáº¿t káº¿ xá»­ lÃ½ ngoáº¡i lá»‡ tá»‘t.</li></ul><p><a href="http://jsonapi.org.cn/format/" target="_blank" rel="noopener noreferrer">JSON API</a>Â vÃ  Google JSON Style Guide cÃ³ nhiá»u Ä‘iá»ƒm tÆ°Æ¡ng Ä‘á»“ng.</p><p><a href="http://jsonapi.org.cn/format/" target="_blank" rel="noopener noreferrer">JSON API</a>Â lÃ  má»™t tiÃªu chuáº©n trao Ä‘á»•i dá»¯ liá»‡u, Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡ch khÃ¡ch hÃ ng cÃ³ thá»ƒ truy xuáº¥t vÃ  sá»­a Ä‘á»•i tÃ i nguyÃªn, cÅ©ng nhÆ° cÃ¡ch mÃ¡y chá»§ pháº£n há»“i cÃ¡c yÃªu cáº§u tÆ°Æ¡ng á»©ng.</p><p>JSON API Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ giáº£m sá»‘ lÆ°á»£ng yÃªu cáº§u vÃ  lÆ°á»£ng dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n qua máº¡ng. Trong khi Ä‘áº£m báº£o hiá»‡u suáº¥t, nÃ³ khÃ´ng lÃ m máº¥t tÃ­nh Ä‘á»c Ä‘Æ°á»£c, tÃ­nh linh hoáº¡t vÃ  tÃ­nh khÃ¡m phÃ¡ Ä‘Æ°á»£c.</p><h2 id="lua-chon-cong-nghe-serialization" tabindex="-1"><a class="header-anchor" href="#lua-chon-cong-nghe-serialization"><span>Lá»±a chá»n cÃ´ng nghá»‡ serialization</span></a></h2><p>TrÃªn thá»‹ trÆ°á»ng cÃ³ ráº¥t nhiá»u cÃ´ng nghá»‡ serialization khÃ¡c nhau, váº­y lÃ m tháº¿ nÃ o Ä‘á»ƒ chá»n cÃ´ng nghá»‡ phÃ¹ há»£p cho á»©ng dá»¥ng cá»§a chÃºng ta?</p><p>Khi lá»±a chá»n cÃ´ng nghá»‡ serialization, chÃºng ta cáº§n xem xÃ©t cÃ¡c yáº¿u tá»‘ sau theo thá»© tá»± quan trá»ng tá»« cao Ä‘áº¿n tháº¥p:</p><ul><li><strong>Báº£o máº­t</strong>: CÃ´ng nghá»‡ cÃ³ tá»“n táº¡i lá»— há»•ng nÃ o khÃ´ng. Náº¿u cÃ³ lá»— há»•ng, cÃ³ kháº£ nÄƒng bá»‹ táº¥n cÃ´ng.</li><li><strong>TÃ­nh tÆ°Æ¡ng thÃ­ch</strong>: CÃ´ng nghá»‡ cÃ³ tÆ°Æ¡ng thÃ­ch tá»‘t sau khi nÃ¢ng cáº¥p phiÃªn báº£n khÃ´ng, cÃ³ há»— trá»£ nhiá»u loáº¡i Ä‘á»‘i tÆ°á»£ng, cÃ³ kháº£ nÄƒng tÆ°Æ¡ng thÃ­ch giá»¯a cÃ¡c ná»n táº£ng vÃ  ngÃ´n ngá»¯ khÃ´ng. Äá»™ á»•n Ä‘á»‹nh vÃ  Ä‘Ã¡ng tin cáº­y cá»§a viá»‡c gá»i dá»‹ch vá»¥, quan trá»ng hÆ¡n hiá»‡u suáº¥t cá»§a dá»‹ch vá»¥.</li><li><strong>Hiá»‡u suáº¥t</strong><ul><li><strong>Thá»i gian</strong>: Thá»i gian Ä‘á»ƒ thá»±c hiá»‡n serialization vÃ  deserialization cÃ ng Ã­t cÃ ng tá»‘t.</li><li><strong>Dung lÆ°á»£ng</strong>: Dá»¯ liá»‡u sau khi serialization cÃ ng nhá» cÃ ng tá»‘t, giÃºp tÄƒng hiá»‡u suáº¥t truyá»n dá»¯ liá»‡u qua máº¡ng.</li></ul></li><li><strong>Dá»… sá»­ dá»¥ng</strong>: ThÆ° viá»‡n cÃ³ nháº¹ nhÃ ng, API cÃ³ dá»… hiá»ƒu vÃ  sá»­ dá»¥ng.</li></ul><p>Dá»±a trÃªn cÃ¡c yáº¿u tá»‘ trÃªn, Ä‘á» xuáº¥t lá»±a chá»n cÃ´ng nghá»‡ serialization nhÆ° sau:</p><ul><li>JDK Serialization: Hiá»‡u suáº¥t kÃ©m vÃ  cÃ³ nhiá»u háº¡n cháº¿ sá»­ dá»¥ng, khÃ´ng khuyáº¿n nghá»‹ sá»­ dá»¥ng.</li><li><a href="https://github.com/apache/thrift" target="_blank" rel="noopener noreferrer">Thrift</a>, <a href="https://github.com/protocolbuffers/protobuf" target="_blank" rel="noopener noreferrer">Protobuf</a>: PhÃ¹ há»£p cho <strong>nhá»¯ng á»©ng dá»¥ng cáº§n hiá»‡u suáº¥t cao vÃ  khÃ´ng yÃªu cáº§u tráº£i nghiá»‡m phÃ¡t triá»ƒn cao</strong>.</li><li><a href="http://hessian.caucho.com/doc/hessian-overview.xtp" target="_blank" rel="noopener noreferrer">Hessian</a>: PhÃ¹ há»£p cho <strong>nhá»¯ng á»©ng dá»¥ng yÃªu cáº§u tráº£i nghiá»‡m phÃ¡t triá»ƒn cao vÃ  hiá»‡u suáº¥t tá»‘t</strong>.</li><li><a href="https://github.com/FasterXML/jackson" target="_blank" rel="noopener noreferrer">Jackson</a>, <a href="https://github.com/google/gson" target="_blank" rel="noopener noreferrer">Gson</a>, <a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener noreferrer">Fastjson</a>: PhÃ¹ há»£p cho viá»‡c yÃªu cáº§u <strong>dá»¯ liá»‡u sau khi serialize cÃ³ tÃ­nh Ä‘á»c tá»‘t</strong> (chuyá»ƒn thÃ nh json hoáº·c xml).</li></ul>`,134),e=[t];function r(o,c){return n(),a("div",null,e)}const h=s(l,[["render",r],["__file","Java Serialization.html.vue"]]),k=JSON.parse('{"path":"/programming/java/IO/Java%20Serialization.html","title":"Java Serialization","lang":"en-US","frontmatter":{"title":"Java Serialization","tags":["java","javase","io"],"categories":["java","javase"],"date created":"2023-07-15T00:00:00.000Z","date modified":"2023-07-15T00:00:00.000Z","description":"Hiá»ƒu sÃ¢u vá» Serialization trong Java Keyword: Serializable, serialVersionUID, transient, Externalizable, writeObject, readObject Giá»›i thiá»‡u vá» Serialization Trong quÃ¡ trÃ¬nh truy...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/programming/java/IO/Java%20Serialization.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Java Serialization"}],["meta",{"property":"og:description","content":"Hiá»ƒu sÃ¢u vá» Serialization trong Java Keyword: Serializable, serialVersionUID, transient, Externalizable, writeObject, readObject Giá»›i thiá»‡u vá» Serialization Trong quÃ¡ trÃ¬nh truy..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20230715135332.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"javase"}],["meta",{"property":"article:tag","content":"io"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Java Serialization\\",\\"image\\":[\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20230715135332.png\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Giá»›i thiá»‡u vá» Serialization","slug":"gioi-thieu-ve-serialization","link":"#gioi-thieu-ve-serialization","children":[]},{"level":2,"title":"JDK Serialization","slug":"jdk-serialization","link":"#jdk-serialization","children":[{"level":3,"title":"ObjectInputStream vÃ  ObjectOutputStream","slug":"objectinputstream-va-objectoutputstream","link":"#objectinputstream-va-objectoutputstream","children":[]},{"level":3,"title":"Giao diá»‡n Serializable","slug":"giao-dien-serializable","link":"#giao-dien-serializable","children":[]},{"level":3,"title":"Giao diá»‡n Externalizable","slug":"giao-dien-externalizable","link":"#giao-dien-externalizable","children":[]},{"level":3,"title":"PhÆ°Æ¡ng thá»©c readResolve()","slug":"phuong-thuc-readresolve","link":"#phuong-thuc-readresolve","children":[]},{"level":3,"title":"Váº¥n Ä‘á» vá»›i JDK Serialization","slug":"van-Ä‘e-voi-jdk-serialization","link":"#van-Ä‘e-voi-jdk-serialization","children":[]}]},{"level":2,"title":"Serialization nhá»‹ phÃ¢n","slug":"serialization-nhi-phan","link":"#serialization-nhi-phan","children":[{"level":3,"title":"Protobuf","slug":"protobuf","link":"#protobuf","children":[]},{"level":3,"title":"Thrift","slug":"thrift","link":"#thrift","children":[]},{"level":3,"title":"Hessian","slug":"hessian","link":"#hessian","children":[]},{"level":3,"title":"Kryo","slug":"kryo","link":"#kryo","children":[]},{"level":3,"title":"FST","slug":"fst","link":"#fst","children":[]}]},{"level":2,"title":"JSON Serialization","slug":"json-serialization","link":"#json-serialization","children":[{"level":3,"title":"JSON lÃ  gÃ¬?","slug":"json-la-gi","link":"#json-la-gi","children":[]},{"level":3,"title":"TiÃªu chuáº©n JSON","slug":"tieu-chuan-json","link":"#tieu-chuan-json","children":[]},{"level":3,"title":"Æ¯u Ä‘iá»ƒm vÃ  nhÆ°á»£c Ä‘iá»ƒm cá»§a JSON","slug":"uu-Ä‘iem-va-nhuoc-Ä‘iem-cua-json","link":"#uu-Ä‘iem-va-nhuoc-Ä‘iem-cua-json","children":[]},{"level":3,"title":"ThÆ° viá»‡n JSON","slug":"thu-vien-json","link":"#thu-vien-json","children":[]},{"level":3,"title":"HÆ°á»›ng dáº«n mÃ£ hÃ³a JSON","slug":"huong-dan-ma-hoa-json","link":"#huong-dan-ma-hoa-json","children":[]}]},{"level":2,"title":"Lá»±a chá»n cÃ´ng nghá»‡ serialization","slug":"lua-chon-cong-nghe-serialization","link":"#lua-chon-cong-nghe-serialization","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":22.99,"words":6897},"filePathRelative":"programming/java/IO/Java Serialization.md","localizedDate":"June 28, 2024","excerpt":"\\n<blockquote>\\n<p><strong>Keyword</strong>:&nbsp;<code>Serializable</code>,&nbsp;<code>serialVersionUID</code>,&nbsp;<code>transient</code>,&nbsp;<code>Externalizable</code>,&nbsp;<code>writeObject</code>,&nbsp;<code>readObject</code></p>\\n</blockquote>\\n<h2>Giá»›i thiá»‡u vá» Serialization</h2>\\n<p>Trong quÃ¡ trÃ¬nh truyá»n thÃ´ng qua máº¡ng, dá»¯ liá»‡u pháº£i Ä‘Æ°á»£c chuyá»ƒn Ä‘á»•i thÃ nh dáº¡ng nhá»‹ phÃ¢n. Tuy nhiÃªn, cÃ¡c tham sá»‘ Ä‘áº§u vÃ o vÃ  Ä‘áº§u ra cá»§a cÃ¡c yÃªu cáº§u tá»« phÃ­a gá»i lÃ  cÃ¡c Ä‘á»‘i tÆ°á»£ng. Äá»‘i tÆ°á»£ng khÃ´ng thá»ƒ truyá»n trá»±c tiáº¿p qua máº¡ng, vÃ¬ váº­y cáº§n chuyá»ƒn Ä‘á»•i nÃ³ thÃ nh dáº¡ng nhá»‹ phÃ¢n cÃ³ thá»ƒ truyá»n Ä‘Æ°á»£c vÃ  thuáº­t toÃ¡n chuyá»ƒn Ä‘á»•i pháº£i lÃ  Ä‘áº£o ngÆ°á»£c Ä‘Æ°á»£c.</p>","autoDesc":true}');export{h as comp,k as data};
