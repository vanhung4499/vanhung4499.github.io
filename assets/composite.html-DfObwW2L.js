import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,c as l,d as e,e as s,o as r}from"./app-C-_dXKvP.js";const o={},p=s('<h1 id="composite-pattern-practice-phan-loai-khan-gia-khac-nhau-đe-phat-phieu-qua-tang-xay-dung-decision-tree" tabindex="-1"><a class="header-anchor" href="#composite-pattern-practice-phan-loai-khan-gia-khac-nhau-đe-phat-phieu-qua-tang-xay-dung-decision-tree"><span>Composite Pattern Practice: Phân loại khán giả khác nhau để phát phiếu quà tặng, xây dựng decision tree</span></a></h1><h2 id="gioi-thieu" tabindex="-1"><a class="header-anchor" href="#gioi-thieu"><span>Giới thiệu</span></a></h2><p>A--&gt;|text|B</p><p><strong>Nhỏ mới phải lựa chọn, lớn thì chọn tất</strong></p><p>Vài năm trước, mỗi khi trên các diễn đàn, ai đó nên học ngôn ngữ lập trình nào, ngôn ngữ nào tốt nhất. Các thread này luôn sôi nổi, có người ủng hộ PHP, có người thích Java, cũng có C++ và C#. Nhưng trong vài năm gần đây, dường như mọi người không thực sự tranh luận &quot;chém gió&quot; nữa, hầu hết thời gian đều là đùa cợt. Trong khi đó, trong phát triển Internet nói chung, nhiều khi là một số ngôn ngữ lập trình được sử dụng chung, cùng xây dựng một hệ sinh thái toàn diện. Cách mà mọi người chọn cũng nghiêng về việc chọn kiến trúc phù hợp cho từng lĩnh vực, thay vì mù quáng theo đuổi một ngôn ngữ nào đó. Điều này có thể đưa ra một số gợi ý cho những người mới học lập trình, không nên tự ái rằng một ngôn ngữ nào đó tốt hơn, một ngôn ngữ nào đó không tốt hơn, chỉ cần chọn ngôn ngữ phù hợp với từng tình huống. Và bạn có thể quyết định ngôn ngữ nào để học dựa trên nhu cầu tuyển dụng và mức lương trên các trang web tuyển dụng.</p><p><strong>Lập trình không phải là việc thể hiện kỹ năng</strong></p><p>Luôn có một số người thích sử dụng một số tính năng mới trong dự án phát triển tổng thể, thử nghiệm kiến thức mới của họ. Không thể nói rằng điều này là không tốt, thậm chí có thể nói đây là một phần của những người rất đam mê học hỏi, thích sáng tạo, thích thực hành. Nhưng ngoài việc sử dụng các tính năng mới, việc cân nhắc về mặt toàn bộ sự mở rộng, dễ đọc, tính bảo trì, dễ mở rộng và các khía cạnh khác cũng cần được xem xét. Giống như việc bạn thuê một nhóm thợ trang trí, có một công nhân thợ nhỏ thích thực hiện các hoạt động trang trí nghệ thuật, lắp đặt một chiếc bồn cầu 🚿 dưới vòi sen 🚽 trong nhà của bạn.</p><p><strong>Ngay cả khi viết CRUD cũng nên có mẫu thiết kế</strong></p><p>Thường thì nhu cầu lớn nhất được xây dựng thông qua việc thêm, sửa, xóa và truy vấn, hôm nay thêm một yêu cầu <code>if</code>, ngày mai thêm một nội dung <code>else</code> để mở rộng. Dần dần, nhu cầu ngày càng lớn, chi phí mở rộng và bảo trì cũng tăng lên. Thường thì đa số phát triển không có tư duy sản phẩm và không hướng đến nhu cầu kinh doanh tổng thể, luôn nghĩ rằng viết code tốt là hoàn thành chức năng. Nhưng việc triển khai không cân nhắc về tính mở rộng của việc này, rất khó để làm cho các yêu cầu sau này có thể được phát triển nhanh chóng, dần dần rơi vào vòng lặp tiêu cực, mỗi ngày đều có bug cần phải sửa.</p><h2 id="moi-truong-phat-trien" tabindex="-1"><a class="header-anchor" href="#moi-truong-phat-trien"><span>Môi trường phát triển</span></a></h2><ol><li>JDK 1.8</li><li>Idea + Maven</li><li>Code: <a href="https://github.com/vanhung4499/practical-java-design" target="_blank" rel="noopener noreferrer">vanhung4499/practical-java-design</a></li></ol><table><thead><tr><th>Dự án</th><th>Mô tả</th></tr></thead><tbody><tr><td>demo-design-8-01</td><td>T Triển khai yêu cầu nghiệp vụ một cách trực tiếp</td></tr><tr><td>demo-design-8-02</td><td>Tối ưu hóa và tái cấu trúc code thông qua thiết kế mẫu, tạo ra một so sánh để học hỏi</td></tr></tbody></table><h2 id="gioi-thieu-ve-composite-pattern" tabindex="-1"><a class="header-anchor" href="#gioi-thieu-ve-composite-pattern"><span>Giới thiệu về Composite Pattern</span></a></h2><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240328114627.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>Từ hình trên, bạn có thể thấy đây giống như một loại đinh vít 🔩 và ốc vít, tổ chức thành một cây cấu trúc thông qua một chuỗi liên kết. Và cách thiết kế này, bằng cách tổ hợp các đối tượng tương tự (<em>cũng có thể gọi là phương thức</em>) thành một nhóm đối tượng cây cấu trúc có thể được gọi là Composite Pattern.</p><p>Cách thiết kế này cho phép bạn tự do kết hợp các nút dịch vụ của mình để cung cấp dịch vụ bên ngoài, ví dụ bạn có ba chức năng kiểm tra nguyên tử (<code>A: CMND</code>, <code>B: Thẻ ngân hàng</code>, <code>C: Số điện thoại</code>) và cung cấp cho bên ngoài. Một số bên gọi có thể sử dụng kết hợp AB, một số có thể sử dụng kết hợp CBA, và có thể có một số chỉ sử dụng một trong ba. Lúc này, bạn có thể sử dụng Composite Pattern để xây dựng dịch vụ, cấu trúc cây tổ chức khác nhau cho các bên gọi khác nhau, và bạn có thể cấu hình cây này vào cơ sở dữ liệu hoặc điều khiển nó thông qua interface đồ họa.</p><p>Vì vậy, việc sử dụng các mẫu thiết kế khác nhau trong các tình huống phù hợp có thể làm cho logic code rất rõ ràng và dễ mở rộng, đồng thời cũng có thể giảm thiểu chi phí học của nhóm đối với những người mới.</p><h2 id="mo-phong-kich-ban" tabindex="-1"><a class="header-anchor" href="#mo-phong-kich-ban"><span>Mô phỏng kịch bản</span></a></h2>',18),t=s(`<p>Trên đây là một phiên bản rất đơn giản của <code>decision tree (Decision Tree)</code> tiếp thị, dựa trên <code>giới tính</code> và <code>tuổi</code> để phát các loại phiếu giảm giá khác nhau, nhằm kích thích tiêu dùng và tạo ra mục tiêu chính xác để kích hoạt người dùng.</p><p>Mặc dù một số bạn có thể chưa từng phát triển các tình huống tiếp thị, nhưng bạn có thể bị tiếp thị bất cứ lúc nào. Ví dụ, nếu bạn thường xuyên duyệt các sản phẩm mà nam giới thích như bàn phím cơ, laptop, trang trí ô tô và nhiều hơn nữa, bạn sẽ nhận được các phiếu giảm giá tương tự để kích thích tiêu dùng. Và nếu bạn không mua sắm nhiều hoặc không có tiền mặt trong tay, bạn có bao giờ bị đưa giá xe? Có một thời gian, bạn thường nghe người khác kêu gọi, tại sao cùng một khoảng cách, họ lại 10 đồng, tôi lại 15 đồng? Thực tế là đây là các trường hợp được tiếp thị, thường xuyên tiến hành các biện pháp kích thích mạnh mẽ hơn đối với những người dùng ít sử dụng phần mềm, nhằm tăng tính gắn kết của người dùng.</p><p>Vậy nên, ở đây chúng tôi sẽ mô phỏng một tình huống tương tự, thể hiện sự quan trọng của Composite Pattern trong đó. Ngoài ra, Composite Pattern không chỉ có thể áp dụng cho decision tree quy tắc, mà còn có thể sử dụng để đóng gói dịch vụ bằng cách kết hợp các interface khác nhau, cung cấp khả năng dịch vụ cho bên ngoài và giảm chi phí phát triển.</p><h2 id="trien-khai-code-hang-loat" tabindex="-1"><a class="header-anchor" href="#trien-khai-code-hang-loat"><span>Triển khai code hàng loạt</span></a></h2><p>Ở đây chúng ta sẽ trình bày một ví dụ về việc &quot;phát sinh&quot; câu chuyện về mối quan hệ giữa cô gái và lập trình viên 👨‍💻.</p><table><thead><tr><th style="text-align:center;">Ngày</th><th style="text-align:left;">Yêu cầu</th><th style="text-align:left;">Mức độ khẩn cấp</th><th style="text-align:left;">Lập trình viên (tiếng nói bên ngoài)</th><th></th></tr></thead><tbody><tr><td style="text-align:center;">Thứ Hai, Buổi sáng</td><td style="text-align:left;">Anh lập trình viên, sếp nói muốn làm một chút tiếp thị, gửi các loại phiếu giảm giá khác nhau cho nam và nữ để kích thích tiêu dùng.</td><td style="text-align:left;">Rất cấp bách, cuối ngày mai phải xong</td><td style="text-align:left;">Được, cũng không khó lắm, thêm một số điều kiện if là được</td><td></td></tr><tr><td style="text-align:center;">Thứ Ba, Buổi chiều</td><td style="text-align:left;">Anh chàng, sau khi chúng ta đã triển khai, mọi thứ đều tốt. Hãy thêm điều kiện theo độ tuổi, dễ dàng kích thích tiêu dùng chính xác hơn dựa trên các nhóm tuổi.</td><td style="text-align:left;">Cấp bách, ngày mai phải xong</td><td style="text-align:left;">Cũng không khó, thêm điều kiện thôi</td><td></td></tr><tr><td style="text-align:center;">Thứ Tư, Buổi tối</td><td style="text-align:left;">Ôi, anh! Anh đã đi ngủ chưa? Sếp nói rằng hoạt động của chúng ta rất thành công, liệu anh có thể thêm các điều kiện cho độc thân, đã kết hôn và có con. Điều này sẽ kích thích người dùng mua sắm hơn.</td><td style="text-align:left;">Rất cấp bách, hãy triển khai ngay</td><td style="text-align:left;">Tôi nhận ra rằng có quá nhiều điều kiện if else rồi</td><td></td></tr><tr><td style="text-align:center;">Thứ Năm, Sáng sớm</td><td style="text-align:left;">Wow! Anh thật tuyệt vời, triển khai rất nhanh chóng. Hehe! Có một yêu cầu nhỏ, cần điều chỉnh các nhóm tuổi, vì hiện nay sinh viên bắt đầu có bạn gái sớm hơn, những người đã có bạn gái dễ mua nhất định sản phẩm hơn. Bạn hãy thay đổi giá trị một chút!</td><td style="text-align:left;">Sếp đang đợi đấy!</td><td style="text-align:left;">Phải sửa đổi nhiều giá trị, ôi! Có quá nhiều if else rồi</td><td></td></tr><tr><td style="text-align:center;">Thứ Sáu, Nửa đêm</td><td style="text-align:left;">Trời ơi! Giờ này còn thức à! Ôi, đã hỏng rồi, tại sao việc gửi phiếu giảm giá không chính xác, đã có phản ánh từ khách hàng, nhiều cô gái đã đến phản đối. Bạn hãy xem xem. Ôi, sếp ơi…</td><td style="text-align:left;"></td><td style="text-align:left;">(Một trán đầy mồ hôi), Ôi, giá trị dính sai vị trí!</td><td>Cuối cùng, lại một mình gánh hết tất cả</td></tr></tbody></table><h3 id="cau-truc-du-an" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-an"><span>Cấu trúc dự án</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">design</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#24292E;--shiki-dark:#E06C75;">demo</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">8</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">01</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">/</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">├── </span><span style="color:#24292E;--shiki-dark:#E5C07B;">pom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">xml</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">└── src</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">    └── main</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">        └── java</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">            └── com</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">                └── hnv99</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">                    └── design</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">                        └── </span><span style="color:#24292E;--shiki-dark:#E5C07B;">EngineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">java</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Nếu trong công ty có những lập trình viên như vậy chắc chắn sẽ tiết kiệm được rất nhiều chi phí, không cần xây dựng microservice gì cả, một dự án có thể xử lý hết công việc!</li></ul><h3 id="trien-khai-code" tabindex="-1"><a class="header-anchor" href="#trien-khai-code"><span>Triển khai code</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> EngineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Logger</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logger </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> LoggerFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getLogger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">EngineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userSex</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> int</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userAge</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Sử dụng cách thực hiện if-else để xác định kết quả người dùng. userId：{} userSex：{} userAge：{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, userId, userSex, userAge);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;man&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">equals</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(userSex)) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (userAge </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Kết quả A&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">            }  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (userAge </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Kết quả B&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">            }        }  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;woman&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">equals</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(userSex)) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (userAge </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Kết quả C&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">            }  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (userAge </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 25</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Kết quả D&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">            }        }  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> null</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ngoài việc mở rộng và bảo trì mỗi lần, cách triển khai này cũng là nhanh nhất. Và về hình thức, nó cũng rất dễ hiểu cho người mới.</li><li>Nhưng <code>Tôi khuyên bạn không nên viết như vậy</code>, viết code như thế này sẽ bị mất điểm hoặc bị sa thải (senior sẽ thường xuyên review code trước khi thực hiện merge request).</li></ul><h3 id="kiem-thu" tabindex="-1"><a class="header-anchor" href="#kiem-thu"><span>Kiểm thử</span></a></h3><h4 id="viet-lop-kiem-tra" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-tra"><span>Viết lớp kiểm tra</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Logger</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logger </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> LoggerFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getLogger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Test</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> testEngineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        EngineController</span><span style="color:#24292E;--shiki-dark:#E06C75;"> engineController</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> EngineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        String</span><span style="color:#24292E;--shiki-dark:#E06C75;"> process</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> engineController</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Oli09pLkdjh&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;man&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#005CC5;--shiki-dark:#D19A66;">29</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả kiểm thử: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, process);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ở đây chúng ta mô phỏng một ID người dùng, và truyền giới tính: <code>man</code>, và tuổi: <code>29</code>, kết quả dự kiến của chúng ta là: <code>Kết quả B</code>. Trong thực tế, điều này tương đương với việc <code>gửi một phiếu giảm giá lựa chọn cho người dùng</code>.</li></ul><h4 id="ket-qua-kiem-tra" tabindex="-1"><a class="header-anchor" href="#ket-qua-kiem-tra"><span>Kết quả kiểm tra</span></a></h4><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">2024-03-28</span><span style="color:#032F62;--shiki-dark:#98C379;"> 14:12:46.816</span><span style="color:#032F62;--shiki-dark:#98C379;">	INFO</span><span style="color:#032F62;--shiki-dark:#98C379;">	main</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">		(EngineController.java:12)	</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	Sử</span><span style="color:#032F62;--shiki-dark:#98C379;"> dụng</span><span style="color:#032F62;--shiki-dark:#98C379;"> cách</span><span style="color:#032F62;--shiki-dark:#98C379;"> thực</span><span style="color:#032F62;--shiki-dark:#98C379;"> hiện</span><span style="color:#032F62;--shiki-dark:#98C379;"> if-else</span><span style="color:#032F62;--shiki-dark:#98C379;"> để</span><span style="color:#032F62;--shiki-dark:#98C379;"> xác</span><span style="color:#032F62;--shiki-dark:#98C379;"> định</span><span style="color:#032F62;--shiki-dark:#98C379;"> kết</span><span style="color:#032F62;--shiki-dark:#98C379;"> quả</span><span style="color:#032F62;--shiki-dark:#98C379;"> người</span><span style="color:#032F62;--shiki-dark:#98C379;"> dùng.</span><span style="color:#032F62;--shiki-dark:#98C379;"> userId：Oli09pLkdjh</span><span style="color:#032F62;--shiki-dark:#98C379;"> userSex：man</span><span style="color:#032F62;--shiki-dark:#98C379;"> userAge：29</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">2024-03-28</span><span style="color:#032F62;--shiki-dark:#98C379;"> 14:12:46.822</span><span style="color:#032F62;--shiki-dark:#98C379;">	INFO</span><span style="color:#032F62;--shiki-dark:#98C379;">	main</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">		(ApiTest.java:15)	</span><span style="color:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	Kết</span><span style="color:#032F62;--shiki-dark:#98C379;"> quả</span><span style="color:#032F62;--shiki-dark:#98C379;"> kiểm</span><span style="color:#032F62;--shiki-dark:#98C379;"> thử:</span><span style="color:#032F62;--shiki-dark:#98C379;"> Kết</span><span style="color:#032F62;--shiki-dark:#98C379;"> quả</span><span style="color:#032F62;--shiki-dark:#98C379;"> B</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Từ kết quả kiểm tra, chương trình của chúng ta hoạt động bình thường và khớp với kết quả dự kiến, chỉ có điều cách triển khai không phải là một phương pháp được khuyến khích. Tiếp theo, chúng ta sẽ sử dụng <code>Composite Pattern</code> để tối ưu hóa phần code này.</li></ul><h2 id="tai-cau-truc-theo-composite-pattern" tabindex="-1"><a class="header-anchor" href="#tai-cau-truc-theo-composite-pattern"><span>Tái cấu trúc theo Composite Pattern</span></a></h2><p><strong>Trong phần này, chúng ta sẽ sử dụng Composite Pattern để tối ưu code, đây cũng là một quá trình tái cấu trúc nhỏ.</strong></p><p>Việc tái cấu trúc này có thể gây ra một lượng thay đổi code lớn hơn so với trước đó, bởi vì chúng ta cần tổ chức các nút quyết định khác nhau và kết hợp chúng thành một decision tree có thể chạy được, cần phải thực hiện thiết kế điều chỉnh và gọi các phương thức của nhà máy, đặc biệt là việc xác định interface và abstract class, và khởi tạo cấu hình nút quyết định (giới tính, tuổi). Tôi khuyên bạn nên đọc kỹ một vài lần phần code này và thực hành nhiều hơn.</p><blockquote><p>[!note] Tree<br> Bạn cần phải hiểu cấu trúc dữ liệu cây để có thể tiếp tục đọc.<br> Việc học cấu trúc dữ liệu và giải thuật cũng rất quan trọng. Bạn có thể đọc thêm ở đây [[DSA MOC]].</p></blockquote><h3 id="cau-truc-du-an-1" tabindex="-1"><a class="header-anchor" href="#cau-truc-du-an-1"><span>Cấu trúc dự án</span></a></h3><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">design-demo-8-02</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> pom.xml</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">└──</span><span style="color:#032F62;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> com</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">         └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> hnv99</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">             └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> design</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                 └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> domain</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> model</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> aggregate</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> TreeRich.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> vo</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> EngineResult.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> TreeNode.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> TreeNodeLink.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> TreeRoot.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                     └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> service</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> engine</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> EngineBase.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> EngineConfig.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> IEngine.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         │  </span><span style="color:#032F62;--shiki-dark:#98C379;"> └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> impl</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         │  </span><span style="color:#032F62;--shiki-dark:#98C379;">     └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> TreeEngineHandle.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                         └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> logic</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                             ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> BaseLogic.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                             ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> LogicFilter.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                             └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> impl</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                                 ├──</span><span style="color:#032F62;--shiki-dark:#98C379;"> UserAgeFilter.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    │  </span><span style="color:#032F62;--shiki-dark:#98C379;">                                 └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> UserGenderFilter.java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">    └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">        └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">            └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> com</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">                └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> hnv99</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">                    └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> design</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">                        └──</span><span style="color:#032F62;--shiki-dark:#98C379;"> ApiTest.java</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Cấu trúc mô hình của Composite Pattern</strong></p><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/demo-design-8-03.png" alt="demo-design-8-03.png" tabindex="0" loading="lazy"><figcaption>demo-design-8-03.png</figcaption></figure><ul><li><p>Đầu tiên, bạn có thể nhìn vào cấu trúc cây hướng dẫn mô phỏng trong khung màu đen: <code>1</code>, <code>11</code>, <code>12</code>, <code>111</code>, <code>112</code>, <code>121</code>, <code>122</code>, đây là một nhóm ID nút cây được kết hợp thành một cây.</p></li><li><p>Tiếp theo là phần sơ đồ lớp, phía bên trái là từ <code>LogicFilter</code> bắt đầu định nghĩa bộ lọc, <code>BaseLogic</code> là triển khai interface, cung cấp các phương thức cơ bản nhất. <code>UserAgeFilter</code>, <code>UserGenerFilter</code> là hai lớp sử dụng để xác định <code>tuổi</code> và <code>giới tính</code>.</p></li><li><p>Cuối cùng là tổ tổ chức công cụ thực thi decision tree. Cũng xác định engine interface và cấu hình cơ bản, trong cấu hình, các nút quyết định mẫu cần được thiết lập.</p></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">static</span><span style="color:#24292E;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">     logicFilterMap </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> ConcurrentHashMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">     logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> UserAgeFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">     logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userGender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> UserGenderFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Tiếp theo tôi sẽ giải thích chi tiết các lớp.</li></ul><h3 id="trien-khai-code-1" tabindex="-1"><a class="header-anchor" href="#trien-khai-code-1"><span>Triển khai code</span></a></h3><h4 id="cac-lop-co-ban" tabindex="-1"><a class="header-anchor" href="#cac-lop-co-ban"><span>Các lớp cơ bản</span></a></h4><table><thead><tr><th>Đường dẫn gói</th><th>Lớp</th><th>Mô tả</th></tr></thead><tbody><tr><td>model.aggregates</td><td>TreeRich</td><td>Đối tượng tổng hợp, chứa thông tin cây</td></tr><tr><td>model.vo</td><td>EngineResult</td><td>Đối tượng trả về quyết định</td></tr><tr><td>model.vo</td><td>TreeNode</td><td>Đối tượng nút cây: nút lá, nút quả</td></tr><tr><td>model.vo</td><td>TreeNodeLink</td><td>Liên kết nút cây</td></tr><tr><td>model.vo</td><td>TreeRoot</td><td>Thông tin gốc của cây</td></tr></tbody></table><h4 id="interface-bo-loc-logic-cua-nut-cay" tabindex="-1"><a class="header-anchor" href="#interface-bo-loc-logic-cua-nut-cay"><span>Interface bộ lọc logic của nút cây</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> interface</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> LogicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * Bộ lọc quyết định logic</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     *</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> matterValue</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">          Giá trị quyết định</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeNodeLineInfoList</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> Danh sách nút decision tree</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@return</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> ID của nút tiếp theo</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">    Long</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">List</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">treeNodeLineInfoList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * Lấy giá trị quyết định</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     *</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">          ID của cây</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">          ID của người dùng</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> decisionMatter</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">  Thông tin quyết định</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     * </span><span style="color:#D73A49;--shiki-dark:#C678DD;font-style:inherit;--shiki-dark-font-style:italic;">@return</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> Giá trị quyết định</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">     */</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">    String</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Phần này định nghĩa interface chung cho việc tương thích, bộ lọc logic và lấy giá trị quyết định, đảm bảo mỗi nút cung cấp khả năng quyết định đều phải triển khai interface này để đảm bảo tính nhất quán.</li></ul><h4 id="lop-truu-tuong-baselogic-cung-cap-quyet-đinh-logic" tabindex="-1"><a class="header-anchor" href="#lop-truu-tuong-baselogic-cung-cap-quyet-đinh-logic"><span>Lớp trừu tượng BaseLogic cung cấp quyết định logic</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> abstract</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> BaseLogic</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> implements</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> LogicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Long</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">List</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">treeNodeLinkList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> nodeLine</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> :</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> treeNodeLinkList) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">decisionLogic</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue, nodeLine)) </span><span style="color:#D73A49;--shiki-dark:#C678DD;">return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> nodeLine</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 0L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> abstract</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> boolean</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> decisionLogic</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        switch</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            case</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">equals</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            case</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue) </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            case</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue) </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            case</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue) </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&lt;=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            case</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue) </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&gt;=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Double</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">parseDouble</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">nodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">            default:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">                return</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> false</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Trong phương thức trừu tượng, ta triển khai các phương thức interface và đồng thời định nghĩa phương thức quyết định cơ bản: <code>1, 2, 3, 4, 5</code>, logic so sánh <code>bằng, nhỏ hơn, lớn hơn, nhỏ hơn hoặc bằng, lớn hơn hoặc bằng</code>.</li><li>Đồng thời định nghĩa phương thức trừu tượng, mà mỗi lớp triển khai interface phải cung cấp giá trị quyết định theo quy tắc được chỉ định.</li></ul><h4 id="cac-lop-trien-khai-logic-cua-nut-cay" tabindex="-1"><a class="header-anchor" href="#cac-lop-trien-khai-logic-cua-nut-cay"><span>Các lớp triển khai logic của nút cây</span></a></h4><p><strong>Nút tuổi</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> UserAgeFilter</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> extends</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> BaseLogic</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;age&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Nút giới tính</strong></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> UserGenderFilter</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> extends</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> BaseLogic</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;gender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Cách lấy giá trị của hai nút quyết định trên rất đơn giản, chỉ cần lấy đầu vào của người dùng là đủ. Trong thực tế, có thể lấy giá trị từ cơ sở dữ liệu, RPC, cache và nhiều cách khác.</li></ul><h4 id="đinh-nghia-decision-engine-interface" tabindex="-1"><a class="header-anchor" href="#đinh-nghia-decision-engine-interface"><span>Định nghĩa decision engine interface</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> interface</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> IEngine</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">    EngineResult</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeRich</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Đối với bên sử dụng cũng cần định nghĩa một interface thống nhất để thao tác, điều này rất tiện lợi cho việc mở rộng ra các loại engine quyết định khác nhau, có thể xây dựng các nhà decision engine khác nhau.</li></ul><h4 id="cau-hinh-nut-quyet-đinh" tabindex="-1"><a class="header-anchor" href="#cau-hinh-nut-quyet-đinh"><span>Cấu hình nút quyết định</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> EngineConfig</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    static</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#D73A49;--shiki-dark:#E5C07B;"> LogicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    static</span><span style="color:#24292E;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">        logicFilterMap </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> ConcurrentHashMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> UserAgeFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userGender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#C678DD;">new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> UserGenderFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#D73A49;--shiki-dark:#E5C07B;"> LogicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> getLogicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> logicFilterMap;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> setLogicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">LogicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E5C07B;">        this</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">logicFilterMap</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> logicFilterMap;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ở đây, cấu hình các nút quyết định có thể cung cấp được đặt vào cấu trúc <code>map</code>, với cấu trúc <code>map</code> như vậy có thể trích xuất ra cơ sở dữ liệu, từ đó quản lý rất dễ dàng.</li></ul><h4 id="chuc-nang-co-ban-cua-decision-engine" tabindex="-1"><a class="header-anchor" href="#chuc-nang-co-ban-cua-decision-engine"><span>Chức năng cơ bản của decision engine</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> abstract</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> EngineBase</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> extends</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> EngineConfig</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> implements</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> IEngine</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Logger</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logger </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> LoggerFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getLogger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">EngineBase</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> abstract</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> EngineResult</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeRich</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    protected</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> TreeNode</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> engineDecisionMaker</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeRich</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeRoot</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeRoot</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Long</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">treeNodeMap</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // ID của nút gốc của cây quyết định  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        Long</span><span style="color:#24292E;--shiki-dark:#E06C75;"> rootNodeId</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeRootNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeInfo</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(rootNodeId);  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Loại nút [NodeType]；1: nút lá, 2: nút quả  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        while</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeNodeInfo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">().</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">equals</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)) {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            String</span><span style="color:#24292E;--shiki-dark:#E06C75;"> ruleKey</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeNodeInfo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getRuleKey</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            LogicFilter</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logicFilter</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> logicFilterMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(ruleKey);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            String</span><span style="color:#24292E;--shiki-dark:#E06C75;"> matterValue</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> logicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">matterValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeId, userId, decisionMatter);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            Long</span><span style="color:#24292E;--shiki-dark:#E06C75;"> nextNode</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> logicFilter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">filter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(matterValue, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeNodeInfo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeNodeLinkList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">            treeNodeInfo </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(nextNode);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">            logger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Bộ máy cây quyết định=&gt;{} userId：{} treeId：{} treeNode：{} ruleKey：{} matterValue：{}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeName</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(), userId, treeId, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeNodeInfo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(), ruleKey, matterValue);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        }        </span><span style="color:#D73A49;--shiki-dark:#C678DD;">return</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> treeNodeInfo;  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ở đây cung cấp chức năng xử lý quy trình decision tree chính, tương tự như việc tìm kiếm nút trái cây trong cây nhị phân thông qua mối quan hệ dây chuyền (<code>giới tính</code>, <code>tuổi</code>).</li><li>Đồng thời cung cấp một phương thức trừu tượng, phương thức thực thi quy trình quyết định để bên ngoài triển khai cụ thể.</li></ul><h4 id="trien-khai-cua-decision-engine" tabindex="-1"><a class="header-anchor" href="#trien-khai-cua-decision-engine"><span>Triển khai của decision engine</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> TreeEngineHandle</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> extends</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> EngineBase</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Override</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> EngineResult</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Long</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> userId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">TreeRich</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Quy trình quyết định</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> engineDecisionMaker</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeRich, treeId, userId, decisionMatter);</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Kết quả quyết định</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> EngineResult</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(userId, treeId, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(), </span><span style="color:#24292E;--shiki-dark:#E5C07B;">treeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ở đây, việc triển khai của máy quyết định rất đơn giản, chỉ cần sử dụng thông tin bắt buộc được truyền vào: thông tin decision tree, giá trị decision matter, để thực thi quyết định cụ thể của cấu trúc cây.</li></ul><h3 id="kiem-thu-1" tabindex="-1"><a class="header-anchor" href="#kiem-thu-1"><span>Kiểm thử</span></a></h3><h4 id="xay-dung-cay" tabindex="-1"><a class="header-anchor" href="#xay-dung-cay"><span>Xây dựng cây</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> final</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> Logger</span><span style="color:#24292E;--shiki-dark:#E06C75;"> logger </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> LoggerFactory</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">getLogger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">class</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> TreeRich</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Before</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> init</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 1  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_01</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">null</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleKey</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userGender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleDesc</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Giới tính người dùng [Nam / Nữ]&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 1-&gt;11  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_11</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;man&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 1-&gt;12  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_12</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;woman&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        List</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">treeNodeLinkList_1</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> ArrayList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_11);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_12);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_01</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeLinkList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLinkList_1);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 11  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_11</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">null</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleKey</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleDesc</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Tuổi của người dùng&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 11-&gt;111  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_111</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 11-&gt;112  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_112</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        List</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">treeNodeLinkList_11</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> ArrayList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_111);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_112);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeLinkList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLinkList_11);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 12  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_12</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">null</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleKey</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleDesc</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Tuổi của người dùng&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 12-&gt;121  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_121</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Link: 12-&gt;122  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNodeLink_122</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdFrom</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeIdTo</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLink_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setRuleLimitValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        List</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNodeLink</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">treeNodeLinkList_12</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> ArrayList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_121);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeLinkList_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">add</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLink_122);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeLinkList</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeNodeLinkList_12);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 111  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_111</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả A&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 112  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_112</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả B&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_121</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả C&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Node: 122  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeNode</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode_122</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeType</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNode_122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setNodeValue</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả D&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">        // Tree root  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        TreeRoot</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeRoot</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeRootNodeId</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeRoot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">setTreeName</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Cây quyết định&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Long</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#D73A49;--shiki-dark:#E5C07B;">TreeNode</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#24292E;--shiki-dark:#E06C75;">treeNodeMap</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> HashMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;();  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_01);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_11);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_12);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_111);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_112);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_121);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        treeNodeMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeNode_122);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">        treeRich </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeRich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeRoot, treeNodeMap);  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Quan trọng</strong>, phần này là việc sử dụng Composite Pattern rất quan trọng, dưới cấu trúc cây quyết định mà chúng ta đã xây dựng, có thể tạo ra các nút cây khác nhau và sử dụng các liên kết giữa các nút để kết nối chúng.</li><li>Ngay cả sau này nếu bạn cần mở rộng kinh doanh của mình, bạn cũng có thể thêm các nút tương ứng vào đây và thực hiện cấu hình động.</li><li>Phần này về cách tổ chức thủ công có thể được trích xuất vào cơ sở dữ liệu, từ đó bạn cũng có thể mở rộng hoạt động cấu hình thông qua giao diện đồ họa.</li></ul><h4 id="viet-lop-kiem-thu" tabindex="-1"><a class="header-anchor" href="#viet-lop-kiem-thu"><span>Viết lớp kiểm thử</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">Test</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> testTree</span><span style="color:#24292E;--shiki-dark:#E06C75;">() {  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Thông tin kết cấu tổ hợp của cây quyết định:</span><span style="color:#005CC5;--shiki-dark:#56B6C2;">\\r\\n</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> JSON</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">toJSONString</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(treeRich));</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        IEngine</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeEngineHandle </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> TreeEngineHandle</span><span style="color:#24292E;--shiki-dark:#E06C75;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        Map</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#D73A49;--shiki-dark:#E5C07B;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#D73A49;--shiki-dark:#E5C07B;"> String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;"> decisionMatter </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> HashMap</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="color:#24292E;--shiki-dark:#E06C75;">()</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;gender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;man&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        decisionMatter</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;age&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;29&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        EngineResult</span><span style="color:#24292E;--shiki-dark:#E06C75;"> result </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> treeEngineHandle</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">process</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001L</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Oli09pLkdjh&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, treeRich, decisionMatter);</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        logger</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">info</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả thử nghiệm: {}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#24292E;--shiki-dark:#E5C07B;">JSON</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">toJSONString</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(result));</span><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">  </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Ở đây đã cung cấp một cuộc gọi thông qua cây quyết định được tạo ra thông qua Composite Pattern, khi gọi, ID của cây quyết định được truyền vào, vì vậy trong phát triển kinh doanh, quan hệ liên kết giữa cây quyết định và kinh doanh có thể được tách biệt dễ dàng, chỉ cần truyền ID của cây quyết định theo nhu cầu.</li><li>Ngoài ra, đối số đầu vào còn cung cấp thông tin cần xử lý: <code>nam</code> (man), <code>tuổi</code> (29 tuổi).</li></ul><h4 id="ket-qua" tabindex="-1"><a class="header-anchor" href="#ket-qua"><span>Kết quả</span></a></h4><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">2024</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">03</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">28</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">54.701</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	main</span><span style="color:#24292E;--shiki-dark:#E06C75;">		(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">java</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">165</span><span style="color:#24292E;--shiki-dark:#E06C75;">)	</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">|</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	Thông</span><span style="color:#24292E;--shiki-dark:#E06C75;"> tin kết cấu tổ hợp của cây quyết định</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeMap&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả B&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleDesc&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Giới tính người dùng [Nam / Nữ]&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleKey&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userGender&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeLinkList&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">[{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;man&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;woman&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}]}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả C&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả D&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleDesc&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Tuổi của người dùng&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleKey&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeLinkList&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">[{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}]}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleDesc&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Tuổi của người dùng&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleKey&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userAge&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeLinkList&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">[{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">121</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">3</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdFrom&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">12</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeIdTo&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">122</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">4</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ruleLimitValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;25&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}]}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeType&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">2</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả A&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">111</span><span style="color:#24292E;--shiki-dark:#E06C75;">}}</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeRoot&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;">{</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeName&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Cây quyết định&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeRootNodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">1</span><span style="color:#24292E;--shiki-dark:#E06C75;">}}</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">2024</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">03</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">28</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">54.708</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	main</span><span style="color:#24292E;--shiki-dark:#E06C75;">		(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">EngineBase</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">java</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">33</span><span style="color:#24292E;--shiki-dark:#E06C75;">)	</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">|</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	Bộ</span><span style="color:#24292E;--shiki-dark:#E06C75;"> máy cây quyết định</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Cây</span><span style="color:#24292E;--shiki-dark:#E06C75;"> quyết định userId：</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Oli09pLkdjh</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeId：</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode：</span><span style="color:#005CC5;--shiki-dark:#D19A66;">11</span><span style="color:#24292E;--shiki-dark:#E06C75;"> ruleKey：userGender matterValue：man</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">2024</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">03</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">28</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">54.708</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	main</span><span style="color:#24292E;--shiki-dark:#E06C75;">		(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">EngineBase</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">java</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">33</span><span style="color:#24292E;--shiki-dark:#E06C75;">)	</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">|</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	Bộ</span><span style="color:#24292E;--shiki-dark:#E06C75;"> máy cây quyết định</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=&gt;</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Cây</span><span style="color:#24292E;--shiki-dark:#E06C75;"> quyết định userId：</span><span style="color:#24292E;--shiki-dark:#E5C07B;">Oli09pLkdjh</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeId：</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#E06C75;"> treeNode：</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112</span><span style="color:#24292E;--shiki-dark:#E06C75;"> ruleKey：userAge matterValue：</span><span style="color:#005CC5;--shiki-dark:#D19A66;">29</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#D19A66;">2024</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">03</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="color:#005CC5;--shiki-dark:#D19A66;">28</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> 18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">18</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">54.712</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	INFO</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	main</span><span style="color:#24292E;--shiki-dark:#E06C75;">		(</span><span style="color:#24292E;--shiki-dark:#E5C07B;">ApiTest</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#E5C07B;">java</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">174</span><span style="color:#24292E;--shiki-dark:#E06C75;">)	</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">|</span><span style="color:#24292E;--shiki-dark:#E5C07B;">	Kết</span><span style="color:#24292E;--shiki-dark:#E06C75;"> quả thử nghiệm</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#24292E;--shiki-dark:#E06C75;"> {</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">112</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;nodeValue&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Kết quả B&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;success&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">true</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;treeId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#005CC5;--shiki-dark:#D19A66;">10001</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;userId&quot;</span><span style="color:#D73A49;--shiki-dark:#C678DD;">:</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Oli09pLkdjh&quot;</span><span style="color:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Từ kết quả kiểm tra, có vẻ giống như việc sử dụng <code>ifelse</code>, nhưng dưới thiết kế của Composite Pattern hiện tại, việc mở rộng và chỉnh sửa sau này sẽ rất thuận tiện.</li><li>Tổ chức cấu trúc và việc gọi quy trình quyết định đã được thiết lập, nếu bạn không hiểu hoàn toàn ở đây, bạn có thể tải code và quan sát cấu trúc và chạy gỡ lỗi.</li></ul><h2 id="tong-ket" tabindex="-1"><a class="header-anchor" href="#tong-ket"><span>Tổng kết</span></a></h2><ul><li>Dựa trên kịch bản cây quyết định trên, Composite Pattern chủ yếu giải quyết việc sử dụng một chuỗi các nút logic đơn giản hoặc mở rộng của các nút logic phức tạp trong các cấu trúc khác nhau và vẫn có thể rất dễ dàng để gọi từ bên ngoài.</li><li>Mô hình thiết kế này đảm bảo nguyên tắc mở đóng, bạn có thể cung cấp các nút logic mới và kết hợp chúng để tạo ra cây quyết định mới mà không cần thay đổi cấu trúc mô hình. Tuy nhiên, nếu gói một số interface có sự khác biệt lớn trong chức năng, việc xử lý sẽ trở nên khó khăn hơn, nhưng vẫn có thể xử lý tốt, chỉ cần thực hiện một số điều chỉnh và phát triển cụ thể.</li><li>Đôi khi, bởi vì sự hoàn hảo và tinh thần thợ thủ công hơi cứng nhắc của bạn, ngay cả khi đối mặt với cùng một yêu cầu, bạn có thể tạo ra cấu trúc code tốt nhất và kiến ​​trúc công nghệ dễ mở rộng nhất. <code>Đừng để ảnh hưởng của người không thể cung cấp cho bạn sự cải thiện về khả năng làm việc của bạn!</code></li></ul>`,69);function k(c,d){const a=i("Mermaid");return r(),l("div",null,[p,e(a,{id:"mermaid-95",code:"eJxLy8kvT85ILCpRCHHh8nVMT40G4lguNziLyz01LyW1SFfXrsY3MSe1BqQGScwtNRckClIP1g4Ss7E1Mq1xhHPtgDwnsIlwSWc4FyTpwgUAX0YpDA=="}),t])}const B=n(o,[["render",k],["__file","composite.html.vue"]]),E=JSON.parse('{"path":"/design/design-pattern/practical/structural/composite.html","title":"Composite Pattern Practice","lang":"en-US","frontmatter":{"title":"Composite Pattern Practice","tags":["design-pattern"],"categories":null,"date created":"2024-03-28T00:00:00.000Z","date modified":"2024-03-28T00:00:00.000Z","description":"Composite Pattern Practice: Phân loại khán giả khác nhau để phát phiếu quà tặng, xây dựng decision tree Giới thiệu A-->|text|B Nhỏ mới phải lựa chọn, lớn thì chọn tất Vài năm tr...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/design/design-pattern/practical/structural/composite.html"}],["meta",{"property":"og:site_name","content":"vanhung4499"}],["meta",{"property":"og:title","content":"Composite Pattern Practice"}],["meta",{"property":"og:description","content":"Composite Pattern Practice: Phân loại khán giả khác nhau để phát phiếu quà tặng, xây dựng decision tree Giới thiệu A-->|text|B Nhỏ mới phải lựa chọn, lớn thì chọn tất Vài năm tr..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240328114627.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-26T14:44:55.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"design-pattern"}],["meta",{"property":"article:modified_time","content":"2024-06-26T14:44:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Composite Pattern Practice\\",\\"image\\":[\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20240328114627.png\\",\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/demo-design-8-03.png\\"],\\"dateModified\\":\\"2024-06-26T14:44:55.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\",\\"email\\":\\"vanhung4499@gmail.com\\"}]}"]]},"headers":[{"level":2,"title":"Giới thiệu","slug":"gioi-thieu","link":"#gioi-thieu","children":[]},{"level":2,"title":"Môi trường phát triển","slug":"moi-truong-phat-trien","link":"#moi-truong-phat-trien","children":[]},{"level":2,"title":"Giới thiệu về Composite Pattern","slug":"gioi-thieu-ve-composite-pattern","link":"#gioi-thieu-ve-composite-pattern","children":[]},{"level":2,"title":"Mô phỏng kịch bản","slug":"mo-phong-kich-ban","link":"#mo-phong-kich-ban","children":[]},{"level":2,"title":"Triển khai code hàng loạt","slug":"trien-khai-code-hang-loat","link":"#trien-khai-code-hang-loat","children":[{"level":3,"title":"Cấu trúc dự án","slug":"cau-truc-du-an","link":"#cau-truc-du-an","children":[]},{"level":3,"title":"Triển khai code","slug":"trien-khai-code","link":"#trien-khai-code","children":[]},{"level":3,"title":"Kiểm thử","slug":"kiem-thu","link":"#kiem-thu","children":[]}]},{"level":2,"title":"Tái cấu trúc theo Composite Pattern","slug":"tai-cau-truc-theo-composite-pattern","link":"#tai-cau-truc-theo-composite-pattern","children":[{"level":3,"title":"Cấu trúc dự án","slug":"cau-truc-du-an-1","link":"#cau-truc-du-an-1","children":[]},{"level":3,"title":"Triển khai code","slug":"trien-khai-code-1","link":"#trien-khai-code-1","children":[]},{"level":3,"title":"Kiểm thử","slug":"kiem-thu-1","link":"#kiem-thu-1","children":[]}]},{"level":2,"title":"Tổng kết","slug":"tong-ket","link":"#tong-ket","children":[]}],"git":{"createdTime":1719413095000,"updatedTime":1719413095000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":18.36,"words":5508},"filePathRelative":"design/design-pattern/practical/structural/composite.md","localizedDate":"June 26, 2024","excerpt":"\\n<h2>Giới thiệu</h2>\\n<p>A--&gt;|text|B</p>\\n<p><strong>Nhỏ mới phải lựa chọn, lớn thì chọn tất</strong></p>\\n<p>Vài năm trước, mỗi khi trên các diễn đàn, ai đó nên học ngôn ngữ lập trình nào, ngôn ngữ nào tốt nhất. Các thread này luôn sôi nổi, có người ủng hộ PHP, có người thích Java, cũng có C++ và C#. Nhưng trong vài năm gần đây, dường như mọi người không thực sự tranh luận \\"chém gió\\" nữa, hầu hết thời gian đều là đùa cợt. Trong khi đó, trong phát triển Internet nói chung, nhiều khi là một số ngôn ngữ lập trình được sử dụng chung, cùng xây dựng một hệ sinh thái toàn diện. Cách mà mọi người chọn cũng nghiêng về việc chọn kiến trúc phù hợp cho từng lĩnh vực, thay vì mù quáng theo đuổi một ngôn ngữ nào đó. Điều này có thể đưa ra một số gợi ý cho những người mới học lập trình, không nên tự ái rằng một ngôn ngữ nào đó tốt hơn, một ngôn ngữ nào đó không tốt hơn, chỉ cần chọn ngôn ngữ phù hợp với từng tình huống. Và bạn có thể quyết định ngôn ngữ nào để học dựa trên nhu cầu tuyển dụng và mức lương trên các trang web tuyển dụng.</p>","autoDesc":true}');export{B as comp,E as data};
