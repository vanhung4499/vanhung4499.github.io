import{_ as n,o as r,c as t,d as e}from"./app-DBZfZLYz.js";const i={},o=e('<h1 id="chuyen-đoi-kieu-du-lieu-trong-spring" tabindex="-1"><a class="header-anchor" href="#chuyen-đoi-kieu-du-lieu-trong-spring"><span>Chuyển đổi kiểu dữ liệu trong Spring</span></a></h1><h2 id="cai-đat-chuyen-đoi-kieu-du-lieu-cua-spring" tabindex="-1"><a class="header-anchor" href="#cai-đat-chuyen-đoi-kieu-du-lieu-cua-spring"><span>Cài đặt Chuyển đổi Kiểu dữ liệu của Spring</span></a></h2><ul><li>Cài đặt dựa trên giao diện JavaBeans <ul><li>Mở rộng giao diện java.beans.PropertyEditor</li></ul></li><li>Cài đặt Chuyển đổi Kiểu dữ liệu chung của Spring 3.0+</li></ul><h2 id="cac-tinh-huong-su-dung" tabindex="-1"><a class="header-anchor" href="#cac-tinh-huong-su-dung"><span>Các Tình huống Sử dụng</span></a></h2><table><thead><tr><th>Tình huống</th><th>Cài đặt Chuyển đổi Kiểu dữ liệu dựa trên JavaBeans</th><th>Cài đặt Chuyển đổi Kiểu dữ liệu chung của Spring 3.0+</th></tr></thead><tbody><tr><td>Data Binding</td><td>CÓ</td><td>CÓ</td></tr><tr><td>BeanWrapper</td><td>CÓ</td><td>CÓ</td></tr><tr><td>Chuyển đổi Kiểu dữ liệu thuộc tính Bean</td><td>CÓ</td><td>CÓ</td></tr><tr><td>Chuyển đổi Kiểu dữ liệu thuộc tính thuộc tính</td><td>CÓ</td><td>CÓ</td></tr><tr><td>Chuyển đổi Kiểu dữ liệu thuộc tính bên ngoài</td><td>KHÔNG</td><td>CÓ</td></tr></tbody></table><h2 id="cai-đat-chuyen-đoi-kieu-du-lieu-dua-tren-javabeans" tabindex="-1"><a class="header-anchor" href="#cai-đat-chuyen-đoi-kieu-du-lieu-dua-tren-javabeans"><span>Cài đặt Chuyển đổi Kiểu dữ liệu dựa trên JavaBeans</span></a></h2><p>Trách nhiệm cốt lõi</p><ul><li>Chuyển đổi nội dung kiểu String thành đối tượng kiểu mục tiêu</li></ul><p>Nguyên tắc mở rộng</p><ul><li>Spring Framework truyền nội dung văn bản vào phương thức setAsText(String) của PropertyEditor</li><li>Phương thức setAsText(String) của PropertyEditor thực hiện chuyển đổi kiểu String thành đối tượng kiểu mục tiêu</li><li>Đối tượng kiểu mục tiêu được truyền vào phương thức setValue(Object) của PropertyEditor</li><li>Phương thức setValue(Object) của PropertyEditor thực hiện lưu trữ tạm thời đối tượng được truyền vào</li><li>Spring Framework lấy đối tượng đã chuyển đổi kiểu bằng cách gọi getValue() của PropertyEditor</li></ul><h2 id="cac-propertyeditor-mac-đinh-cua-spring" tabindex="-1"><a class="header-anchor" href="#cac-propertyeditor-mac-đinh-cua-spring"><span>Các PropertyEditor mặc định của Spring</span></a></h2><p>Các PropertyEditor mặc định (trong gói org.springframework.beans.propertyeditors)</p><table><thead><tr><th>Tình huống chuyển đổi</th><th>Lớp cài đặt</th></tr></thead><tbody><tr><td>String -&gt; Mảng Byte</td><td>org.springframework.beans.propertyeditors.ByteArrayPropertyEditor</td></tr><tr><td>String -&gt; Char</td><td>org.springframework.beans.propertyeditors.CharacterEditor</td></tr><tr><td>String -&gt; Mảng Char</td><td>org.springframework.beans.propertyeditors.CharArrayPropertyEditor</td></tr><tr><td>String -&gt; Charset</td><td>org.springframework.beans.propertyeditors.CharsetEditor</td></tr><tr><td>String -&gt; Class</td><td>org.springframework.beans.propertyeditors.ClassEditor</td></tr><tr><td>String -&gt; Tiền tệ (Currency)</td><td>org.springframework.beans.propertyeditors.CurrencyEditor</td></tr><tr><td></td><td></td></tr></tbody></table><h2 id="mo-rong-propertyeditor-tuy-chinh" tabindex="-1"><a class="header-anchor" href="#mo-rong-propertyeditor-tuy-chinh"><span>Mở rộng PropertyEditor tùy chỉnh</span></a></h2><p>Mô hình mở rộng</p><ul><li>Mở rộng lớp <code>java.beans.PropertyEditorSupport</code></li></ul><p>Cài đặt <code>org.springframework.beans.PropertyEditorRegistrar</code></p><ul><li>Triển khai phương thức <code>registerCustomEditors(org.springframework.beans.PropertyEditorRegistry)</code></li><li>Đăng ký triển khai <code>PropertyEditorRegistrar</code> như một Bean của Spring</li></ul><p>Đăng ký PropertyEditor tùy chỉnh với <code>org.springframework.beans.PropertyEditorRegistry</code></p><ul><li>Đăng ký chung các loại chuyển đổi bằng cách gọi <code>registerCustomEditor(Class&lt;?&gt;, PropertyEditor)</code></li><li>Đăng ký chuyển đổi kiểu thuộc tính Bean: <code>registerCustomEditor(Class&lt;?&gt;, String, PropertyEditor)</code></li></ul><h2 id="nhuoc-điem-cua-propertyeditor-trong-spring" tabindex="-1"><a class="header-anchor" href="#nhuoc-điem-cua-propertyeditor-trong-spring"><span>Nhược điểm của PropertyEditor trong Spring</span></a></h2><p>Vi phạm nguyên tắc đơn nhất trách nhiệm</p><ul><li>Giao diện <code>java.beans.PropertyEditor</code> có quá nhiều trách nhiệm, không chỉ là chuyển đổi kiểu, mà còn bao gồm sự kiện Java Beans và tương tác GUI Java</li></ul><p>Cài đặt <code>java.beans.PropertyEditor</code> có giới hạn về kiểu</p><ul><li>Chỉ hỗ trợ kiểu nguồn là <code>java.lang.String</code></li></ul><p>Cài đặt <code>java.beans.PropertyEditor</code> thiếu tính an toàn kiểu</p><ul><li>Ngoài việc đặt tên lớp cài đặt có thể diễn đạt ý nghĩa, lớp cài đặt không nhận biết được kiểu chuyển đổi mục tiêu</li></ul><h2 id="giao-dien-chuyen-đoi-kieu-chung-trong-spring-3" tabindex="-1"><a class="header-anchor" href="#giao-dien-chuyen-đoi-kieu-chung-trong-spring-3"><span>Giao diện chuyển đổi kiểu chung trong Spring 3</span></a></h2><p>Giao diện chuyển đổi kiểu - org.springframework.core.convert.converter.Converter&lt;S, T&gt;</p><ul><li>Tham số kiểu S: Kiểu nguồn, tham số kiểu T: Kiểu đích</li><li>Phương thức chính: T convert(S)</li></ul><p>Giao diện chuyển đổi kiểu chung - org.springframework.core.convert.converter.GenericConverter</p><ul><li>Phương thức chính: convert(Object, TypeDescriptor, TypeDescriptor)</li><li>Cặp kiểu: org.springframework.core.convert.converter.GenericConverter.ConvertiblePair</li><li>Miêu tả kiểu: org.springframework.core.convert.TypeDescriptor</li></ul><h2 id="bo-chuyen-đoi-kieu-đuoc-tich-hop-san-trong-spring" tabindex="-1"><a class="header-anchor" href="#bo-chuyen-đoi-kieu-đuoc-tich-hop-san-trong-spring"><span>Bộ chuyển đổi kiểu được tích hợp sẵn trong Spring</span></a></h2><p>Các phần mở rộng tích hợp sẵn</p><table><thead><tr><th>Tình huống chuyển đổi</th><th>Gói chứa lớp thực hiện</th></tr></thead><tbody><tr><td>Liên quan đến ngày/tháng</td><td>org.springframework.format.datetime</td></tr><tr><td>Liên quan đến ngày/tháng trong Java 8</td><td>org.springframework.format.datetime.standard</td></tr><tr><td>Thực hiện chung</td><td>org.springframework.core.convert.support</td></tr></tbody></table><h2 id="han-che-cua-giao-dien-converter" tabindex="-1"><a class="header-anchor" href="#han-che-cua-giao-dien-converter"><span>Hạn chế của giao diện Converter</span></a></h2><p>Hạn chế thứ nhất: Thiếu kiểm tra trước kiểu nguồn và kiểu đích</p><ul><li>Giải pháp: Thêm giao diện org.springframework.core.convert.converter.ConditionalConverter</li></ul><p>Hạn chế thứ hai: Chỉ có thể chuyển đổi từng kiểu nguồn và kiểu đích duy nhất</p><ul><li>Giải pháp: Sử dụng giao diện org.springframework.core.convert.converter.GenericConverter thay thế</li></ul><h2 id="giao-dien-genericconverter" tabindex="-1"><a class="header-anchor" href="#giao-dien-genericconverter"><span>Giao diện GenericConverter</span></a></h2><p><code>org.springframework.core.convert.converter.GenericConverter</code></p><table><thead><tr><th>Yếu tố chính</th><th>Mô tả</th></tr></thead><tbody><tr><td>Tình huống sử dụng</td><td>Dùng cho tình huống chuyển đổi kiểu &quot;phức tạp&quot;, ví dụ như Collection, Map, mảng, v.v.</td></tr><tr><td>Phạm vi chuyển đổi</td><td><code>Set&lt;ConvertiblePair&gt; getConvertibleTypes()</code></td></tr><tr><td>Cặp kiểu</td><td><code>org.springframework.core.convert.converter.GenericConverter.ConvertiblePair</code></td></tr><tr><td>Phương thức chuyển đổi</td><td><code>convert(Object,TypeDescriptor,TypeDescriptor)</code></td></tr><tr><td>Miêu tả kiểu</td><td><code>org.springframework.core.convert.TypeDescriptor</code></td></tr></tbody></table><h2 id="toi-uu-hoa-giao-dien-genericconverter" tabindex="-1"><a class="header-anchor" href="#toi-uu-hoa-giao-dien-genericconverter"><span>Tối ưu hóa giao diện GenericConverter</span></a></h2><p>Hạn chế của GenericConverter</p><ul><li>Thiếu kiểm tra trước kiểu nguồn và kiểu đích</li><li>Cài đặt chuyển đổi đơn giản nhưng phức tạp</li></ul><p>Giao diện tối ưu hóa của GenericConverter - <code>ConditionalGenericConverter</code></p><ul><li>Chuyển đổi kiểu phức tạp: <code>org.springframework.core.convert.converter.GenericConverter</code></li><li>Kiểm tra điều kiện kiểu: <code>org.springframework.core.convert.converter.ConditionalConverter</code></li></ul><h2 id="mo-rong-trinh-chuyen-đoi-kieu-trong-spring" tabindex="-1"><a class="header-anchor" href="#mo-rong-trinh-chuyen-đoi-kieu-trong-spring"><span>Mở rộng trình chuyển đổi kiểu trong Spring</span></a></h2><p>Cài đặt giao diện chuyển đổi</p><ul><li><code>org.springframework.core.convert.converter.Converter</code></li><li><code>org.springframework.core.convert.converter.ConverterFactory</code></li><li><code>org.springframework.core.convert.converter.GenericConverter</code></li></ul><p>Đăng ký cài đặt chuyển đổi</p><ul><li>Sử dụng Spring Bean <code>ConversionServiceFactoryBean</code></li><li>Sử dụng API <code>org.springframework.core.convert.ConversionService</code></li></ul><h2 id="dich-vu-chuyen-đoi-kieu-thong-nhat" tabindex="-1"><a class="header-anchor" href="#dich-vu-chuyen-đoi-kieu-thong-nhat"><span>Dịch vụ chuyển đổi kiểu thống nhất</span></a></h2><p><code>org.springframework.core.convert.ConversionService</code></p><table><thead><tr><th>Loại cài đặt</th><th>Mô tả</th></tr></thead><tbody><tr><td><code>GenericConversionService</code></td><td>Cài đặt mẫu ConversionService chung, không cài đặt chuyển đổi sẵn</td></tr><tr><td><code>DefaultConversionService</code></td><td>Cài đặt cơ bản của ConversionService, cài đặt chuyển đổi thông dụng</td></tr><tr><td><code>FormattingConversionService</code></td><td>Cài đặt Formatter + GenericConversionService chung, không cài đặt chuyển đổi và Formatter sẵn có</td></tr><tr><td><code>DefaultFormattingConversionService</code></td><td>Cài đặt DefaultConversionService + định dạng (ví dụ: JSR-354 Money &amp; Currency, JSR-310 Date-Time)</td></tr></tbody></table><h2 id="conversionservice-nhu-mot-phu-thuoc" tabindex="-1"><a class="header-anchor" href="#conversionservice-nhu-mot-phu-thuoc"><span>ConversionService như một phụ thuộc</span></a></h2><p>Giao diện trình chuyển đổi kiểu cơ bản - <code>org.springframework.beans.TypeConverter</code></p><ul><li>Phiên bản bắt đầu: Spring 2.0</li><li>Phương thức chính - convertIfNecessary (phương thức nạp chồng)</li><li>Cài đặt trừu tượng - <code>org.springframework.beans.TypeConverterSupport</code></li><li>Cài đặt đơn giản - <code>org.springframework.beans.SimpleTypeConverter</code></li></ul><p>Cài đặt trừu tượng trình chuyển đổi kiểu - <code>org.springframework.beans.TypeConverterSupport</code></p><ul><li>Cài đặt giao diện - <code>org.springframework.beans.TypeConverter</code></li><li>Cài đặt mở rộng - <code>org.springframework.beans.PropertyEditorRegistrySupport</code></li><li>Cài đặt ủy quyền - <code>org.springframework.beans.TypeConverterDelegate</code></li></ul><p>Cài đặt ủy quyền trình chuyển đổi kiểu - <code>org.springframework.beans.TypeConverterDelegate</code></p><ul><li>Xây dựng nguồn - Cài đặt <code>org.springframework.beans.AbstractNestablePropertyAccessor</code><ul><li><code>org.springframework.beans.BeanWrapperImpl</code></li></ul></li><li>Phụ thuộc - Cài đặt <code>java.beans.PropertyEditor</code><ul><li>Cài đặt mặc định tích hợp sẵn - <code>PropertyEditorRegistrySupport#registerDefaultEditors</code></li></ul></li><li>Phụ thuộc tùy chọn - Cài đặt <code>org.springframework.core.convert.ConversionService</code></li></ul><h2 id="cau-hoi" tabindex="-1"><a class="header-anchor" href="#cau-hoi"><span>Câu hỏi</span></a></h2><p><strong>Spring có những cách để thực hiện chuyển đổi kiểu dữ liệu nào?</strong></p><ul><li>Thực hiện dựa trên giao diện JavaBeans PropertyEditor.</li><li>Thực hiện chuyển đổi kiểu dữ liệu chung từ Spring 3.0 trở lên.</li></ul><p><strong>Spring có những giao diện chuyển đổi kiểu dữ liệu nào?</strong></p><ul><li>Giao diện chuyển đổi kiểu dữ liệu - <code>org.springframework.core.convert.converter.Converter</code></li><li>Giao diện chuyển đổi kiểu dữ liệu chung - <code>org.springframework.core.convert.converter.GenericConverter</code></li><li>Giao diện điều kiện kiểu dữ liệu - <code>org.springframework.core.convert.converter.ConditionalConverter</code></li><li>Giao diện chuyển đổi kiểu dữ liệu tổng hợp - <code>org.springframework.core.convert.converter.ConditionalGenericConverter</code></li></ul>',68),c=[o];function a(h,d){return r(),t("div",null,c)}const g=n(i,[["render",a],["__file","type-conversion.html.vue"]]),p=JSON.parse('{"path":"/framework/spring/core/type-conversion.html","title":"Spring Type Conversion","lang":"en-US","frontmatter":{"title":"Spring Type Conversion","tags":["spring","java","backend"],"categories":["spring","java","backend"],"date created":"2023-07-26T00:00:00.000Z","date modified":"2023-07-26T00:00:00.000Z","order":14,"description":"Chuyển đổi kiểu dữ liệu trong Spring Cài đặt Chuyển đổi Kiểu dữ liệu của Spring Cài đặt dựa trên giao diện JavaBeans Mở rộng giao diện java.beans.PropertyEditor Cài đặt Chuyển đ...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/framework/spring/core/type-conversion.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Spring Type Conversion"}],["meta",{"property":"og:description","content":"Chuyển đổi kiểu dữ liệu trong Spring Cài đặt Chuyển đổi Kiểu dữ liệu của Spring Cài đặt dựa trên giao diện JavaBeans Mở rộng giao diện java.beans.PropertyEditor Cài đặt Chuyển đ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"spring"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"backend"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spring Type Conversion\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Cài đặt Chuyển đổi Kiểu dữ liệu của Spring","slug":"cai-đat-chuyen-đoi-kieu-du-lieu-cua-spring","link":"#cai-đat-chuyen-đoi-kieu-du-lieu-cua-spring","children":[]},{"level":2,"title":"Các Tình huống Sử dụng","slug":"cac-tinh-huong-su-dung","link":"#cac-tinh-huong-su-dung","children":[]},{"level":2,"title":"Cài đặt Chuyển đổi Kiểu dữ liệu dựa trên JavaBeans","slug":"cai-đat-chuyen-đoi-kieu-du-lieu-dua-tren-javabeans","link":"#cai-đat-chuyen-đoi-kieu-du-lieu-dua-tren-javabeans","children":[]},{"level":2,"title":"Các PropertyEditor mặc định của Spring","slug":"cac-propertyeditor-mac-đinh-cua-spring","link":"#cac-propertyeditor-mac-đinh-cua-spring","children":[]},{"level":2,"title":"Mở rộng PropertyEditor tùy chỉnh","slug":"mo-rong-propertyeditor-tuy-chinh","link":"#mo-rong-propertyeditor-tuy-chinh","children":[]},{"level":2,"title":"Nhược điểm của PropertyEditor trong Spring","slug":"nhuoc-điem-cua-propertyeditor-trong-spring","link":"#nhuoc-điem-cua-propertyeditor-trong-spring","children":[]},{"level":2,"title":"Giao diện chuyển đổi kiểu chung trong Spring 3","slug":"giao-dien-chuyen-đoi-kieu-chung-trong-spring-3","link":"#giao-dien-chuyen-đoi-kieu-chung-trong-spring-3","children":[]},{"level":2,"title":"Bộ chuyển đổi kiểu được tích hợp sẵn trong Spring","slug":"bo-chuyen-đoi-kieu-đuoc-tich-hop-san-trong-spring","link":"#bo-chuyen-đoi-kieu-đuoc-tich-hop-san-trong-spring","children":[]},{"level":2,"title":"Hạn chế của giao diện Converter","slug":"han-che-cua-giao-dien-converter","link":"#han-che-cua-giao-dien-converter","children":[]},{"level":2,"title":"Giao diện GenericConverter","slug":"giao-dien-genericconverter","link":"#giao-dien-genericconverter","children":[]},{"level":2,"title":"Tối ưu hóa giao diện GenericConverter","slug":"toi-uu-hoa-giao-dien-genericconverter","link":"#toi-uu-hoa-giao-dien-genericconverter","children":[]},{"level":2,"title":"Mở rộng trình chuyển đổi kiểu trong Spring","slug":"mo-rong-trinh-chuyen-đoi-kieu-trong-spring","link":"#mo-rong-trinh-chuyen-đoi-kieu-trong-spring","children":[]},{"level":2,"title":"Dịch vụ chuyển đổi kiểu thống nhất","slug":"dich-vu-chuyen-đoi-kieu-thong-nhat","link":"#dich-vu-chuyen-đoi-kieu-thong-nhat","children":[]},{"level":2,"title":"ConversionService như một phụ thuộc","slug":"conversionservice-nhu-mot-phu-thuoc","link":"#conversionservice-nhu-mot-phu-thuoc","children":[]},{"level":2,"title":"Câu hỏi","slug":"cau-hoi","link":"#cau-hoi","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":4.68,"words":1403},"filePathRelative":"framework/spring/core/type-conversion.md","localizedDate":"June 28, 2024","excerpt":"\\n<h2>Cài đặt Chuyển đổi Kiểu dữ liệu của Spring</h2>\\n<ul>\\n<li>Cài đặt dựa trên giao diện JavaBeans\\n<ul>\\n<li>Mở rộng giao diện java.beans.PropertyEditor</li>\\n</ul>\\n</li>\\n<li>Cài đặt Chuyển đổi Kiểu dữ liệu chung của Spring 3.0+</li>\\n</ul>\\n<h2>Các Tình huống Sử dụng</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>Tình huống</th>\\n<th>Cài đặt Chuyển đổi Kiểu dữ liệu dựa trên JavaBeans</th>\\n<th>Cài đặt Chuyển đổi Kiểu dữ liệu chung của Spring 3.0+</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>Data Binding</td>\\n<td>CÓ</td>\\n<td>CÓ</td>\\n</tr>\\n<tr>\\n<td>BeanWrapper</td>\\n<td>CÓ</td>\\n<td>CÓ</td>\\n</tr>\\n<tr>\\n<td>Chuyển đổi Kiểu dữ liệu thuộc tính Bean</td>\\n<td>CÓ</td>\\n<td>CÓ</td>\\n</tr>\\n<tr>\\n<td>Chuyển đổi Kiểu dữ liệu thuộc tính thuộc tính</td>\\n<td>CÓ</td>\\n<td>CÓ</td>\\n</tr>\\n<tr>\\n<td>Chuyển đổi Kiểu dữ liệu thuộc tính bên ngoài</td>\\n<td>KHÔNG</td>\\n<td>CÓ</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}');export{g as comp,p as data};
