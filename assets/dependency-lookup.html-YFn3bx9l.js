import{_ as t,o as e,c as n,d as i}from"./app-DELCaB9c.js";const o={},c=i('<h1 id="tim-kiem-phu-thuoc-trong-spring" tabindex="-1"><a class="header-anchor" href="#tim-kiem-phu-thuoc-trong-spring"><span>Tìm kiếm phụ thuộc trong Spring</span></a></h1><p><strong>Tìm kiếm phụ thuộc là cách tìm kiếm phụ thuộc theo cách chủ động hoặc thủ công, thường cần phụ thuộc vào container hoặc API tiêu chuẩn để thực hiện</strong>.</p><p>Tìm kiếm phụ thuộc trong IoC có thể được chia thành các loại sau:</p><ul><li>Tìm kiếm theo tên Bean</li><li>Tìm kiếm theo kiểu Bean</li><li>Tìm kiếm theo tên Bean + kiểu Bean</li><li>Tìm kiếm theo chú thích Java</li></ul><p>Ngoài ra, tùy thuộc vào đối tượng Bean được tìm kiếm là đối tượng duy nhất hay tập hợp, và liệu có cần tìm kiếm chậm hay không, có các API khác nhau tương ứng.</p><h2 id="tim-kiem-theo-kieu-đoi-tuong-duy-nhat" tabindex="-1"><a class="header-anchor" href="#tim-kiem-theo-kieu-đoi-tuong-duy-nhat"><span>Tìm kiếm theo kiểu đối tượng duy nhất</span></a></h2><p>Giao diện tìm kiếm theo kiểu đối tượng duy nhất - <code>BeanFactory</code></p><ul><li>Tìm kiếm theo tên Bean <ul><li><code>getBean(String)</code></li><li>Spring 2.5 ghi đè tham số mặc định: <code>getBean(String, Object…)</code></li></ul></li><li>Tìm kiếm theo kiểu Bean <ul><li>Tìm kiếm Bean theo thời gian thực <ul><li>Spring 3.0 <code>getBean(Class)</code></li><li>Spring 4.1 ghi đè tham số mặc định: <code>getBean(Class, Object…)</code></li></ul></li><li>Tìm kiếm Bean theo thời gian chậm trong Spring 5.1 <ul><li><code>getBeanProvider(Class)</code></li><li><code>getBeanProvider(ResolvableType)</code></li></ul></li></ul></li><li>Tìm kiếm theo tên Bean + kiểu Bean: <code>getBean(String, Class)</code></li></ul><h2 id="tim-kiem-theo-kieu-tap-hop-đoi-tuong" tabindex="-1"><a class="header-anchor" href="#tim-kiem-theo-kieu-tap-hop-đoi-tuong"><span>Tìm kiếm theo kiểu tập hợp đối tượng</span></a></h2><p>Giao diện tìm kiếm theo kiểu tập hợp đối tượng - <code>ListableBeanFactory</code></p><ul><li>Tìm kiếm theo kiểu Bean <ul><li>Lấy danh sách tên Bean cùng kiểu <ul><li><code>getBeanNamesForType(Class)</code></li><li>Spring 4.2 ghi đè tham số mặc định: <code>getBeanNamesForType(ResolvableType)</code></li></ul></li><li>Lấy danh sách các đối tượng Bean cùng kiểu <ul><li><code>getBeansOfType(Class)</code> và các phương thức tương tự</li></ul></li></ul></li><li>Tìm kiếm theo chú thích kiểu <ul><li>Lấy danh sách tên Bean có chú thích kiểu <ul><li><code>getBeanNamesForAnnotation(Class&lt;? extends Annotation&gt;)</code></li></ul></li><li>Lấy danh sách các đối tượng Bean có chú thích kiểu <ul><li><code>getBeansWithAnnotation(Class&lt;? extends Annotation&gt;)</code></li></ul></li><li>Lấy đối tượng chú thích kiểu cụ thể cho Bean có tên cụ thể <ul><li><code>findAnnotationOnBean(String, Class&lt;? extends Annotation&gt;)</code></li></ul></li></ul></li></ul><h2 id="tim-kiem-theo-cau-truc-phu-thuoc" tabindex="-1"><a class="header-anchor" href="#tim-kiem-theo-cau-truc-phu-thuoc"><span>Tìm kiếm theo cấu trúc phụ thuộc</span></a></h2><p>Giao diện tìm kiếm theo cấu trúc phụ thuộc - <code>HierarchicalBeanFactory</code></p><ul><li>BeanFactory cha: <code>getParentBeanFactory()</code></li><li>Tìm kiếm theo cấu trúc <ul><li>Tìm kiếm theo tên Bean <ul><li>Dựa trên phương thức <code>containsLocalBean</code></li></ul></li><li>Tìm kiếm danh sách các đối tượng Bean cùng kiểu <ul><li>Kiểu đơn: <code>BeanFactoryUtils#beanOfType</code></li><li>Kiểu tập hợp: <code>BeanFactoryUtils#beansOfTypeIncludingAncestors</code></li></ul></li><li>Tìm kiếm danh sách tên Bean dựa trên chú thích Java <ul><li><code>BeanFactoryUtils#beanNamesForTypeIncludingAncestors</code></li></ul></li></ul></li></ul><h2 id="tim-kiem-phu-thuoc-luoi-bieng" tabindex="-1"><a class="header-anchor" href="#tim-kiem-phu-thuoc-luoi-bieng"><span>Tìm kiếm phụ thuộc lười biếng</span></a></h2><p>Giao diện tìm kiếm phụ thuộc lười biếng của Bean</p><ul><li><code>org.springframework.beans.factory.ObjectFactory</code></li><li><code>org.springframework.beans.factory.ObjectProvider</code> (Mở rộng tính năng Java 8 cho Spring 5)</li><li>Giao diện hàm <ul><li><code>getIfAvailable(Supplier)</code></li><li><code>ifAvailable(Consumer)</code></li></ul></li><li>Mở rộng Stream - stream()</li></ul><h2 id="tim-kiem-phu-thuoc-an-toan" tabindex="-1"><a class="header-anchor" href="#tim-kiem-phu-thuoc-an-toan"><span>Tìm kiếm phụ thuộc an toàn</span></a></h2><table><thead><tr><th>Loại tìm kiếm phụ thuộc</th><th>Cài đặt đại diện</th><th>An toàn</th></tr></thead><tbody><tr><td>Tìm kiếm theo kiểu đơn</td><td><code>BeanFactory#getBean</code></td><td>Không</td></tr><tr><td></td><td><code>ObjectFactory#getObject</code></td><td>Không</td></tr><tr><td></td><td><code>ObjectProvider#getIfAvailable</code></td><td>Có</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Tìm kiếm theo kiểu tập</td><td><code>ListableBeanFactory#getBeansOfType</code></td><td>Có</td></tr><tr><td></td><td><code>ObjectProvider#stream</code></td><td>Có</td></tr></tbody></table><p>Lưu ý: Sự an toàn của tìm kiếm phụ thuộc theo cấu trúc phụ thuộc vào giao diện <code>BeanFactory</code> mà nó mở rộng, đơn lẻ hoặc tập hợp.</p><h2 id="phu-thuoc-co-san-đuoc-tim-kiem" tabindex="-1"><a class="header-anchor" href="#phu-thuoc-co-san-đuoc-tim-kiem"><span>Phụ thuộc có sẵn được tìm kiếm</span></a></h2><p>Phụ thuộc có sẵn được tìm kiếm trong <code>AbstractApplicationContext</code></p><table><thead><tr><th>Bean</th><th>Tên Bean</th><th>Sử dụng trong mã lệnh</th></tr></thead><tbody><tr><td>environment</td><td>Đối tượng Environment</td><td>Cấu hình bên ngoài và Profiles</td></tr><tr><td>systemProperties</td><td>Đối tượng java.util.Properties</td><td>Thuộc tính hệ thống Java</td></tr><tr><td>systemEnvironment</td><td>Đối tượng java.util.Map</td><td>Biến môi trường hệ điều hành</td></tr><tr><td>messageSource</td><td>Đối tượng MessageSource</td><td>Văn bản đa ngôn ngữ</td></tr><tr><td>lifecycleProcessor</td><td>Đối tượng LifecycleProcessor</td><td>Xử lý Bean Lifecycle</td></tr><tr><td>applicationEventMulticaster</td><td>Đối tượng ApplicationEventMulticaster</td><td>Truyền tải sự kiện Spring</td></tr></tbody></table><p>Phụ thuộc có sẵn được tìm kiếm trong ApplicationContext dựa trên chú thích (một phần)</p><table><thead><tr><th>Tên Bean</th><th>Đối tượng Bean</th><th>Sử dụng trong mã lệnh</th></tr></thead><tbody><tr><td>org.springframework.context.annotation.internalConfigurationAnnotationProcessor</td><td>Đối tượng ConfigurationClassPostProcessor</td><td>Xử lý các lớp cấu hình Spring</td></tr><tr><td>org.springframework.context.annotation.internalAutowiredAnnotationProcessor</td><td>Đối tượng AutowiredAnnotationBeanPostProcessor</td><td>Xử lý các chú thích @Autowired và @Value</td></tr><tr><td>org.springframework.context.annotation.internalCommonAnnotationProcessor</td><td>Đối tượng CommonAnnotationBeanPostProcessor</td><td>(Kích hoạt điều kiện) Xử lý các chú thích JSR-250 như @PostConstruct</td></tr><tr><td>org.springframework.context.event.internalEventListenerProcessor</td><td>Đối tượng EventListenerMethodProcessor</td><td>Xử lý các phương thức lắng nghe sự kiện Spring được chú thích bằng @EventListener</td></tr><tr><td>org.springframework.context.event.internalEventListenerFactory</td><td>Đối tượng DefaultEventListenerFactory</td><td>Chuyển đổi phương thức lắng nghe sự kiện @EventListener thành ApplicationListener</td></tr><tr><td>org.springframework.context.annotation.internalPersistenceAnnotationProcessor</td><td>Đối tượng PersistenceAnnotationBeanPostProcessor</td><td>(Kích hoạt điều kiện) Xử lý các chú thích JPA</td></tr></tbody></table><h2 id="cac-ngoai-le-kinh-đien-trong-tim-kiem-phu-thuoc" tabindex="-1"><a class="header-anchor" href="#cac-ngoai-le-kinh-đien-trong-tim-kiem-phu-thuoc"><span>Các ngoại lệ kinh điển trong tìm kiếm phụ thuộc</span></a></h2><p>Các lớp con của <code>BeansException</code></p><table><thead><tr><th>Loại ngoại lệ</th><th>Điều kiện kích hoạt (ví dụ)</th><th>Ví dụ tình huống</th></tr></thead><tbody><tr><td><code>NoSuchBeanDefinitionException</code></td><td>Khi tìm kiếm Bean không tồn tại trong container</td><td><code>BeanFactory#getBeanObjectFactory#getObject</code></td></tr><tr><td><code>NoUniqueBeanDefinitionException</code></td><td>Khi tìm kiếm theo kiểu Bean, container có nhiều hơn</td><td><code>BeanFactory#getBean(Class)</code></td></tr><tr><td><code>BeanInstantiationException</code></td><td>Khi Bean tương ứng với kiểu không phải là lớp cụ thể</td><td><code>BeanFactory#getBean</code></td></tr><tr><td><code>BeanCreationException</code></td><td>Khi khởi tạo Bean</td><td>Lỗi khi thực hiện phương thức khởi tạo Bean</td></tr><tr><td><code>BeanDefinitionStoreException</code></td><td>Khi cấu hình <code>BeanDefinition</code> không hợp lệ</td><td>Không thể mở tài nguyên cấu hình XML</td></tr></tbody></table>',28),h=[c];function a(r,d){return e(),n("div",null,h)}const u=t(o,[["render",a],["__file","dependency-lookup.html.vue"]]),m=JSON.parse('{"path":"/framework/spring/core/dependency-lookup.html","title":"Spring Dependency Lookup","lang":"en-US","frontmatter":{"title":"Spring Dependency Lookup","tags":["spring","java","backend"],"categories":["spring","java","backend"],"date created":"2023-07-26T00:00:00.000Z","date modified":"2023-07-26T00:00:00.000Z","order":3,"description":"Tìm kiếm phụ thuộc trong Spring Tìm kiếm phụ thuộc là cách tìm kiếm phụ thuộc theo cách chủ động hoặc thủ công, thường cần phụ thuộc vào container hoặc API tiêu chuẩn để thực hi...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/framework/spring/core/dependency-lookup.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Spring Dependency Lookup"}],["meta",{"property":"og:description","content":"Tìm kiếm phụ thuộc trong Spring Tìm kiếm phụ thuộc là cách tìm kiếm phụ thuộc theo cách chủ động hoặc thủ công, thường cần phụ thuộc vào container hoặc API tiêu chuẩn để thực hi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"spring"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"backend"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spring Dependency Lookup\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Tìm kiếm theo kiểu đối tượng duy nhất","slug":"tim-kiem-theo-kieu-đoi-tuong-duy-nhat","link":"#tim-kiem-theo-kieu-đoi-tuong-duy-nhat","children":[]},{"level":2,"title":"Tìm kiếm theo kiểu tập hợp đối tượng","slug":"tim-kiem-theo-kieu-tap-hop-đoi-tuong","link":"#tim-kiem-theo-kieu-tap-hop-đoi-tuong","children":[]},{"level":2,"title":"Tìm kiếm theo cấu trúc phụ thuộc","slug":"tim-kiem-theo-cau-truc-phu-thuoc","link":"#tim-kiem-theo-cau-truc-phu-thuoc","children":[]},{"level":2,"title":"Tìm kiếm phụ thuộc lười biếng","slug":"tim-kiem-phu-thuoc-luoi-bieng","link":"#tim-kiem-phu-thuoc-luoi-bieng","children":[]},{"level":2,"title":"Tìm kiếm phụ thuộc an toàn","slug":"tim-kiem-phu-thuoc-an-toan","link":"#tim-kiem-phu-thuoc-an-toan","children":[]},{"level":2,"title":"Phụ thuộc có sẵn được tìm kiếm","slug":"phu-thuoc-co-san-đuoc-tim-kiem","link":"#phu-thuoc-co-san-đuoc-tim-kiem","children":[]},{"level":2,"title":"Các ngoại lệ kinh điển trong tìm kiếm phụ thuộc","slug":"cac-ngoai-le-kinh-đien-trong-tim-kiem-phu-thuoc","link":"#cac-ngoai-le-kinh-đien-trong-tim-kiem-phu-thuoc","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":3.55,"words":1066},"filePathRelative":"framework/spring/core/dependency-lookup.md","localizedDate":"June 28, 2024","excerpt":"\\n<p><strong>Tìm kiếm phụ thuộc là cách tìm kiếm phụ thuộc theo cách chủ động hoặc thủ công, thường cần phụ thuộc vào container hoặc API tiêu chuẩn để thực hiện</strong>.</p>\\n<p>Tìm kiếm phụ thuộc trong IoC có thể được chia thành các loại sau:</p>\\n<ul>\\n<li>Tìm kiếm theo tên Bean</li>\\n<li>Tìm kiếm theo kiểu Bean</li>\\n<li>Tìm kiếm theo tên Bean + kiểu Bean</li>\\n<li>Tìm kiếm theo chú thích Java</li>\\n</ul>","autoDesc":true}');export{u as comp,m as data};
