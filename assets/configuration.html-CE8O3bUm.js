import{_ as s,o as n,c as i,d as a}from"./app-BdwADm4z.js";const l={},t=a(`<h1 id="cau-hinh-mysql" tabindex="-1"><a class="header-anchor" href="#cau-hinh-mysql"><span>Cấu hình MySQL</span></a></h1><blockquote><p>Phiên bản: <img src="https://img.shields.io/badge/mysql-8.0-blue" alt="mysql" loading="lazy"></p></blockquote><h2 id="cau-hinh-co-ban" tabindex="-1"><a class="header-anchor" href="#cau-hinh-co-ban"><span>Cấu hình cơ bản</span></a></h2><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># GENERAL</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">datadir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">pid_file</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.pid</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">user</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">port</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">default_storage_engine</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">default_time_zone</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;+8：00&#39;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">character_set_server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> utf8mb4</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">collation_server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> utf8mb4_0900_ai_ci</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># LOG</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log_error</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/log/mysql/mysql-error.log</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">slow_query_log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">slow_query_log_file</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/log/mysql/mysql-slow.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># InnoDB</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &lt;giá trị&gt;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_file_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &lt;giá trị&gt;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_file_per_table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_flush_method</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> O_DIRECT</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># MyIsam</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">key_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &lt;giá trị&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># OTHER</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">tmp_table_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_heap_table_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 32M</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_connections</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &lt;giá trị&gt;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">open_files_limit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 65535</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">port</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3306</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="giai-thich-cac-cau-hinh" tabindex="-1"><a class="header-anchor" href="#giai-thich-cac-cau-hinh"><span>Giải thích các cấu hình</span></a></h2><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[client]</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số hiệu cổng dịch vụ, mặc định là 3306</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">port</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tập tin socket</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># GENERAL</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tập tin socket</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tập tin PID</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">pid_file</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.pid</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Người dùng chạy tiến trình dịch vụ mysql</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">user</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số hiệu cổng dịch vụ, mặc định là 3306</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">port</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3306</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Múi giờ mặc định</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">default_time_zone</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;+8：00&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># ID dịch vụ MySQL, không cần thiết khi chỉ có một dịch vụ đơn lẻ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">server-id</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình cách cô lập giao dịch, mặc định là REPEATABLE-READ (có thể gây ra khóa khoảng trống và ảnh hưởng đến hiệu suất, nhưng việc thay đổi ảnh hưởng đến sao chép chính và khôi phục thảm họa, nên khuyến nghị thay đổi mã logic)</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Các mức cô lập có thể chọn: READ-UNCOMMITTED READ-COMMITTED REPEATABLE-READ SERIALIZABLE</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">transaction_isolation</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> REPEATABLE-READ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình thư mục</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thư mục cài đặt mysql</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">basedir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thư mục chứa dữ liệu mysql</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">datadir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thư mục tạm thời, ví dụ như load data infile sẽ sử dụng, thường là /tmp</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">tmpdir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /tmp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình động cơ cơ sở dữ liệu</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Mysql từ phiên bản 5.1 trở đi, mặc định sử dụng InnoDB</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">default_storage_engine</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Độ lớn bộ đệm bộ nhớ cho bảng tạm thời, mặc định InnoDB</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">default_tmp_storage_engine</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Độ lớn bộ nhớ tạm thời trên đĩa cho bảng tạm thời, mặc định InnoDB</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">internal_tmp_disk_storage_engine</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> InnoDB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình bộ ký tự</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bộ ký tự mặc định của cơ sở dữ liệu, hỗ trợ các biểu tượng cảm xúc đặc biệt (biểu tượng đặc biệt chiếm 4 byte)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">character_set_server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> utf8mb4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Quy tắc sắp xếp tương ứng với bộ ký tự cơ sở dữ liệu, hãy chắc chắn phù hợp với character_set_server</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">collation-server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> utf8mb4_0900_ai_ci</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đặt bộ ký tự khi kết nối client với mysql, tránh hiện tượng lỗi mã hóa</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># init_connect=&#39;SET NAMES utf8&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Có phân biệt chữ hoa chữ thường trong câu lệnh SQL hay không, mặc định là 0, 1 có nghĩa là không phân biệt</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">lower_case_table_names</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình kết nối cơ sở dữ liệu</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số kết nối tối đa, có thể đặt tối đa là 16384, thường xem xét một số tổng hợp dựa trên số người trực tuyến đồng thời, vì giá trị này không tốn nhiều tài nguyên hệ thống, nên khuyến nghị đặt trực tiếp là 10000</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu thường xuyên gặp thông báo lỗi &quot;Too Many Connections&quot; khi truy cập, bạn cần tăng giá trị này</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_connections</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 10000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 100, số lỗi kết nối tối đa, nếu có quá nhiều lỗi kết nối bị ngắt, máy chủ sẽ bị cấm kết nối. Để mở lại máy chủ, thực hiện: FLUSH HOST</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Xem xét khả năng chống lỗi trong trường hợp tải cao, khuyến nghị tăng giá trị này.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_connect_errors</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 10000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giới hạn số lượng tệp mở của MySQL, mặc định tối thiểu là 1024;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Khi open_files_limit chưa được cấu hình, so sánh giá trị max_connections * 5 và giá trị ulimit -n, sử dụng giá trị lớn hơn,</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Khi open_file_limit được cấu hình, so sánh giá trị open_files_limit và giá trị max_connections * 5, sử dụng giá trị lớn hơn.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Lưu ý: Vẫn có thể xảy ra thông báo lỗi Can&#39;t create a new thread; trong trường hợp này, quan sát giới hạn ulimit của hệ thống cat /proc/mysql process_number/limits, quan sát giới hạn ulimit của tiến trình.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu quá nhỏ, xem xét sửa bảng cấu hình hệ thống, /etc/security/limits.conf và /etc/security/limits.d/90-nproc.conf</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">open_files_limit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 65535</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình thời gian chờ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định của wait_timeout là 8 giờ, tham số interactive_timeout cần được cấu hình cùng để có hiệu lực</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Khi kết nối không hoạt động trong một khoảng thời gian nhất định (đơn vị: giây, ở đây là 1800 giây), nó sẽ bị đóng mạnh</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">interactive_timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1800</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">wait_timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1800</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Trong một khoảng thời gian ngắn trước khi MySQL tạm dừng phản hồi các yêu cầu mới, bao nhiêu yêu cầu có thể được lưu trữ trong ngăn xếp</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đề xuất của nhà sản xuất là back_log = 50 + (max_connections / 5), tối đa là 900</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">back_log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 900</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình trao đổi dữ liệu cơ sở dữ liệu</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số này giới hạn kích thước gói dữ liệu mà máy chủ có thể chấp nhận, nếu có các trường BLOB, đề nghị tăng giá trị này để tránh việc ghi hoặc cập nhật gặp lỗi. Có trường BLOB, đề nghị thay đổi thành 1024M</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_allowed_packet</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình bộ nhớ, bộ đệm và bộ đệm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước tối đa của bảng tạm thời trong bộ nhớ, mặc định là 16M, ở đây đặt thành 64M</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">tmp_table_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 64M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước tối đa của bảng tạm thời do người dùng tạo ra trong bộ nhớ, mặc định là 16M, thường được đặt cùng với tmp_table_size, giới hạn kích thước bảng tạm thời của người dùng.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu vượt quá giới hạn, MySQL sẽ tự động chuyển nó thành bảng MyISAM dựa trên đĩa, lưu trữ trong thư mục tmpdir được chỉ định, tăng tải IO, đề nghị tăng kích thước bộ nhớ, tăng giá trị này.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_heap_table_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 64M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Biểu thị xem phiên bản mysql có hỗ trợ bộ nhớ cache truy vấn hay không. ps: SHOW STATUS LIKE &#39;qcache%&#39;;, các biến trạng thái liên quan đến bộ nhớ cache.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># have_query_cache</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Biến hệ thống này điều khiển chức năng bộ nhớ cache truy vấn, 0 biểu thị tắt, 1 biểu thị bật, 2 biểu thị chỉ khi truy vấn được chỉ định SQL_CACHE mới được lưu vào bộ nhớ cache.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Xem xét kịch bản kinh doanh để quyết định xem có sử dụng bộ nhớ cache hay không, nếu không sử dụng, không cần cấu hình dưới đây.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Mysql8 không hỗ trợ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">query_cache_type</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1M, ưu điểm là bộ nhớ cache truy vấn có thể cải thiện tốc độ máy chủ đáng kể, nếu bạn có nhiều truy vấn giống nhau và ít khi thay đổi bảng.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nhược điểm: Trong trường hợp bảng thay đổi thường xuyên hoặc nếu câu truy vấn gốc của bạn không giống nhau mỗi lần, bộ nhớ cache truy vấn có thể làm giảm hiệu suất thay vì cải thiện hiệu suất.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Mysql8 không hỗ trợ</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">query_cache_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 64M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Chỉ có kết quả nhỏ hơn giá trị này mới được lưu vào bộ nhớ cache, bảo vệ bộ nhớ cache truy vấn, tránh một tập kết quả lớn ghi đè lên tất cả các kết quả truy vấn khác.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">query_cache_limit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước tối thiểu mà mỗi kết quả cache sẽ chiếm trong bộ nhớ, giá trị mặc định là 4kb, thường không cần điều chỉnh.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu giá trị Qcache_free_blocks quá lớn, có thể do giá trị query_cache_min_res_unit quá lớn, nên giảm nó xuống.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Ước tính giá trị query_cache_min_res_unit: (query_cache_size - Qcache_free_memory) / Qcache_queries_in_cache</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">query_cache_min_res_unit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4kb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước bộ nhớ được sử dụng cho việc ghi log lại trạng thái SQL của binlog trong mỗi giao dịch</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu bạn thường xuyên sử dụng các giao dịch lớn và nhiều khai báo, bạn có thể tăng giá trị này để có hiệu suất tốt hơn.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tất cả các trạng thái từ giao dịch đều được lưu trữ trong bộ nhớ đệm binlog và sau đó được ghi vào binlog sau khi giao dịch được gửi đi.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Khi giao dịch lớn hơn giá trị này, sẽ sử dụng tệp tạm trên đĩa để thay thế.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bộ đệm này được tạo ra khi giao dịch đầu tiên của mỗi kết nối được cập nhật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">binlog_cache_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình nhật ký</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình tập tin nhật ký, thường chỉ bật ba loại nhật ký, lỗi, truy vấn chậm, nhật ký nhị phân. Không bật nhật ký truy vấn thông thường.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nhật ký truy vấn thông thường, giá trị mặc định là off, không bật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">general_log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đường dẫn tập tin nhật ký truy vấn thông thường</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">general_log_file</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log/mysql-general.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Biến động toàn cục, giá trị mặc định là 3, phạm vi: 1-3</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Biểu thị thông tin nhật ký lỗi, 1: chỉ ghi lại thông tin lỗi; 2: ghi lại thông tin lỗi và cảnh báo; 3: ghi lại thông tin lỗi, cảnh báo và ghi chú thông thường.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log_error_verbosity</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tập tin nhật ký lỗi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log_error</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log/mysql-error.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bật ghi lại truy vấn chậm</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">slow_query_log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bật ghi lại truy vấn chậm khi thời gian đạt đến giá trị này mới ghi lại dữ liệu</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">long_query_time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Ghi lại truy vấn chậm chỉ khi số hàng kiểm tra đạt đến giá trị này</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">min_examined_row_limit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Mysql 5.6.5 mới, được sử dụng để chỉ định số lần truy vấn SQL không sử dụng chỉ mục được ghi lại trong slow log mỗi phút, giá trị mặc định là 0, không giới hạn.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log_throttle_queries_not_using_indexes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đường dẫn tập tin nhật ký truy vấn chậm</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">slow_query_log_file</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/log/mysql/mysql-slow.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bật ghi lại các truy vấn không sử dụng chỉ mục</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log-queries-not-using-indexes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bật ghi lại nhật ký nhị phân</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">log_bin</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log/mysql-bin.log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thời gian để xóa các nhật ký cũ, giá trị mặc định là 0, không tự động xóa.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">expire_logs_days</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Nếu nội dung ghi vào nhật ký nhị phân vượt quá giá trị này, nhật ký sẽ được cuộn. Bạn không thể đặt giá trị lớn hơn 1GB hoặc nhỏ hơn 4096 byte. Giá trị mặc định là 1GB.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_binlog_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1000M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Định dạng nhật ký nhị phân, có ba loại: STATEMENT, ROW, MIXED. Mysql 5.7.7 trở đi, giá trị mặc định đã thay đổi từ MIXED thành ROW</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Về vấn đề định dạng nhật ký nhị phân, vui lòng tham khảo tài liệu trên mạng</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">binlog_format</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> row</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số lần ghi vào nhật ký nhị phân trước khi đồng bộ hóa vào đĩa, giá trị mặc định là 1</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đề nghị đặt thành 1 để đảm bảo nhật ký nhị phân không bị mất sau khi khởi động lại MySQL.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># sync_binlog = 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình độ lớn của bộ nhớ đệm cho MyISAM</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Xác định kích thước bộ đệm chỉ mục, cho phép chia sẻ bộ đệm chỉ mục cho các luồng, không ảnh hưởng đến INNODB. Ảnh hưởng đáng kể đến hiệu suất của MyISAM.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Không nên đặt giá trị lớn hơn 30% dung lượng bộ nhớ có sẵn của bạn, vì một phần bộ nhớ cũng được sử dụng bởi hệ điều hành để đệm dòng dữ liệu</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Ngay cả khi bạn không sử dụng bảng MyISAM, bạn vẫn nên đặt ít nhất 8-64M bởi vì nó cũng sẽ được sử dụng bởi bảng tạm thời dựa trên đĩa nội bộ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 8M, giá trị đề nghị: Với 4GB RAM, đề nghị đặt 256M hoặc 384M. Lưu ý: Giá trị này càng lớn thì hiệu suất toàn bộ máy chủ càng giảm!</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">key_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 64M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Dành cho mỗi luồng quét MyISAM, xác định kích thước bộ đệm bộ đọc, mặc định là 128kb, đề nghị: 16G RAM đề nghị 1M, 4G: 128kb hoặc 256kb.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Lưu ý, bộ đệm này được cấp phát cho mỗi kết nối, vì vậy kích thước bộ đệm tổng cộng là 128kb * số kết nối; trong trường hợp cực đoan, 128kb * maxconnectiosns, sẽ rất lớn, vì vậy hãy xem xét số kết nối trung bình hàng ngày.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">read_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 262144</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Hỗ trợ cho bất kỳ cơ sở dữ liệu nào</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước bộ đệm đọc ngẫu nhiên MySQL, tăng kích thước để cải thiện hiệu suất.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 256kb; đề nghị: 16/32G RAM, đặt 512kb, các giá trị khác thường không thay đổi, nếu báo lỗi: Thread stack overrun, hãy tăng nó lên xem.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Lưu ý, mỗi luồng cấp phát không gian bộ nhớ, vì vậy tổng không gian bộ nhớ ... bạn hiểu rồi.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">read_rnd_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Sử dụng cho ORDER BY hoặc GROUP BY</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Hỗ trợ tất cả các động cơ, innodb và myisam có innodb_sort_buffer_size và myisam_sort_buffer_size riêng</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 256kb; đề nghị: 16/32G RAM, đặt 8M.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Lưu ý, mỗi luồng cấp phát không gian bộ nhớ, vì vậy tổng không gian bộ nhớ ... bạn hiểu rồi.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">sort_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thực hiện các liên kết toàn cục (full JOINs không có chỉ mục) được tối ưu hóa</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Các liên kết tương tự thường có hiệu suất rất kém trong hầu hết các trường hợp, nhưng việc tăng giá trị này có thể giảm bớt hiệu suất thay vì cải thiện hiệu suất.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tất cả các trạng thái từ các giao dịch đầu tiên của mỗi kết nối được lưu trữ trong bộ nhớ đệm và sau đó được ghi vào binlog sau khi giao dịch được gửi đi.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Khi giao dịch lớn hơn giá trị này, sẽ sử dụng tệp tạm trên đĩa để thay thế.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bộ đệm này được tạo ra khi giao dịch đầu tiên của mỗi kết nối được cập nhật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">join_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giới hạn số lượng bảng dữ liệu mà MySQL có thể mở, nếu có nhiều bảng trong cơ sở dữ liệu, hãy tăng giá trị này.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1400, tối đa là 2000, đề nghị giá trị mặc định.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">table_open_cache</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Bộ nhớ cache thông tin định nghĩa bảng, tăng tốc độ đọc thông tin bảng</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1400, tối đa là 2000, đề nghị giá trị mặc định.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">table_definition_cache</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1400</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số này được sử dụng để cải thiện khả năng mở rộng và hiệu suất của InnoDB.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1 hoặc 8, đề nghị: innodb_buffer_pool_size/innodb_buffer_pool_instances &gt;= 1G</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_instances</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số này được sử dụng để cải thiện khả năng mở rộng và hiệu suất của InnoDB.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1 hoặc 8, đề nghị: innodb_buffer_pool_size/innodb_buffer_pool_instances &gt;= 1G</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_chunk_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tải dữ liệu nóng vào bộ nhớ khi khởi động. Giá trị mặc định là bật.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_load_at_startup</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Ghi dữ liệu nóng vào đĩa cục bộ khi tắt. Giá trị mặc định là bật.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_dump_at_shutdown</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số lần quét LRU (Least Recently Used) trong mỗi giây, giá trị mặc định là 1024</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_lru_scan_depth</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1024</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thời gian chờ khi chờ tài nguyên giao dịch, đơn vị là giây, xem tình huống kinh doanh cụ thể, mặc định là 50, đề nghị xem tình huống kinh doanh.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_lock_wait_timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 60</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Được sử dụng để giới hạn số lượng hoạt động I/O của Innodb, đề nghị từ 100 đối với ổ cứng SATA, 200 đối với ổ cứng SAS10, 2000 đối với SSD, 50000 đối với fushion-io;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Hoặc sử dụng công cụ kiểm tra hiệu suất để lấy giá trị IOPS sau đó đặt giá trị IOPS/2.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_io_capacity</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là gấp đôi innodb_io_capacity. Đề nghị sử dụng giá trị IOPS sau khi kiểm tra bằng iometer.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_io_capacity_max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Điều khiển cách dữ liệu và nhật ký được ghi vào đĩa, ba chế độ: fdatasync (mặc định), O_DSYNC, O_DIRECT</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># fdatasync: dữ liệu, bộ đệm hệ thống -&gt; bộ đệm os -&gt; đĩa; nhật ký, bộ đệm hệ thống -&gt; bộ đệm os -&gt; đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># O_DSYNC: dữ liệu, bộ đệm hệ thống -&gt; bộ đệm os -&gt; đĩa; nhật ký, bộ đệm hệ thống -&gt; đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># O_DIRECT: dữ liệu, bộ đệm hệ thống -&gt; đĩa; nhật ký, bộ đệm hệ thống -&gt; bộ đệm os -&gt; đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là trống, đề nghị: sử dụng SAN hoặc raid, đề nghị sử dụng O_DIRECT mặc định trên môi trường sản xuất nếu bạn không hiểu kiểm tra.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_flush_method</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> O_DIRECT</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># MySQL 5.7 trở đi, mỗi bảng có một không gian bảng riêng.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1, bật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_file_per_table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đường dẫn thư mục undo log sử dụng cho InnoDB. Thường bằng với thư mục lưu trữ undo log.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là ./; tự cấu hình</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_directory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số lượng bảng không gian hoạt động được sử dụng bởi InnoDB, bằng số lượng tệp undo log. Bắt đầu từ 5.7.21, không còn sử dụng nữa</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 0, giá trị mặc định là không cần thiết.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_tablespaces</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Xác định số lượng đoạn ghi nhật ký undo được sử dụng bởi InnoDB. Bắt đầu từ 5.7.19, không còn sử dụng nữa.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 128, đề nghị giữ nguyên giá trị mặc định.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_logs</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Sử dụng để thu hẹp không gian undo log trực tuyến.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1G, đề nghị giữ nguyên giá trị mặc định.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_log_truncate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước tối đa của nhật ký undo. Giá trị mặc định là 1G, đề nghị giữ nguyên giá trị mặc định, không thay đổi.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_max_undo_log_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1G</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thư mục lưu trữ nhật ký phục hồi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_group_home_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước tệp nhật ký</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 48M, đề nghị điều chỉnh kích thước dựa trên dung lượng đĩa hệ thống và tốc độ tăng trưởng nhật ký</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_file_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số lượng tệp nhật ký trong nhóm, MySQL ghi nhật ký theo cách vòng lặp.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 2, đề nghị điều chỉnh kích thước dựa trên dung lượng đĩa hệ thống và tốc độ tăng trưởng nhật ký</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_files_in_group</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số này xác định kích thước bộ nhớ được sử dụng cho việc ghi log vào nhật ký, tính bằng M. Bộ đệm lớn hơn có thể cải thiện hiệu suất, nhưng dữ liệu sẽ bị mất nếu xảy ra sự cố không mong muốn. Nhà phát triển MySQL khuyến nghị đặt từ 1-8M.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 16M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Thời gian để đồng bộ hóa ghi log từ bộ đệm vào tệp nhật ký, tăng giá trị có thể giảm tải hệ thống</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1; đề nghị giữ nguyên giá trị mặc định. Hiệu suất hệ thống thông thường đ</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Cấu hình động cơ InnoDB</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># -------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Tham số này có thể nâng cao khả năng mở rộng và hiệu suất xóa trang bẩn.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1, đề xuất: 4-8; và phải nhỏ hơn innodb_buffer_pool_instances</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_page_cleaners</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Thông thường chọn giữa 8k và 16k, nếu chọn 8k thì tiêu thụ CPU ít hơn và hiệu suất truy vấn cao hơn, thường không cần thay đổi</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 16k; đề xuất: không thay đổi,</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_page_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 16384</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: InnoDB sử dụng một bộ đệm để lưu trữ chỉ mục và dữ liệu gốc, không giống như MyISAM. Khi bạn đặt giá trị này lớn hơn, bạn cần ít I/O đĩa hơn khi truy cập dữ liệu trong bảng.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Trên một máy chủ cơ sở dữ liệu độc lập, bạn có thể đặt biến này thành 60% - 80% kích thước bộ nhớ vật lý của máy chủ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Chú ý không đặt quá lớn, sẽ làm cho không gian swap của hệ thống bị chiếm dụng, làm chậm hệ điều hành và làm giảm hiệu suất truy vấn SQL</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 128M, đề xuất: 60% - 80% kích thước bộ nhớ vật lý</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 512M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Chỉ có ý nghĩa khi giá trị innodb_buffer_pool_size lớn hơn 1G, nhỏ hơn 1G, instances mặc định là 1, lớn hơn 1G, instances mặc định là 8</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tuy nhiên, có nhận xét trên mạng rằng, hiệu suất tốt nhất, mỗi instance ít nhất 1G.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 1 hoặc 8, đề xuất: innodb_buffer_pool_size/innodb_buffer_pool_instances &gt;= 1G</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_instances</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: tính năng mới của mysql 5.7, xác định kích thước phần tử cho các hoạt động thay đổi kích thước bộ đệm InnoDB trực tuyến.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Kích thước bộ đệm thực tế phải là bội số của innodb_buffer_pool_chunk_size * innodb_buffer_pool_instances, lấy giá trị lớn hơn innodb_buffer_pool_size một chút</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 128M, đề xuất: giữ nguyên giá trị mặc định, thay đổi ngẫu nhiên có thể gây ra vấn đề, nó sẽ ảnh hưởng đến kích thước thực tế của bộ nhớ đệm.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_chunk_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tải dữ liệu nóng vào bộ nhớ khi khởi động. Giá trị mặc định là bật, không thay đổi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_load_at_startup</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Lưu dữ liệu nóng vào đĩa cục bộ khi tắt. Giá trị mặc định là bật, không thay đổi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_buffer_pool_dump_at_shutdown</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Ảnh hưởng đến thuật toán làm mới bộ đệm Innodb, đề xuất cấu hình từ nhỏ đến lớn, cho đến khi không còn trang trống; innodb_lru_scan_depth * innodb_buffer_pool_instances xác định số công việc được thực hiện bởi luồng xóa trang mỗi giây.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 1024, đề xuất: không biết</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_lru_scan_depth</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1024</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Thời gian chờ tối đa để giao dịch chờ lấy tài nguyên, tính bằng giây, xem tình hình kinh doanh cụ thể, thường giá trị mặc định là đủ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 50, đề xuất: xem tình hình kinh doanh.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_lock_wait_timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 60</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Đặt giới hạn số lượng hoạt động I/O mỗi giây của tác vụ nền MySQL (ví dụ: làm mới trang và merge dadta từ bộ đệm)。</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 200, đề xuất: phương pháp 1, đối với ổ đĩa SATA đặt 100, đối với SAS10, RAID10 đặt 200, đối với SSD đặt 2000, đối với fushion-io đặt 50000; phương pháp 2, đo lường hiệu suất I/O đĩa bằng công cụ kiểm tra và đặt giá trị IOPS/2.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_io_capacity</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 2000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Tham số này là tổng giới hạn của tất cả các luồng I/O của bộ đệm.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: gấp đôi innodb_io_capacity. Đề xuất: ví dụ, sau khi kiểm tra hiệu suất IOPS của công cụ, chỉ định giá trị số IOPS.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_io_capacity_max</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Điều khiển chế độ mở và ghi tệp dữ liệu InnoDB và redo log, có ba chế độ: fdatasync (mặc định), O_DSYNC, O_DIRECT</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># fdatasync: tệp dữ liệu, bộ đệm os-&gt;bộ đệm os-&gt;đĩa; tệp nhật ký, bộ đệm os-&gt;bộ đệm os-&gt;đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># O_DSYNC: tệp dữ liệu, bộ đệm os-&gt;bộ đệm os-&gt;đĩa; tệp nhật ký, bộ đệm os-&gt;đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># O_DIRECT: tệp dữ liệu, bộ đệm os-&gt;đĩa; tệp nhật ký, bộ đệm os-&gt;bộ đệm os-&gt;đĩa;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là trống, đề xuất: sử dụng SAN hoặc raid, đề xuất sử dụng O_DIRECT, nếu không hiểu kiểm tra, sử dụng mặc định O_DIRECT trong sản xuất</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_flush_method</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> O_DIRECT</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Mặc định mở từ mysql 5.7, có nghĩa là mỗi bảng một không gian bảng độc lập.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 1, bật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_file_per_table</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Đường dẫn nơi InnoDB tạo không gian bảng hoàn tác. Thông thường bằng với thư mục lưu trữ của nhật ký hoàn tác.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: ./; tự đặt</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_directory</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Số lượng không gian bảng hoàn tác được sử dụng bởi InnoDB bằng số lượng nhật ký hoàn tác. Bắt đầu từ 5.7.21 đã bị loại bỏ</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 0, đề xuất giữ nguyên giá trị mặc định, không cần điều chỉnh.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_tablespaces</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Xác định số lượng đoạn hoàn tác được sử dụng bởi undo. Bị loại bỏ từ 5.7.19</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 128, đề xuất không thay đổi, sẽ bị loại bỏ trong tương lai.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_logs</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Bắt đầu từ 5.7.5, thu gọn không gian undo log được sử dụng trực tuyến.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: tắt, đề xuất: bật</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_undo_log_truncate</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Kích thước tối đa của undo log.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 1G, đề xuất: không thay đổi.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_max_undo_log_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1G</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Thư mục lưu trữ tệp nhật ký ghi lại</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_group_home_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /usr/local/mysql-5.7.21/log</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Kích thước tệp nhật ký</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 48M, đề xuất: điều chỉnh kích thước dựa trên không gian đĩa hệ thống và tăng trưởng nhật ký</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_file_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 128M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Số lượng tệp nhật ký trong nhóm, MySQL ghi nhật ký theo cách vòng lặp</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 2, đề xuất: điều chỉnh kích thước dựa trên không gian đĩa hệ thống và tăng trưởng nhật ký</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_files_in_group</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số này xác định kích thước bộ nhớ được sử dụng cho các tệp nhật ký, tính bằng M. Bộ đệm lớn hơn có thể cải thiện hiệu suất, nhưng nếu xảy ra sự cố bất ngờ, dữ liệu có thể bị mất. Nhà phát triển MySQL đề xuất đặt giá trị từ 1-8M</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_log_buffer_size</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 16M</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Có thể điều chỉnh tần suất ghi log từ bộ đệm hệ thống vào tệp đĩa, tăng có thể giảm tải hệ thống</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1; đề xuất không thay đổi. Hiệu suất hệ thống thông thường đủ.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_flush_log_at_timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Tham số có thể được đặt thành 0, 1, 2;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số 0: có nghĩa là mỗi giây, nội dung bộ đệm nhật ký được ghi vào bộ đệm hệ thống, sau đó gọi hoạt động flush của hệ thống để ghi vào tệp đĩa.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số 1: có nghĩa là mỗi lần giao dịch được gửi, nhật ký redo được ghi trực tiếp vào đĩa.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tham số 2: có nghĩa là mỗi lần giao dịch được gửi, sau 1 giây thì nhật ký redo mới được ghi vào đĩa.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Đề xuất đặt thành 1, điều này đảm bảo không mất dữ liệu sau khi MySQL khởi động lại bất thường.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_flush_log_at_trx_commit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Giới hạn số bảng mà InnoDB có thể mở, nếu có nhiều bảng trong cơ sở dữ liệu, hãy tăng giá trị này.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 2000, đề xuất: tham khảo tổng số bảng cơ sở dữ liệu và điều chỉnh, thông thường đủ sử dụng.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_open_files</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 8192</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Số luồng I/O đọc/ghi của InnoDB, xác định dựa trên số lõi CPU, giá trị có thể từ 1-64</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 4, đề xuất: giữ nguyên giá trị mặc định, giữ một nửa số lõi CPU logic.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_read_io_threads</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_write_io_threads</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Mặc định là 0, không giới hạn số lượng đồng thời, ở đây đề xuất đặt thành 0, tận dụng tốt khả năng xử lý đa nhân CPU, tăng số lượng đồng thời</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_thread_concurrency</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 4, đề xuất không thay đổi. Trong InnoDB, việc xóa là một loại hoạt động định kỳ để thu hồi dữ liệu không sử dụng. Từ mysql 5.5 trở đi, hỗ trợ xóa đa luồng.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_purge_threads</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Bộ nhớ đệm MySQL được chia thành khối mới và khối cũ; tham số này xác định tỷ lệ khối cũ;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 37, đề xuất: thông thường không thay đổi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_old_blocks_pct</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 37</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Dữ liệu mới được tải vào bộ nhớ đệm, vào khu vực trang cũ, nếu truy cập lại sau 1 giây, nó sẽ được nâng lên khu vực trang mới.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định: 1000</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_old_blocks_time</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">1000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Bật bất đồng bộ I/O, có thể tăng cường đồng thời, mặc định bật.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 1, đề xuất không thay đổi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_use_native_aio</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Mặc định là trống, sử dụng thư mục dữ liệu, thông thường không thay đổi.</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_data_home_dir</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">/usr/local/mysql-5.7.21/data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Xác định tên, kích thước và thuộc tính của các tệp dữ liệu không gian hệ thống InnoDB.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định, không chỉ định, mặc định là ibdata1: 12M: autoextend</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">innodb_data_file_path</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> ibdata1: 12M: autoextend</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Đặt kích thước bộ nhớ được sử dụng bởi InnoDB để lưu trữ thông tin từ điển dữ liệu và một số cấu trúc dữ liệu nội bộ, trừ khi đối tượng dữ liệu của bạn rất nhiều, nếu không, thông thường không cần thay đổi.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># innodb_additional_mem_pool_size = 16M</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giải thích: Chế độ khôi phục sau sự cố. Chỉ khi cần phục hồi dữ liệu trong trường hợp khẩn cấp, hãy đặt giá trị lớn hơn 1-6, ý nghĩa xem trang web chính thức.</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Giá trị mặc định là 0;</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">#innodb_force_recovery = 0</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[mysqldump]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tùy chọn quick buộc mysqldump truy vấn dữ liệu trực tiếp từ máy chủ và xuất chúng thay vì lấy tất cả các bản ghi và lưu chúng vào bộ nhớ cache</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">quick</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">max_allowed_packet</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> 16M</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">[mysql]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Công cụ dòng lệnh mysql không sử dụng chức năng tự động hoàn thiện, đề xuất thay đổi thành</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># no-auto-rehash</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">auto-rehash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"># Tệp socket</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">socket</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> =</span><span style="color:#98C379;--shiki-dark:#98C379;"> /var/lib/mysql/mysql.sock</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),e=[t];function c(r,p){return n(),i("div",null,e)}const d=s(l,[["render",c],["__file","configuration.html.vue"]]),h=JSON.parse(`{"path":"/database/mysql/configuration.html","title":"MySQL Configuration","lang":"en-US","frontmatter":{"title":"MySQL Configuration","ags":["mysql"],"categories":["mysql"],"icon":"devicon:mysql","date created":"2023-07-23T00:00:00.000Z","date modified":"2023-07-24T00:00:00.000Z","description":"Cấu hình MySQL Phiên bản: mysql Cấu hình cơ bản Giải thích các cấu hình","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/database/mysql/configuration.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"MySQL Configuration"}],["meta",{"property":"og:description","content":"Cấu hình MySQL Phiên bản: mysql Cấu hình cơ bản Giải thích các cấu hình"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.shields.io/badge/mysql-8.0-blue"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL Configuration\\",\\"image\\":[\\"https://img.shields.io/badge/mysql-8.0-blue\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Cấu hình cơ bản","slug":"cau-hinh-co-ban","link":"#cau-hinh-co-ban","children":[]},{"level":2,"title":"Giải thích các cấu hình","slug":"giai-thich-cac-cau-hinh","link":"#giai-thich-cac-cau-hinh","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":21.68,"words":6503},"filePathRelative":"database/mysql/configuration.md","localizedDate":"June 28, 2024","excerpt":"\\n<blockquote>\\n<p>Phiên bản: <img src=\\"https://img.shields.io/badge/mysql-8.0-blue\\" alt=\\"mysql\\" loading=\\"lazy\\"></p>\\n</blockquote>\\n<h2>Cấu hình cơ bản</h2>\\n<div class=\\"language-ini line-numbers-mode\\" data-ext=\\"ini\\" data-title=\\"ini\\"><pre class=\\"shiki shiki-themes one-dark-pro one-dark-pro vp-code\\" style=\\"background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">[mysqld]</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># GENERAL</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># -------------------------------------------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">datadir</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/lib/mysql</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">socket</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">  =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/lib/mysql/mysql.sock</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">pid_file</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/lib/mysql/mysql.pid</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">user</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> mysql</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">port</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 3306</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">default_storage_engine</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> InnoDB</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">default_time_zone</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> '+8：00'</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">character_set_server</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> utf8mb4</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">collation_server</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> utf8mb4_0900_ai_ci</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># LOG</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># -------------------------------------------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">log_error</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/log/mysql/mysql-error.log</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">slow_query_log</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 1</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">slow_query_log_file</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/log/mysql/mysql-slow.log</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># InnoDB</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># -------------------------------------------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">innodb_buffer_pool_size</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> &lt;giá trị&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">innodb_log_file_size</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> &lt;giá trị&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">innodb_file_per_table</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 1</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">innodb_flush_method</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> O_DIRECT</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># MyIsam</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># -------------------------------------------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">key_buffer_size</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> &lt;giá trị&gt;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># OTHER</span></span>\\n<span class=\\"line\\"><span style=\\"color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic\\"># -------------------------------------------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">tmp_table_size</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 32M</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">max_heap_table_size</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 32M</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">max_connections</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> &lt;giá trị&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">open_files_limit</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 65535</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#61AFEF;--shiki-dark:#61AFEF\\">[client]</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">socket</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\">  =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> /var/lib/mysql/mysql.sock</span></span>\\n<span class=\\"line\\"><span style=\\"color:#C678DD;--shiki-dark:#C678DD\\">port</span><span style=\\"color:#ABB2BF;--shiki-dark:#ABB2BF\\"> =</span><span style=\\"color:#98C379;--shiki-dark:#98C379\\"> 3306</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{d as comp,h as data};
