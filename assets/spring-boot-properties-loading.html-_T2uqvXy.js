import{_ as s,o as a,c as n,d as i}from"./app-BsgpqssW.js";const e={},l=i(`<h1 id="chi-tiet-ve-viec-tai-thuoc-tinh-trong-spring-boot" tabindex="-1"><a class="header-anchor" href="#chi-tiet-ve-viec-tai-thuoc-tinh-trong-spring-boot"><span>Chi tiết về việc tải thuộc tính trong Spring Boot</span></a></h1><h2 id="thu-tu-tai-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#thu-tu-tai-thuoc-tinh"><span>Thứ tự tải thuộc tính</span></a></h2><p>Spring Boot tải thuộc tính theo thứ tự sau:</p><ol><li><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-globalsettings" target="_blank" rel="noopener noreferrer">Cấu hình toàn cầu của Devtools</a> (khi devtools được kích hoạt <code>~/.spring-boot-devtools.properties</code>).</li><li>Cấu hình từ chú thích <code>@TestPropertySource</code> trong môi trường kiểm thử.</li><li>Thuộc tính trong môi trường kiểm thử: <a href="https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html" target="_blank" rel="noopener noreferrer"><code>@SpringBootTest</code></a> và các chú thích kiểm thử khác.</li><li>Tham số dòng lệnh.</li><li>Thuộc tính <code>SPRING_APPLICATION_JSON</code>.</li><li>Tham số khởi tạo của <code>ServletConfig</code>.</li><li>Tham số khởi tạo của <code>ServletContext</code>.</li><li>Thuộc tính JNDI từ các thuộc tính được cấu hình thông qua <code>java:comp/env</code>.</li><li>Thuộc tính hệ thống Java (<code>System.getProperties()</code>).</li><li>Biến môi trường hệ điều hành.</li><li>Thuộc tính ngẫu nhiên từ <code>RandomValuePropertySource</code> với các thuộc tính có định dạng <code>random.*</code>.</li><li>Cấu hình ngoài jar: <code>application-{profile}.properties</code> hoặc <code>application-{profile}.yml</code>.</li><li>Cấu hình trong jar: <code>application-{profile}.properties</code> hoặc <code>application-{profile}.yml</code>.</li><li>Cấu hình ngoài jar: <code>application.properties</code> hoặc <code>application.yml</code>.</li><li>Cấu hình trong jar: <code>application.properties</code> hoặc <code>application.yml</code>.</li><li>Cấu hình được liên kết với <code>@PropertySource</code>.</li><li>Thuộc tính mặc định (được chỉ định bằng <code>SpringApplication.setDefaultProperties</code>).</li></ol><h2 id="thuoc-tinh-ngau-nhien" tabindex="-1"><a class="header-anchor" href="#thuoc-tinh-ngau-nhien"><span>Thuộc tính ngẫu nhiên</span></a></h2><p>Lớp <code>RandomValuePropertySource</code> được sử dụng để cấu hình giá trị ngẫu nhiên.</p><p>Ví dụ:</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.secret</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.value}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.number</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.int}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.bignumber</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.long}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.uuid</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.uuid}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.number.less.than.ten</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.int(10)}</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">my.number.in.range</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">\${random.int[1024,65536]}</span></span></code></pre></div><h2 id="thuoc-tinh-dong-lenh" tabindex="-1"><a class="header-anchor" href="#thuoc-tinh-dong-lenh"><span>Thuộc tính dòng lệnh</span></a></h2><p>Mặc định, <code>SpringApplication</code> sẽ lấy các tham số <code>--</code> (ví dụ: <code>--server.port=9000</code>) và thêm thuộc tính này vào <code>Environment</code> của Spring.</p><p>Nếu bạn không muốn tải thuộc tính từ dòng lệnh, bạn có thể vô hiệu hóa nó bằng cách sử dụng <code>SpringApplication.setAddCommandLineProperties(false)</code>.</p><h2 id="tep-thuoc-tinh-ung-dung" tabindex="-1"><a class="header-anchor" href="#tep-thuoc-tinh-ung-dung"><span>Tệp thuộc tính ứng dụng</span></a></h2><p><code>SpringApplication</code> sẽ tự động tải thuộc tính từ tệp cấu hình <code>application.properties</code> trong các đường dẫn sau và đưa các thuộc tính này vào <code>Environment</code> của Spring.</p><ol><li>Thư mục <code>/config</code> trong thư mục hiện tại.</li><li>Thư mục hiện tại.</li><li>Gói <code>/config</code> trong classpath.</li><li>Gốc classpath.</li></ol><blockquote><p>Lưu ý:</p><p>Các tệp cấu hình trong danh sách trên sẽ được ghi đè bởi các tệp cấu hình sau. Bạn có thể sử dụng tệp cấu hình YAML để thay thế tệp cấu hình properties.</p></blockquote><p>Nếu bạn không muốn sử dụng <code>application.properties</code> làm tên tệp cấu hình, bạn có thể sử dụng biến môi trường <code>spring.config.name</code> để thay thế:</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>$ java -jar myproject.jar --spring.config.name=myproject</span></span></code></pre></div><p>Bạn cũng có thể sử dụng biến môi trường <code>spring.config.location</code> để chỉ định đường dẫn của tệp cấu hình:</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">$ java -jar myproject.jar --</span><span style="color:#C678DD;--shiki-dark:#C678DD;">spring.config.location</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">classpath:/default.properties,classpath:/override.properties</span></span></code></pre></div><h2 id="thuoc-tinh-theo-profile" tabindex="-1"><a class="header-anchor" href="#thuoc-tinh-theo-profile"><span>Thuộc tính theo profile</span></a></h2><p>Nếu bạn định nghĩa các tệp cấu hình theo định dạng <code>application-{profile}.properties</code>, chúng sẽ được coi là cấu hình đặc biệt cho môi trường <code>profile</code> tương ứng.</p><p>Bạn có thể kích hoạt profile bằng cách sử dụng tham số <code>spring.profiles.active</code>. Nếu không có profile nào được kích hoạt, mặc định sẽ tải cấu hình từ <code>application-default.properties</code>.</p><h2 id="placeholder-trong-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#placeholder-trong-thuoc-tinh"><span>Placeholder trong thuộc tính</span></a></h2><p>Giá trị trong <code>application.properties</code> sẽ được lọc qua <code>Environment</code>, vì vậy bạn có thể tham chiếu đến các thuộc tính đã được định nghĩa trước đó.</p><div class="language-" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>app.name=MyApp</span></span>
<span class="line"><span>app.description=\${app.name} là một ứng dụng Spring Boot</span></span></code></pre></div><blockquote><p>Lưu ý: Bạn có thể sử dụng kỹ thuật này để tạo biến thuộc tính Spring Boot. Xem chi tiết: <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-use-short-command-line-arguments" target="_blank" rel="noopener noreferrer">Section 77.4, “Use ‘Short’ Command Line Arguments</a></p></blockquote><h2 id="thuoc-tinh-yaml" tabindex="-1"><a class="header-anchor" href="#thuoc-tinh-yaml"><span>Thuộc tính YAML</span></a></h2><p>Spring Framework có hai lớp hỗ trợ tải tệp YAML.</p><ul><li><code>YamlPropertiesFactoryBean</code> chuyển cấu hình từ tệp YAML thành <code>Properties</code>.</li><li><code>YamlMapFactoryBean</code> chuyển cấu hình từ tệp YAML thành <code>Map</code>.</li></ul><p>Ví dụ 1:</p><div class="language-yaml" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">environments</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  dev</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">http://dev.example.com</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">Developer Setup</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  prod</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">http://another.example.com</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">My Cool App</span></span></code></pre></div><p>Tương đương với:</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">environments.dev.url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">http://dev.example.com</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">environments.dev.name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">Developer Setup</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">environments.prod.url</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">http://another.example.com</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">environments.prod.name</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">My Cool App</span></span></code></pre></div><p>YAML hỗ trợ cú pháp danh sách, tương đương với <code>[index]</code> trong thuộc tính:</p><div class="language-yaml" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">my</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  servers</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    - </span><span style="color:#98C379;--shiki-dark:#98C379;">dev.example.com</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    - </span><span style="color:#98C379;--shiki-dark:#98C379;">another.example.com</span></span></code></pre></div><p>Tương đương với:</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">my.servers[0]=dev.example.com</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">my.servers[1]=another.example.com</span></span></code></pre></div><h3 id="truy-cap-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#truy-cap-thuoc-tinh"><span>Truy cập thuộc tính</span></a></h3><p>Lớp <code>YamlPropertySourceLoader</code> chuyển cấu hình YAML thành <code>PropertySource</code> trong lớp <code>Environment</code> của Spring. Sau đó, bạn có thể truy cập các thuộc tính được cấu hình trong YAML bằng cách sử dụng chú thích <code>@Value</code> như các thuộc tính trong tệp properties.</p><h3 id="cau-hinh-đa-profile" tabindex="-1"><a class="header-anchor" href="#cau-hinh-đa-profile"><span>Cấu hình đa profile</span></a></h3><div class="language-yaml" data-ext="yaml" data-title="yaml"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  address</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">192.168.1.100</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">---</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">spring</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  profiles</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">development</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  address</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">127.0.0.1</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">---</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">spring</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  profiles</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#98C379;--shiki-dark:#98C379;">production &amp; eu-central</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">server</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">  address</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="color:#D19A66;--shiki-dark:#D19A66;">192.168.1.120</span></span></code></pre></div><h3 id="nhuoc-điem-cua-yaml" tabindex="-1"><a class="header-anchor" href="#nhuoc-điem-cua-yaml"><span>Nhược điểm của YAML</span></a></h3><p>Lưu ý rằng các thuộc tính được chú thích trong YAML không thể truy cập bằng chú thích <code>@PropertySource</code>. Vì vậy, nếu dự án của bạn sử dụng một số tệp thuộc tính tùy chỉnh, hãy tránh sử dụng YAML.</p><h2 id="tien-to-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#tien-to-thuoc-tinh"><span>Tiền tố thuộc tính</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">package</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> com.example</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> java.net.InetAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> java.util.ArrayList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> java.util.Collections</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> java.util.List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> org.springframework.boot.context.properties.ConfigurationProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ConfigurationProperties</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">prefix</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;acme&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> AcmeProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> boolean</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> enabled</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> InetAddress</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> remoteAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Security</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> security </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Security</span><span style="color:#E06C75;--shiki-dark:#E06C75;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> boolean</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> isEnabled</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setEnabled</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">boolean</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> enabled</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> InetAddress</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getRemoteAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setRemoteAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">InetAddress</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> remoteAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Security</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getSecurity</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Security</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> username</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> roles </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> ArrayList</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Collections</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">singleton</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;USER&quot;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getUsername</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setUsername</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> username</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getPassword</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setPassword</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> password</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getRoles</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setRoles</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">List</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">&gt; </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">roles</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tương đương với việc cấu hình các thuộc tính sau:</p><ul><li><code>acme.enabled</code></li><li><code>acme.remote-address</code></li><li><code>acme.security.username</code></li><li><code>acme.security.password</code></li><li><code>acme.security.roles</code></li></ul><p>Sau đó, bạn cần sử dụng chú thích <code>@EnableConfigurationProperties</code> để chèn lớp thuộc tính vào lớp cấu hình.</p><div class="language-java" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Configuration</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">EnableConfigurationProperties</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">AcmeProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">class</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> MyConfiguration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h2 id="quy-tac-rang-buoc-thuoc-tinh-long-leo" tabindex="-1"><a class="header-anchor" href="#quy-tac-rang-buoc-thuoc-tinh-long-leo"><span>Quy tắc ràng buộc thuộc tính lỏng lẻo</span></a></h2><p>Spring Boot có quy tắc ràng buộc tên thuộc tính linh hoạt.</p><p>Các khóa thuộc tính sau đây là tương đương:</p><table><thead><tr><th>Thuộc tính</th><th>Ghi chú</th></tr></thead><tbody><tr><td><code>acme.my-project.person.first-name</code></td><td>Phân cách bằng <code>-</code></td></tr><tr><td><code>acme.myProject.person.firstName</code></td><td>Tên kiểu lạc đà</td></tr><tr><td><code>acme.my_project.person.first_name</code></td><td>Phân cách bằng <code>_</code></td></tr><tr><td><code>ACME_MYPROJECT_PERSON_FIRSTNAME</code></td><td>Chữ in hoa</td></tr></tbody></table><h2 id="chuyen-đoi-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#chuyen-đoi-thuoc-tinh"><span>Chuyển đổi thuộc tính</span></a></h2><p>Nếu bạn cần chuyển đổi kiểu dữ liệu, bạn có thể cung cấp một bean <code>ConversionService</code> (một bean có tên là <code>conversionService</code>) hoặc cấu hình thuộc tính tùy chỉnh (một bean <code>CustomEditorConfigurer</code>) hoặc chuyển đổi tùy chỉnh (các bean được chú thích bằng <code>@ConfigurationPropertiesBinding</code>).</p><h3 id="chuyen-đoi-đon-vi-thoi-gian" tabindex="-1"><a class="header-anchor" href="#chuyen-đoi-đon-vi-thoi-gian"><span>Chuyển đổi đơn vị thời gian</span></a></h3><p>Spring sử dụng lớp <code>java.time.Duration</code> để đại diện cho thời gian, áp dụng các quy tắc sau:</p><ul><li>Một số long mặc định được coi là mili giây, trừ khi được chỉ định bằng <code>@DurationUnit</code>.</li><li>Định dạng chuẩn ISO-8601 (được triển khai bởi <a href="https://docs.oracle.com/javase/8/docs/api//java/time/Duration.html#parse-java.lang.CharSequence-" target="_blank" rel="noopener noreferrer"><code>java.time.Duration</code></a>).</li><li>Bạn cũng có thể sử dụng các đơn vị hỗ trợ sau: <ul><li><code>ns</code> - nanosecond (nanogisecond)</li><li><code>us</code> - microsecond (microsecond)</li><li><code>ms</code> - millisecond (mili giây)</li><li><code>s</code> - second (giây)</li><li><code>m</code> - minute (phút)</li><li><code>h</code> - hour (giờ)</li><li><code>d</code> - day (ngày)</li></ul></li></ul><p>Ví dụ:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ConfigurationProperties</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;app.system&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> AppSystemProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    @</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">DurationUnit</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ChronoUnit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">SECONDS</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sessionTimeout </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ofSeconds</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">30</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> readTimeout </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ofMillis</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">1000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getSessionTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sessionTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setSessionTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Duration</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> sessionTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sessionTimeout</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> sessionTimeout;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Duration</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getReadTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">readTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setReadTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Duration</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> readTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">readTimeout</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> readTimeout;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chuyen-đoi-kich-thuoc-du-lieu" tabindex="-1"><a class="header-anchor" href="#chuyen-đoi-kich-thuoc-du-lieu"><span>Chuyển đổi kích thước dữ liệu</span></a></h3><p>Spring sử dụng lớp <code>DataSize</code> để đại diện cho kích thước dữ liệu, áp dụng các quy tắc sau:</p><ul><li>Giá trị long (mặc định coi là byte).</li><li>Bạn cũng có thể sử dụng các đơn vị hỗ trợ sau: <ul><li><code>B</code> - byte</li><li><code>KB</code> - kilobyte</li><li><code>MB</code> - megabyte</li><li><code>GB</code> - gigabyte</li><li><code>TB</code> - terabyte</li></ul></li></ul><p>Ví dụ:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ConfigurationProperties</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;app.io&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> AppIoProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    @</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">DataSizeUnit</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">DataUnit</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">MEGABYTES</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> bufferSize </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ofMegabytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">2</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> sizeThreshold </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">ofBytes</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">512</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getBufferSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">bufferSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setBufferSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">DataSize</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> bufferSize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">bufferSize</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> bufferSize;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> DataSize</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> getSizeThreshold</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sizeThreshold</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> void</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setSizeThreshold</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">DataSize</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> sizeThreshold</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">sizeThreshold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> sizeThreshold;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="kiem-tra-thuoc-tinh" tabindex="-1"><a class="header-anchor" href="#kiem-tra-thuoc-tinh"><span>Kiểm tra thuộc tính</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">ConfigurationProperties</span><span style="color:#E06C75;--shiki-dark:#E06C75;">(</span><span style="color:#D19A66;--shiki-dark:#D19A66;">prefix</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;acme&quot;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Validated</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> AcmeProperties</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">	@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NotNull</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">	private</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> InetAddress</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> remoteAddress</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">	@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">Valid</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">	private</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> final</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Security</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> security </span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Security</span><span style="color:#E06C75;--shiki-dark:#E06C75;">()</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">	// ... getters and setters</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">	public</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> static</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Security</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">		@</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">NotEmpty</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">		public</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> username</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">		// ... getters and setters</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Bạn cũng có thể tạo một bean kiểm tra tùy chỉnh có tên là <code>configurationPropertiesValidator</code>. Phương thức nhận <code>@Bean</code> phải được khai báo là <code>static</code>.</p><h2 id="ma-nguon-vi-du" tabindex="-1"><a class="header-anchor" href="#ma-nguon-vi-du"><span>Mã nguồn ví dụ</span></a></h2>`,69),o=[l];function r(p,t){return a(),n("div",null,o)}const d=s(e,[["render",r],["__file","spring-boot-properties-loading.html.vue"]]),h=JSON.parse('{"path":"/framework/spring/core/spring-boot-properties-loading.html","title":"SpringBoot Properties Loading","lang":"en-US","frontmatter":{"title":"SpringBoot Properties Loading","tags":["spring","springboot","java","backend"],"categories":["spring","springboot","java","backend"],"date created":"2023-07-26T00:00:00.000Z","date modified":"2023-07-26T00:00:00.000Z","order":22,"description":"Chi tiết về việc tải thuộc tính trong Spring Boot Thứ tự tải thuộc tính Spring Boot tải thuộc tính theo thứ tự sau: Cấu hình toàn cầu của Devtools (khi devtools được kích hoạt ~...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/framework/spring/core/spring-boot-properties-loading.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"SpringBoot Properties Loading"}],["meta",{"property":"og:description","content":"Chi tiết về việc tải thuộc tính trong Spring Boot Thứ tự tải thuộc tính Spring Boot tải thuộc tính theo thứ tự sau: Cấu hình toàn cầu của Devtools (khi devtools được kích hoạt ~..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"spring"}],["meta",{"property":"article:tag","content":"springboot"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"backend"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SpringBoot Properties Loading\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Thứ tự tải thuộc tính","slug":"thu-tu-tai-thuoc-tinh","link":"#thu-tu-tai-thuoc-tinh","children":[]},{"level":2,"title":"Thuộc tính ngẫu nhiên","slug":"thuoc-tinh-ngau-nhien","link":"#thuoc-tinh-ngau-nhien","children":[]},{"level":2,"title":"Thuộc tính dòng lệnh","slug":"thuoc-tinh-dong-lenh","link":"#thuoc-tinh-dong-lenh","children":[]},{"level":2,"title":"Tệp thuộc tính ứng dụng","slug":"tep-thuoc-tinh-ung-dung","link":"#tep-thuoc-tinh-ung-dung","children":[]},{"level":2,"title":"Thuộc tính theo profile","slug":"thuoc-tinh-theo-profile","link":"#thuoc-tinh-theo-profile","children":[]},{"level":2,"title":"Placeholder trong thuộc tính","slug":"placeholder-trong-thuoc-tinh","link":"#placeholder-trong-thuoc-tinh","children":[]},{"level":2,"title":"Thuộc tính YAML","slug":"thuoc-tinh-yaml","link":"#thuoc-tinh-yaml","children":[{"level":3,"title":"Truy cập thuộc tính","slug":"truy-cap-thuoc-tinh","link":"#truy-cap-thuoc-tinh","children":[]},{"level":3,"title":"Cấu hình đa profile","slug":"cau-hinh-đa-profile","link":"#cau-hinh-đa-profile","children":[]},{"level":3,"title":"Nhược điểm của YAML","slug":"nhuoc-điem-cua-yaml","link":"#nhuoc-điem-cua-yaml","children":[]}]},{"level":2,"title":"Tiền tố thuộc tính","slug":"tien-to-thuoc-tinh","link":"#tien-to-thuoc-tinh","children":[]},{"level":2,"title":"Quy tắc ràng buộc thuộc tính lỏng lẻo","slug":"quy-tac-rang-buoc-thuoc-tinh-long-leo","link":"#quy-tac-rang-buoc-thuoc-tinh-long-leo","children":[]},{"level":2,"title":"Chuyển đổi thuộc tính","slug":"chuyen-đoi-thuoc-tinh","link":"#chuyen-đoi-thuoc-tinh","children":[{"level":3,"title":"Chuyển đổi đơn vị thời gian","slug":"chuyen-đoi-đon-vi-thoi-gian","link":"#chuyen-đoi-đon-vi-thoi-gian","children":[]},{"level":3,"title":"Chuyển đổi kích thước dữ liệu","slug":"chuyen-đoi-kich-thuoc-du-lieu","link":"#chuyen-đoi-kich-thuoc-du-lieu","children":[]}]},{"level":2,"title":"Kiểm tra thuộc tính","slug":"kiem-tra-thuoc-tinh","link":"#kiem-tra-thuoc-tinh","children":[]},{"level":2,"title":"Mã nguồn ví dụ","slug":"ma-nguon-vi-du","link":"#ma-nguon-vi-du","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":5.73,"words":1719},"filePathRelative":"framework/spring/core/spring-boot-properties-loading.md","localizedDate":"June 28, 2024","excerpt":"\\n<h2>Thứ tự tải thuộc tính</h2>\\n<p>Spring Boot tải thuộc tính theo thứ tự sau:</p>\\n<ol>\\n<li><a href=\\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-globalsettings\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Cấu hình toàn cầu của Devtools</a> (khi devtools được kích hoạt <code>~/.spring-boot-devtools.properties</code>).</li>\\n<li>Cấu hình từ chú thích <code>@TestPropertySource</code> trong môi trường kiểm thử.</li>\\n<li>Thuộc tính trong môi trường kiểm thử: <a href=\\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><code>@SpringBootTest</code></a> và các chú thích kiểm thử khác.</li>\\n<li>Tham số dòng lệnh.</li>\\n<li>Thuộc tính <code>SPRING_APPLICATION_JSON</code>.</li>\\n<li>Tham số khởi tạo của <code>ServletConfig</code>.</li>\\n<li>Tham số khởi tạo của <code>ServletContext</code>.</li>\\n<li>Thuộc tính JNDI từ các thuộc tính được cấu hình thông qua <code>java:comp/env</code>.</li>\\n<li>Thuộc tính hệ thống Java (<code>System.getProperties()</code>).</li>\\n<li>Biến môi trường hệ điều hành.</li>\\n<li>Thuộc tính ngẫu nhiên từ <code>RandomValuePropertySource</code> với các thuộc tính có định dạng <code>random.*</code>.</li>\\n<li>Cấu hình ngoài jar: <code>application-{profile}.properties</code> hoặc <code>application-{profile}.yml</code>.</li>\\n<li>Cấu hình trong jar: <code>application-{profile}.properties</code> hoặc <code>application-{profile}.yml</code>.</li>\\n<li>Cấu hình ngoài jar: <code>application.properties</code> hoặc <code>application.yml</code>.</li>\\n<li>Cấu hình trong jar: <code>application.properties</code> hoặc <code>application.yml</code>.</li>\\n<li>Cấu hình được liên kết với <code>@PropertySource</code>.</li>\\n<li>Thuộc tính mặc định (được chỉ định bằng <code>SpringApplication.setDefaultProperties</code>).</li>\\n</ol>","autoDesc":true}');export{d as comp,h as data};
