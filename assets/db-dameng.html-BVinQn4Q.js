import{_ as a,o as n,c as s,a as r}from"./app-5QVbWi7Z.js";const d={};function i(l,e){return n(),s("div",null,e[0]||(e[0]=[r(`<h1 id="达梦数据库专属" tabindex="-1"><a class="header-anchor" href="#达梦数据库专属"><span>达梦数据库专属</span></a></h1><h2 id="_1-dm-数据库的安装" tabindex="-1"><a class="header-anchor" href="#_1-dm-数据库的安装"><span><a href="#_1-dm-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85">#</a> 1. DM 数据库的安装</span></a></h2><p>可以使用 Windows 或 Docker 等多种方式。</p><p>注意，目前我们使用的是 DM 8.0 的版本。</p><h3 id="_1-1-windows-方式" tabindex="-1"><a class="header-anchor" href="#_1-1-windows-方式"><span><a href="#_1-1-windows-%E6%96%B9%E5%BC%8F">#</a> 1.1 Windows 方式</span></a></h3><p>参考 <a href="https://eco.dameng.com/document/dm/zh-cn/start/install-dm-windows-prepare.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><p>① 下载 Windows 版本(20230928)：<a href="https://download.dameng.com/eco/adapter/DM8/202310/dm8_20230928_x86_win_64.zip" target="_blank" rel="noopener noreferrer">https://download.dameng.com/eco/adapter/DM8/202310/dm8_20230928_x86_win_64.zip</a></p><p>② 傻瓜式安装、数据库实例化，一路下去就好，不用修改任何参数。</p><h3 id="_1-2-docker-方式" tabindex="-1"><a class="header-anchor" href="#_1-2-docker-方式"><span><a href="#_1-2-docker-%E6%96%B9%E5%BC%8F">#</a> 1.2 Docker 方式</span></a></h3><p>参考 <a href="https://eco.dameng.com/document/dm/zh-cn/start/dm-install-docker.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><p>① 下载 Docker 镜像 (版本: 20230808)：<a href="https://download.dameng.com/eco/dm8/dm8_20230808_rev197096_x86_rh6_64_single.tar" target="_blank" rel="noopener noreferrer">https://download.dameng.com/eco/dm8/dm8_20230808_rev197096_x86_rh6_64_single.tar</a></p><p>② 执行如下脚本，启动 Docker 服务：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span>docker load -i dm8_20230808_rev197096_x86_rh6_64_single.tar</span></span>
<span class="line"><span></span></span>
<span class="line"><span>docker run -d -p 5236:5236 \\</span></span>
<span class="line"><span>    --restart=unless-stopped \\</span></span>
<span class="line"><span>    --name dm8_test \\</span></span>
<span class="line"><span>    --privileged=true \\</span></span>
<span class="line"><span>    -e PAGE_SIZE=16 \\</span></span>
<span class="line"><span>    -e LD_LIBRARY_PATH=/opt/dmdbms/binn \\</span></span>
<span class="line"><span>    -e EXTENT_SIZE=32 \\</span></span>
<span class="line"><span>    -e BLANK_PAD_MODE=1 \\</span></span>
<span class="line"><span>    -e LOG_SIZE=1024 \\</span></span>
<span class="line"><span>    -e UNICODE_FLAG=1 \\</span></span>
<span class="line"><span>    -e LENGTH_IN_CHAR=1 \\</span></span>
<span class="line"><span>    -e INSTANCE_NAME=dm8_test \\</span></span>
<span class="line"><span>    -v $PWD/dm8_test:/opt/dmdbms/data \\</span></span>
<span class="line"><span>    dm8_single:dm8_20230808_rev197096_x86_rh6_64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>备注：可以尝试使用大小写不敏感配置 <code>-e CASE_SENSITIVE=N</code>。需要停止并删除容器后，删除 <code>dm8_test</code> 目录，重新<code>docker run</code>。</p><h2 id="_2-数据库导入" tabindex="-1"><a class="header-anchor" href="#_2-数据库导入"><span><a href="#_2-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%BC%E5%85%A5">#</a> 2. 数据库导入</span></a></h2><p>使用 <a href="https://eco.dameng.com/document/dm/zh-cn/start/tool-dm-manager.html" target="_blank" rel="noopener noreferrer">DM 管理工具</a> 进行数据的导入。如果你不是很了解，已可以看看文档：</p><ul><li><a href="https://www.modb.pro/db/432934" target="_blank" rel="noopener noreferrer">《达梦数据库（二）DM Manager 管理工具》</a></li><li><a href="https://blog.51cto.com/u_16213594/7289559" target="_blank" rel="noopener noreferrer">《达梦数据库导入 SQL》</a></li></ul><p>具体步骤如下：</p><p>① 使用 DM 管理工具，新建一个名字为 <code>RUOYI_VUE_PRO</code> 的 schema 模式。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/达梦数据库/新建模式.png" alt="新建模式" tabindex="0" loading="lazy"><figcaption>新建模式</figcaption></figure><p>为什么名字是 RUOYI_VUE_PRO 呢？</p><p>因为稍后使用的 <code>sql/dm/ruoyi-vue-pro-dm8.sql</code> 文件，使用的 schema 是它噢。后续跑通了，你可以按照自己的修改。</p><p>② 点击 DM 管理工具的 [执行 -&gt; 执行脚本] 菜单，选中项目中的 <code>sql/dm/ruoyi-vue-pro-dm8.sql</code> 文件，之后点击 [绿色箭头] 进行执行即可。</p><h2 id="_3-项目启动" tabindex="-1"><a class="header-anchor" href="#_3-项目启动"><span><a href="#_3-%E9%A1%B9%E7%9B%AE%E5%90%AF%E5%8A%A8">#</a> 3. 项目启动</span></a></h2><p>① 修改 <code>yudao-spring-boot-starter-mybatis</code> 模块的 <code>pom.xml</code> 文件，将 DM 依赖的 <code>DmJdbcDriver18</code> 的 <code>optional</code> 移除。如下图所示：</p><figure><img src="https://cloud.iocoder.cn/img/快速启动/数据库依赖.png" alt="数据库依赖" tabindex="0" loading="lazy"><figcaption>数据库依赖</figcaption></figure><p>注意，需要使用 IDEA 刷新下 Maven 的依赖。</p><p>② 修改 <code>application-local.yaml</code> 配置文件，将数据库的 <code>url</code>、<code>username</code>、<code>password</code> 修改为 DM 数据库。例如说：</p><figure><img src="https://cloud.iocoder.cn/img/达梦数据库/数据库连接配置.png" alt="数据库连接配置" tabindex="0" loading="lazy"><figcaption>数据库连接配置</figcaption></figure><p>③ 后续启动项目，就可以了。</p><h3 id="_4-补充说明" tabindex="-1"><a class="header-anchor" href="#_4-补充说明"><span><a href="#_4-%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E">#</a> 4. 补充说明</span></a></h3><p>① <a href="https://eco.dameng.com/community/article/df11811a02de8e923c2e57ef6597bc62" target="_blank" rel="noopener noreferrer">《详解 DM 数据库字符串大小写敏感》</a></p><p>② 工作流的适配，可参考 <a href="https://blog.csdn.net/TangBoBoa/article/details/130392495" target="_blank" rel="noopener noreferrer">《Flowable6.8(6.x 版本通用)整合集成达梦 8 数据库(DM8)详解，解决自动生成表时 dmn 相关表语法报错问题》</a>。</p><p>短期内暂时没时间适配，欢迎你搞了之后，pull request 贡献给项目，从而帮助到更多人！</p>`,34)]))}const p=a(d,[["render",i],["__file","db-dameng.html.vue"]]),t=JSON.parse('{"path":"/project/yudao-cloud/db-dameng.html","title":"达梦数据库专属","lang":"en-US","frontmatter":{"title":"达梦数据库专属","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":17,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. DM 数据库的安装","slug":"_1-dm-数据库的安装","link":"#_1-dm-数据库的安装","children":[{"level":3,"title":"# 1.1 Windows 方式","slug":"_1-1-windows-方式","link":"#_1-1-windows-方式","children":[]},{"level":3,"title":"# 1.2 Docker 方式","slug":"_1-2-docker-方式","link":"#_1-2-docker-方式","children":[]}]},{"level":2,"title":"# 2. 数据库导入","slug":"_2-数据库导入","link":"#_2-数据库导入","children":[]},{"level":2,"title":"# 3. 项目启动","slug":"_3-项目启动","link":"#_3-项目启动","children":[{"level":3,"title":"# 4. 补充说明","slug":"_4-补充说明","link":"#_4-补充说明","children":[]}]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":2.52,"words":755},"filePathRelative":"project/yudao-cloud/db-dameng.md","localizedDate":"July 7, 2024"}');export{p as comp,t as data};
