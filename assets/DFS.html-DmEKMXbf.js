import{_ as i,o as a,c as n,a as t}from"./app-5QVbWi7Z.js";const h={};function l(p,s){return a(),n("div",null,s[0]||(s[0]=[t(`<h2 id="_1-gioi-thieu-ve-thuat-toan-tim-kiem-theo-chieu-sau" tabindex="-1"><a class="header-anchor" href="#_1-gioi-thieu-ve-thuat-toan-tim-kiem-theo-chieu-sau"><span>1. Giới thiệu về thuật toán tìm kiếm theo chiều sâu</span></a></h2><blockquote><p><strong>Thuật toán tìm kiếm theo chiều sâu (Depth First Search)</strong>: viết tắt là DFS, là một thuật toán được sử dụng để tìm kiếm trong cây hoặc đồ thị. Thuật toán tìm kiếm theo chiều sâu áp dụng ý tưởng quay lui, bắt đầu từ nút khởi đầu, đi sâu vào một đường đi càng xa càng tốt cho đến khi không thể tiếp tục, sau đó quay lại nút chưa được thăm trước đó, tiếp tục tìm kiếm sâu hơn cho đến khi hoàn thành quá trình tìm kiếm.</p></blockquote><p>Trong thuật toán tìm kiếm theo chiều sâu, việc đi sâu có nghĩa là ưu tiên đi sâu vào một đường đi càng xa càng tốt cho đến khi không thể tiếp tục sâu hơn.</p><p>Trong quá trình duyệt theo chiều sâu, chúng ta cần lưu trữ tạm thời các nút kề của nút hiện tại u, để có thể tiếp tục truy cập chúng khi quay lại. Thứ tự các nút được duyệt theo đúng theo nguyên tắc &quot;vào sau ra trước&quot;, đây chính là nguyên tắc mà &quot;đệ quy&quot; và &quot;ngăn xếp&quot; tuân theo, do đó thuật toán tìm kiếm theo chiều sâu có thể được thực hiện thông qua &quot;đệ quy&quot; hoặc &quot;ngăn xếp&quot;.</p><h2 id="_2-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau" tabindex="-1"><a class="header-anchor" href="#_2-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau"><span>2. Các bước của thuật toán tìm kiếm theo chiều sâu</span></a></h2><p>Tiếp theo, chúng ta sẽ lấy một đồ thị vô hướng làm ví dụ để giới thiệu các bước của thuật toán tìm kiếm theo chiều sâu.</p><ol><li>Chọn nút khởi đầu u và đánh dấu nó là đã được thăm.</li><li>Kiểm tra xem nút hiện tại có phải là nút mục tiêu hay không (tuỳ thuộc vào yêu cầu cụ thể của bài toán).</li><li>Nếu nút hiện tại u là nút mục tiêu, trả về kết quả.</li><li>Nếu nút hiện tại u không phải là nút mục tiêu, duyệt qua tất cả các nút kề chưa được thăm của nút hiện tại u.</li><li>Đối với mỗi nút kề chưa được thăm v, tiếp tục tìm kiếm theo chiều sâu từ nút v (đệ quy).</li><li>Nếu nút u không có nút kề chưa được thăm, quay lại nút trước đó và tiếp tục tìm kiếm các đường đi khác.</li><li>Lặp lại các bước 2-6 cho đến khi duyệt qua toàn bộ đồ thị hoặc tìm thấy nút mục tiêu.</li></ol><figure><img src="https://raw.githubusercontent.com/vanhung4499/images/master/snap/20231001152015.png" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h2 id="_3-tim-kiem-theo-chieu-sau-dua-tren-đe-quy" tabindex="-1"><a class="header-anchor" href="#_3-tim-kiem-theo-chieu-sau-dua-tren-đe-quy"><span>3. Tìm kiếm theo chiều sâu dựa trên đệ quy</span></a></h2><h3 id="_3-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-đe-quy" tabindex="-1"><a class="header-anchor" href="#_3-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-đe-quy"><span>3.1 Các bước của thuật toán tìm kiếm theo chiều sâu dựa trên đệ quy</span></a></h3><p>Thuật toán tìm kiếm theo chiều sâu có thể được thực hiện thông qua đệ quy. Dưới đây là các bước của thuật toán tìm kiếm theo chiều sâu dựa trên đệ quy:</p><ol><li>Định nghĩa biến <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">graph</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">p</span><span class="mord mathnormal">h</span></span></span></span> để lưu trữ đồ thị vô hướng dưới dạng mảng lồng nhau, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">visited</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span></span></span></span> là tập hợp các nút đã được đánh dấu. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> là nút bắt đầu duyệt cạnh hiện tại. Định nghĩa <code>def dfs_recursive(graph, u, visited):</code> là phương thức tìm kiếm theo chiều sâu dựa trên đệ quy.</li><li>Chọn nút bắt đầu <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> và đánh dấu nó là đã được thăm bằng cách thêm nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> vào <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">visited</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span></span></span></span> (<code>visited.add(u)</code>).</li><li>Kiểm tra xem nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> có phải là nút mục tiêu hay không (tuỳ thuộc vào yêu cầu cụ thể của bài toán).</li><li>Nếu nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> là nút mục tiêu, trả về kết quả.</li><li>Nếu nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> không phải là nút mục tiêu, duyệt qua tất cả các nút kề chưa được thăm của nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span>.</li><li>Đối với mỗi nút kề chưa được thăm <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span>, tiếp tục tìm kiếm theo chiều sâu từ nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> (đệ quy), tức là gọi <code>dfs_recursive(graph, v, visited)</code>.</li><li>Nếu nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> không có nút kề chưa được thăm, quay lại nút trước đó và tiếp tục tìm kiếm các đường đi khác.</li><li>Lặp lại các bước 3-7 cho đến khi duyệt qua toàn bộ đồ thị hoặc tìm thấy nút mục tiêu.</li></ol><h3 id="_3-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-đe-quy" tabindex="-1"><a class="header-anchor" href="#_3-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-đe-quy"><span>3.2 Mã nguồn thực hiện tìm kiếm theo chiều sâu dựa trên đệ quy</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs_recursive</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">graph</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">u</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">visited</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(u)                        </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Truy cập nút</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        visited.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(u)                  </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đánh dấu nút u đã được truy cập</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> v </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> graph[u]:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> v </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> visited:        </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Nếu nút v chưa được truy cập</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                # Tiếp tục tìm kiếm theo chiều sâu</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">                self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs_recursive</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(graph, v, visited)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">graph </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;F&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;F&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;G&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;G&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: []</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Tìm kiếm theo chiều sâu dựa trên đệ quy</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">visited </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> set</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs_recursive</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(graph, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, visited)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep" tabindex="-1"><a class="header-anchor" href="#_4-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep"><span>4. Tìm kiếm theo chiều sâu dựa trên ngăn xếp</span></a></h2><h3 id="_4-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep" tabindex="-1"><a class="header-anchor" href="#_4-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep"><span>4.1 Các bước của thuật toán tìm kiếm theo chiều sâu dựa trên ngăn xếp</span></a></h3><p>Thuật toán tìm kiếm theo chiều sâu có thể được thực hiện dựa trên ngăn xếp. Đồng thời, để tránh việc duyệt lại các nút, khi lưu trữ các bản ghi truy cập nút trong ngăn xếp, chúng ta sẽ lưu trữ &quot;nút hiện tại&quot; và &quot;chỉ số của nút kề tiếp theo sẽ được truy cập&quot; cùng một lúc. Điều này cho phép chúng ta có thể truy cập trực tiếp đến nút kề tiếp theo thông qua chỉ số mà không cần duyệt qua tất cả các nút kề.</p><p>Dưới đây là các bước của thuật toán tìm kiếm theo chiều sâu dựa trên ngăn xếp:</p><ol><li>Định nghĩa biến <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>r</mi><mi>a</mi><mi>p</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">graph</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">p</span><span class="mord mathnormal">h</span></span></span></span> để lưu trữ đồ thị vô hướng dưới dạng mảng lồng nhau, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">visited</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span></span></span></span> là tập hợp các nút đã được đánh dấu. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">start</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">t</span></span></span></span> là nút bắt đầu duyệt.</li><li>Chọn nút bắt đầu <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span>, kiểm tra xem nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> có phải là nút mục tiêu hay không (tuỳ thuộc vào yêu cầu cụ thể của bài toán).</li><li>Nếu nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> là nút mục tiêu, trả về kết quả.</li><li>Nếu nút hiện tại <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> không phải là nút mục tiêu, đặt nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> và chỉ số của nút kề tiếp theo sẽ được truy cập là 0 vào ngăn xếp và đánh dấu nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> là đã được truy cập (<code>stack.append([u, 0])</code>, <code>visited.add(u)</code>).</li><li>Nếu ngăn xếp không rỗng, lấy phần tử trên cùng của ngăn xếp là nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> và chỉ số của nút kề tiếp theo sẽ được truy cập là <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>.</li><li>Dựa vào nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> và chỉ số <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>, lấy ra nút kề chưa được truy cập tiếp theo <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span>.</li><li>Đặt nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> và chỉ số của nút kề tiếp theo sẽ được truy cập là <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> vào ngăn xếp.</li><li>Truy cập nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> và thực hiện các thao tác liên quan đến nút (tuỳ thuộc vào yêu cầu cụ thể của bài toán).</li><li>Đặt nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> và chỉ số của nút kề tiếp theo sẽ được truy cập là 0 vào ngăn xếp và đánh dấu nút <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> là đã được truy cập (<code>stack.append([v, 0])</code>, <code>visited.add(v)</code>).</li><li>Lặp lại các bước 5-9 cho đến khi ngăn xếp trống hoặc tìm thấy nút mục tiêu.</li></ol><h3 id="_4-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep" tabindex="-1"><a class="header-anchor" href="#_4-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep"><span>4.2 Mã nguồn thực hiện tìm kiếm theo chiều sâu dựa trên ngăn xếp</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs_stack</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">graph</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">u</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(u)                            </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Truy cập nút u</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        visited, stack </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> set</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(), []          </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Sử dụng visited để đánh dấu các nút đã được truy cập, sử dụng ngăn xếp stack để lưu trữ các nút tạm thời</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        stack.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">([u, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">])                </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đặt nút u và chỉ số của nút kề tiếp theo sẽ được truy cập là 0 vào ngăn xếp</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        visited.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(u)                      </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đánh dấu nút u là đã được truy cập</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        while</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> stack:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            u, i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> stack.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">pop</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()              </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Lấy phần tử trên cùng của ngăn xếp là nút u và chỉ số của nút kề tiếp theo sẽ được truy cập là i</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            </span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(graph[u]):</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                v </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> graph[u][i]             </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Lấy ra nút kề chưa được truy cập tiếp theo v</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                stack.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">([u, i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">])    </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đặt nút u và chỉ số của nút kề tiếp theo sẽ được truy cập là i + 1 vào ngăn xếp</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> v </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> visited:        </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Nếu nút v chưa được truy cập</span></span>
<span class="line"><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">                    print</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(v)                </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Truy cập nút v</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                    stack.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">([v, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">])    </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đặt nút v và chỉ số của nút kề tiếp theo sẽ được truy cập là 0 vào ngăn xếp</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                    visited.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(v)          </span><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Đánh dấu nút v là đã được truy cập                </span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">graph </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;F&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;E&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;C&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;F&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;D&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;G&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">    &quot;G&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: []</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># Tìm kiếm theo chiều sâu dựa trên ngăn xếp</span></span>
<span class="line"><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs_stack</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(graph, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-ung-dung-cua-tim-kiem-theo-chieu-sau" tabindex="-1"><a class="header-anchor" href="#_5-ung-dung-cua-tim-kiem-theo-chieu-sau"><span>5. Ứng dụng của tìm kiếm theo chiều sâu</span></a></h2><h3 id="_5-1-so-luong-đao" tabindex="-1"><a class="header-anchor" href="#_5-1-so-luong-đao"><span>5.1 Số lượng đảo</span></a></h3><h4 id="_5-1-1-đuong-dan-đen-bai-toan" tabindex="-1"><a class="header-anchor" href="#_5-1-1-đuong-dan-đen-bai-toan"><span>5.1.1 Đường dẫn đến bài toán</span></a></h4><ul><li><a href="https://leetcode.com/problems/number-of-islands/" target="_blank" rel="noopener noreferrer">200. Number of Islands</a></li></ul><h4 id="_5-1-2-đe-bai" tabindex="-1"><a class="header-anchor" href="#_5-1-2-đe-bai"><span>5.1.2 Đề bài</span></a></h4><p><strong>Mô tả</strong>: Cho một lưới hai chiều <code>grid</code> được tạo bởi các ký tự <code>&#39;1&#39;</code> (đất) và <code>&#39;0&#39;</code> (nước).</p><p><strong>Yêu cầu</strong>: Hãy tính số lượng đảo trong lưới.</p><p><strong>Giải thích</strong>:</p><ul><li>Đảo luôn bị bao quanh bởi nước và mỗi đảo chỉ có thể được tạo thành từ các đất kề nhau theo hướng ngang và/hoặc dọc.</li><li>Ngoài ra, bạn có thể giả định rằng cả bốn cạnh của lưới đều bị bao quanh bởi nước.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> là số hàng của lưới.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> là số cột của lưới.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo>≤</mo><mn>300</mn></mrow><annotation encoding="application/x-tex">1 \\le m, n \\le 300</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">300</span></span></span></span>.</li><li>Giá trị của <code>grid[i][j]</code> là <code>&#39;0&#39;</code> hoặc <code>&#39;1&#39;</code>.</li></ul><p><strong>Ví dụ</strong>:</p><ul><li>Ví dụ 1:</li></ul><div class="language-python" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Input: grid </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Output: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span></span></code></pre></div><ul><li>Ví dụ 2:</li></ul><div class="language-python" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Input: grid </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Output: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span></span></code></pre></div><h4 id="_5-1-3-y-tuong-giai-quyet" tabindex="-1"><a class="header-anchor" href="#_5-1-3-y-tuong-giai-quyet"><span>5.1.3 Ý tưởng giải quyết</span></a></h4><p>Nếu xem các ký tự <code>&#39;1&#39;</code> kề nhau theo hướng ngang và/hoặc dọc như là một khối liên thông, thì bài toán này yêu cầu chúng ta tìm số lượng khối liên thông.</p><p>Chúng ta có thể sử dụng tìm kiếm theo chiều sâu hoặc tìm kiếm theo chiều rộng để giải quyết.</p><h5 id="y-tuong-1-tim-kiem-theo-chieu-sau" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-tim-kiem-theo-chieu-sau"><span>Ý tưởng 1: Tìm kiếm theo chiều sâu</span></a></h5><ol><li>Duyệt qua lưới <code>grid</code>.</li><li>Đối với mỗi ký tự <code>&#39;1&#39;</code>, duyệt qua bốn hướng trên, dưới, trái, phải và đặt ký tự này thành <code>&#39;0&#39;</code> để đảm bảo không duyệt lại.</li><li>Nếu vượt quá biên, trả về 0.</li><li>Đối với phần tử <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>, các vị trí đệ quy sẽ là <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i - 1, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j - 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i + 1, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j + 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> bốn hướng. Mỗi lần đệ quy đến cuối, tăng biến đếm lên một lần.</li><li>Số lượng lần đệ quy tìm kiếm theo chiều sâu chính là số lượng đảo chúng ta cần tìm.</li></ol><h5 id="y-tuong-1-code" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-code"><span>Ý tưởng 1: Code</span></a></h5><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">grid</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">i</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">j</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        n </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        m </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> n </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">or</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> j </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> j </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> m </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">or</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> grid[i][j] </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;0&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        grid[i][j] </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;0&#39;</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid, i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, j)</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid, i, j </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid, i </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, j)</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid, i, j </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> numIslands</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">grid</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: List[List[</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">str</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]) -&gt; </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">int</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        count </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> range</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid)):</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> j </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> range</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">len</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">])):</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> grid[i][j] </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &#39;1&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">                    self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(grid, i, j)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                    count </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">+=</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> count</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="y-tuong-1-phan-tich-đo-phuc-tap" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-phan-tich-đo-phuc-tap"><span>Ý tưởng 1: Phân tích độ phức tạp</span></a></h5><ul><li><strong>Độ phức tạp thời gian</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m \\times n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>. Trong đó, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> và <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> lần lượt là số hàng và số cột.</li><li><strong>Độ phức tạp không gian</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>m</mi><mo>×</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(m \\times n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>.</li></ul><h3 id="_5-2-sao-chep-đo-thi" tabindex="-1"><a class="header-anchor" href="#_5-2-sao-chep-đo-thi"><span>5.2 Sao chép đồ thị</span></a></h3><h4 id="_5-2-1-lien-ket-đen-bai-toan" tabindex="-1"><a class="header-anchor" href="#_5-2-1-lien-ket-đen-bai-toan"><span>5.2.1 Liên kết đến bài toán</span></a></h4><ul><li><a href="https://leetcode.com/problems/clone-graph/" target="_blank" rel="noopener noreferrer">133. Clone Graph</a></li></ul><h4 id="_5-2-2-đe-bai" tabindex="-1"><a class="header-anchor" href="#_5-2-2-đe-bai"><span>5.2.2 Đề bài</span></a></h4><p><strong>Mô tả</strong>: Cho một đồ thị vô hướng được biểu diễn dưới dạng danh sách kề (mảng hai chiều), trong đó <code>adjList[i]</code> đại diện cho danh sách kề của nút có giá trị <code>i + 1</code>, <code>adjList[i][j]</code> đại diện cho nút có giá trị <code>i + 1</code> và nút kề có giá trị <code>adjList[i][j]</code>.</p><p><strong>Yêu cầu</strong>: Trả về một bản sao sâu của đồ thị đó.</p><p><strong>Giải thích</strong>:</p><ul><li>Đồ thị luôn bị bao quanh bởi nước và mỗi đảo chỉ có thể được tạo thành từ các đất kề nhau theo hướng ngang và/hoặc dọc.</li><li>Bạn có thể giả định rằng giá trị của <code>Node.val</code> là duy nhất, <code>1 ≤ Node.val ≤ 100</code>.</li><li>Đồ thị là đồ thị liên thông, bạn có thể truy cập tất cả các nút từ nút đã cho.</li></ul><p><strong>Ví dụ</strong>:</p><div class="language-python" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Input: adjList </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> [[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Output: [[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Explanation:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Có </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> nút trong đồ thị.</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> có giá trị là </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, có hai nút kề: nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> và </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> có giá trị là </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, có hai nút kề: nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> và </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> có giá trị là </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, có hai nút kề: nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> và </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> có giá trị là </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, có hai nút kề: nút </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> và </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span></span></code></pre></div><div class="language-python" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Input: adjList </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> [[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">Output: [[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]]</span></span></code></pre></div><h4 id="_5-2-3-y-tuong-giai-quyet" tabindex="-1"><a class="header-anchor" href="#_5-2-3-y-tuong-giai-quyet"><span>5.2.3 Ý tưởng giải quyết</span></a></h4><p>Sao chép sâu của đồ thị có nghĩa là xây dựng một đồ thị có cấu trúc và giá trị giống với đồ thị ban đầu, nhưng các nút không phải là tham chiếu của nút ban đầu, tức là mỗi nút đều được tạo mới.</p><p>Có thể sử dụng tìm kiếm theo chiều sâu hoặc tìm kiếm theo chiều rộng để giải quyết.</p><h5 id="y-tuong-1-tim-kiem-theo-chieu-sau-1" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-tim-kiem-theo-chieu-sau-1"><span>Ý tưởng 1: Tìm kiếm theo chiều sâu</span></a></h5><ol><li>Sử dụng từ điển <code>visitedDict</code> để lưu trữ các nút đã được truy cập trong đồ thị gốc và đồ thị sao chép, với cặp khóa-giá trị là &quot;nút đã được truy cập trong đồ thị gốc: nút tương ứng trong đồ thị sao chép&quot;.</li><li>Bắt đầu từ nút đã cho, sử dụng tìm kiếm theo chiều sâu để duyệt qua đồ thị gốc. <ol><li>Nếu nút hiện tại đã được truy cập, trả về nút tương ứng trong đồ thị sao chép.</li><li>Nếu nút hiện tại chưa được truy cập, tạo một nút mới và lưu trữ trong <code>visitedDict</code>.</li><li>Duyệt qua danh sách các nút kề của nút hiện tại, đệ quy gọi tìm kiếm theo chiều sâu trên các nút kề và thêm vào danh sách nút kề của nút sao chép.</li></ol></li><li>Kết thúc đệ quy, trả về nút sao chép.</li></ol><h5 id="y-tuong-1-code-1" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-code-1"><span>Ý tưởng 1: Code</span></a></h5><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> Solution</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> cloneGraph</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;Node&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;Node&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> not</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> node:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> node</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        visitedDict </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;"> dict</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        def</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;Node&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&#39;Node&#39;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> node </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> visitedDict:</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">                return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> visitedDict[node]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            clone_node </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> Node</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(node.val, [])</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">            visitedDict[node] </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> clone_node</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            for</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> neighbor </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> node.neighbors:</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">                clone_node.neighbors.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(neighbor))</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> clone_node</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> dfs</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(node)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="y-tuong-1-phan-tich-đo-phuc-tap-1" tabindex="-1"><a class="header-anchor" href="#y-tuong-1-phan-tich-đo-phuc-tap-1"><span>Ý tưởng 1: Phân tích độ phức tạp</span></a></h5><ul><li><strong>Độ phức tạp thời gian</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>. Trong đó, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> là số lượng nút trong đồ thị.</li><li><strong>Độ phức tạp không gian</strong>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>.</li></ul>`,64)]))}const k=i(h,[["render",l],["__file","DFS.html.vue"]]),B=JSON.parse('{"path":"/dsa/algo/graph/traversal/DFS.html","title":"DFS","lang":"en-US","frontmatter":{"title":"DFS","order":1,"date created":"2023-05-29T00:00:00.000Z","date modified":"2023-10-01T00:00:00.000Z","tags":["algorithm"],"categories":["algorithm"],"description":"1. Giới thiệu về thuật toán tìm kiếm theo chiều sâu Thuật toán tìm kiếm theo chiều sâu (Depth First Search): viết tắt là DFS, là một thuật toán được sử dụng để tìm kiếm trong câ...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/dsa/algo/graph/traversal/DFS.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"DFS"}],["meta",{"property":"og:description","content":"1. Giới thiệu về thuật toán tìm kiếm theo chiều sâu Thuật toán tìm kiếm theo chiều sâu (Depth First Search): viết tắt là DFS, là một thuật toán được sử dụng để tìm kiếm trong câ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20231001152015.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"algorithm"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DFS\\",\\"image\\":[\\"https://raw.githubusercontent.com/vanhung4499/images/master/snap/20231001152015.png\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1. Giới thiệu về thuật toán tìm kiếm theo chiều sâu","slug":"_1-gioi-thieu-ve-thuat-toan-tim-kiem-theo-chieu-sau","link":"#_1-gioi-thieu-ve-thuat-toan-tim-kiem-theo-chieu-sau","children":[]},{"level":2,"title":"2. Các bước của thuật toán tìm kiếm theo chiều sâu","slug":"_2-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau","link":"#_2-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau","children":[]},{"level":2,"title":"3. Tìm kiếm theo chiều sâu dựa trên đệ quy","slug":"_3-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","link":"#_3-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","children":[{"level":3,"title":"3.1 Các bước của thuật toán tìm kiếm theo chiều sâu dựa trên đệ quy","slug":"_3-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","link":"#_3-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","children":[]},{"level":3,"title":"3.2 Mã nguồn thực hiện tìm kiếm theo chiều sâu dựa trên đệ quy","slug":"_3-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","link":"#_3-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-đe-quy","children":[]}]},{"level":2,"title":"4. Tìm kiếm theo chiều sâu dựa trên ngăn xếp","slug":"_4-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","link":"#_4-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","children":[{"level":3,"title":"4.1 Các bước của thuật toán tìm kiếm theo chiều sâu dựa trên ngăn xếp","slug":"_4-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","link":"#_4-1-cac-buoc-cua-thuat-toan-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","children":[]},{"level":3,"title":"4.2 Mã nguồn thực hiện tìm kiếm theo chiều sâu dựa trên ngăn xếp","slug":"_4-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","link":"#_4-2-ma-nguon-thuc-hien-tim-kiem-theo-chieu-sau-dua-tren-ngan-xep","children":[]}]},{"level":2,"title":"5. Ứng dụng của tìm kiếm theo chiều sâu","slug":"_5-ung-dung-cua-tim-kiem-theo-chieu-sau","link":"#_5-ung-dung-cua-tim-kiem-theo-chieu-sau","children":[{"level":3,"title":"5.1 Số lượng đảo","slug":"_5-1-so-luong-đao","link":"#_5-1-so-luong-đao","children":[]},{"level":3,"title":"5.2 Sao chép đồ thị","slug":"_5-2-sao-chep-đo-thi","link":"#_5-2-sao-chep-đo-thi","children":[]}]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":10.91,"words":3273},"filePathRelative":"dsa/algo/graph/traversal/DFS.md","localizedDate":"June 28, 2024","excerpt":"<h2>1. Giới thiệu về thuật toán tìm kiếm theo chiều sâu</h2>\\n<blockquote>\\n<p><strong>Thuật toán tìm kiếm theo chiều sâu (Depth First Search)</strong>: viết tắt là DFS, là một thuật toán được sử dụng để tìm kiếm trong cây hoặc đồ thị. Thuật toán tìm kiếm theo chiều sâu áp dụng ý tưởng quay lui, bắt đầu từ nút khởi đầu, đi sâu vào một đường đi càng xa càng tốt cho đến khi không thể tiếp tục, sau đó quay lại nút chưa được thăm trước đó, tiếp tục tìm kiếm sâu hơn cho đến khi hoàn thành quá trình tìm kiếm.</p>\\n</blockquote>","autoDesc":true}');export{k as comp,B as data};
