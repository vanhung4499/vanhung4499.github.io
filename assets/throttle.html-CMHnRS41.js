import{_ as s,o as a,c as n,d as i}from"./app-B-Bgbu6w.js";const l={},t=i(`<h1 id="ham-throttle" tabindex="-1"><a class="header-anchor" href="#ham-throttle"><span>H√†m Throttle</span></a></h1><p><strong>H√†m Throttle</strong>: Quy ƒë·ªãnh m·ªôt kho·∫£ng th·ªùi gian, trong kho·∫£ng th·ªùi gian n√†y, ch·ªâ c√≥ m·ªôt l·∫ßn g·ªçi l·∫°i h√†m x·ª≠ l√Ω s·ª± ki·ªán ƒë∆∞·ª£c th·ª±c thi. N·∫øu trong c√πng m·ªôt kho·∫£ng th·ªùi gian m·ªôt s·ª± ki·ªán ƒë∆∞·ª£c g·ªçi l·∫°i nhi·ªÅu l·∫ßn, ch·ªâ c√≥ m·ªôt l·∫ßn ƒë∆∞·ª£c th·ª±c thi. ƒê∆°n gi·∫£n m√† n√≥i, h√†m ƒë∆∞·ª£c th·ª±c thi ngay l·∫≠p t·ª©c khi g·ªçi, nh∆∞ng ƒë·ªÉ th·ª±c thi l·∫ßn ti·∫øp theo, c·∫ßn ph·∫£i ch·ªù m·ªôt kho·∫£ng th·ªùi gian sau khi th·ª±c thi l·∫ßn tr∆∞·ªõc.</p><p>üèï <strong>V√≠ d·ª• trong cu·ªôc s·ªëng h√†ng ng√†y</strong>:</p><p>Ch√∫ng ta bi·∫øt r·∫±ng hi·ªán t·∫°i c√≥ m·ªôt quan ƒëi·ªÉm l√† khi li√™n t·ª•c ph√°t 24 khung h√¨nh trong 1 gi√¢y, trong th·ªã gi√°c c·ªßa con ng∆∞·ªùi s·∫Ω t·∫°o th√†nh m·ªôt ho·∫°t h√¨nh li√™n t·ª•c, v√¨ v·∫≠y trong vi·ªác ph√°t phim th∆∞·ªùng ƒë∆∞·ª£c ph√°t v·ªõi t·ªëc ƒë·ªô 24 khung h√¨nh tr√™n gi√¢y, t·∫°i sao kh√¥ng ph·∫£i l√† 100 khung h√¨nh ho·∫∑c nhi·ªÅu h∆°n, ch·ªß y·∫øu l√† v√¨ 24 khung h√¨nh ƒë√£ ƒë√°p ·ª©ng ƒë∆∞·ª£c nhu c·∫ßu th·ªã gi√°c c·ªßa con ng∆∞·ªùi, trong khi 100 khung h√¨nh s·∫Ω ph√≠ ph·∫°m t√†i nguy√™n.</p><h2 id="muc-ƒëich" tabindex="-1"><a class="header-anchor" href="#muc-ƒëich"><span>M·ª•c ƒë√≠ch</span></a></h2><p>T·ª´ ch√≠nh nghƒ©a, h√†m Throttle ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ gi·ªõi h·∫°n t·ªëc ƒë·ªô th·ª±c thi c·ªßa h√†m, t·ª´ ƒë√≥ t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t m·ªôt c√°ch ƒë√°ng k·ªÉ.</p><p>V√≠ d·ª•, thao t√°c DOM chi·∫øm nhi·ªÅu b·ªô nh·ªõ h∆°n v√† t·ªën nhi·ªÅu th·ªùi gian x·ª≠ l√Ω CPU h∆°n so v·ªõi t∆∞∆°ng t√°c kh√¥ng ph·∫£i DOM. Th·ª≠ nghi·ªám li√™n t·ª•c th·ª±c hi·ªán qu√° nhi·ªÅu thao t√°c DOM c√≥ th·ªÉ l√†m cho tr√¨nh duy·ªát b·ªã ƒë∆°, ƒë√¥i khi th·∫≠m ch√≠ l√† g√¢y s·ª± c·ªë. ƒê·∫∑c bi·ªát khi s·ª≠ d·ª•ng tr√¨nh x·ª≠ l√Ω s·ª± ki·ªán <code>onresize</code> trong IE, khi thay ƒë·ªïi k√≠ch th∆∞·ªõc tr√¨nh duy·ªát, s·ª± ki·ªán n√†y s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t li√™n t·ª•c. Trong x·ª≠ l√Ω s·ª± ki·ªán <code>onresize</code>, n·∫øu th·ª≠ nghi·ªám th·ª±c hi·ªán c√°c thao t√°c DOM v·ªõi t·∫ßn su·∫•t cao, c√°c thay ƒë·ªïi th∆∞·ªùng xuy√™n n√†y c√≥ th·ªÉ l√†m cho tr√¨nh duy·ªát b·ªã ƒë∆°.</p><h2 id="cai-ƒëat-ma" tabindex="-1"><a class="header-anchor" href="#cai-ƒëat-ma"><span>C√†i ƒë·∫∑t m√£</span></a></h2><div class="language-js line-numbers-mode" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * Th·ª±c hi·ªán h√†m Throttle (nh·∫±m gi·∫£m t·∫ßn su·∫•t g·ªçi h√†m)</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> fn</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> {Function} H√†m th·ª±c t·∫ø c·∫ßn th·ª±c thi</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@param</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;"> wait</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> {Number} Kho·∫£ng th·ªùi gian gi·ªØa c√°c l·∫ßn th·ª±c thi, t√≠nh b·∫±ng mili gi√¢y (ms), m·∫∑c ƒë·ªãnh l√† 100ms</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> * </span><span style="color:#C678DD;--shiki-dark:#C678DD;font-style:italic;--shiki-dark-font-style:italic;">@return</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;font-style:italic;--shiki-dark-font-style:italic;"> {Function}</span><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> H√†m c√≥ th·ªÉ g·ªçi ƒë·ªÉ th·ª±c thi</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">fn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">wait</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 500</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // S·ª≠ d·ª•ng closure ƒë·ªÉ l∆∞u tr·ªØ b·ªô ƒë·∫øm th·ªùi gian v√† th·ªùi gian th·ª±c thi l·∫ßn cu·ªëi</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> timer</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> null</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    last</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (...</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> now</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#C678DD;--shiki-dark:#C678DD;">new</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> Date</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">last</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> now</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> last</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> +</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">      clearTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">timer</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      timer</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(() </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">        last</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> now</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">        fun</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">apply</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">      }, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">timeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">else</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      last</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> now</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      fn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">apply</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">args</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ung-dung-thuc-te" tabindex="-1"><a class="header-anchor" href="#ung-dung-thuc-te"><span>·ª®ng d·ª•ng th·ª±c t·∫ø</span></a></h2><h3 id="ung-dung-trong-nguyen-ban" tabindex="-1"><a class="header-anchor" href="#ung-dung-trong-nguyen-ban"><span>·ª®ng d·ª•ng trong nguy√™n b·∫£n</span></a></h3><p>Khi l·∫ßn ƒë·∫ßu ti√™n nh·∫•p v√†o n√∫t, h√†m <code>trigger</code> ƒë∆∞·ª£c k√≠ch ho·∫°t. Trong v√≤ng 1000 mili gi√¢y, vi·ªác nh·∫•p n√∫t li√™n t·ª•c c≈©ng kh√¥ng l√†m h√†m <code>trigger</code> ƒë∆∞·ª£c th·ª±c thi l·∫°i, ch·ªâ khi nh·∫•p n√∫t sau 1000 mili gi√¢y, h√†m <code>trigger</code> m·ªõi ƒë∆∞·ª£c th·ª±c thi l·∫°i.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">const</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> button</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> document</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">getElementById</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;button&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> trigger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">  console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;click&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">button</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;click&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">trigger</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">1000</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span></code></pre></div><h3 id="ung-dung-trong-react" tabindex="-1"><a class="header-anchor" href="#ung-dung-trong-react"><span>·ª®ng d·ª•ng trong React</span></a></h3><p>Trong React, l·∫Øng nghe s·ª± ki·ªán <code>resize</code> c·ªßa c·ª≠a s·ªï v√† s·ª± ki·ªán <code>onChange</code> c·ªßa √¥ nh·∫≠p li·ªáu:</p><div class="language-jsx line-numbers-mode" data-ext="jsx" data-title="jsx"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> React</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, { </span><span style="color:#E06C75;--shiki-dark:#E06C75;">Component</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">import</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> { </span><span style="color:#E06C75;--shiki-dark:#E06C75;">throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> } </span><span style="color:#C678DD;--shiki-dark:#C678DD;">from</span><span style="color:#98C379;--shiki-dark:#98C379;"> &#39;@utils/throttle&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">export</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> default</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> class</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Invoke</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> extends</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;"> Component</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  constructor</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;font-style:italic;--shiki-dark-font-style:italic;">    super</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">change</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">((</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">target</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">value</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;throttle&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  handleWindowResize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;resize&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  componentDidMount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">addEventListener</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;resize&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">handleWindowResize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  componentWillUnmount</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">removeEvenetListener</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;resize&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">handleWindowResize</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">), </span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  handleInputChange</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // L∆∞u tr·ªØ s·ª± ki·ªán</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">persist</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">change</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">e</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  render</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> &lt;</span><span style="color:#E06C75;--shiki-dark:#E06C75;">input</span><span style="color:#D19A66;--shiki-dark:#D19A66;font-style:italic;--shiki-dark-font-style:italic;"> type</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#98C379;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="color:#D19A66;--shiki-dark:#D19A66;font-style:italic;--shiki-dark-font-style:italic;"> onChange</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="color:#C678DD;--shiki-dark:#C678DD;">{</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">handleInputChange</span><span style="color:#C678DD;--shiki-dark:#C678DD;">}</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> /&gt;;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>C√°c th∆∞ vi·ªán kh√°c c≈©ng cung c·∫•p c√°ch th·ª±c hi·ªán:</p><ul><li><a href="https://github.com/lodash/lodash/blob/master/throttle.js" target="_blank" rel="noopener noreferrer">Lodash - throttle</a></li><li><a href="https://underscorejs.org/#throttle" target="_blank" rel="noopener noreferrer">Underscore - throttle</a></li></ul><h3 id="cac-tinh-huong-ung-dung" tabindex="-1"><a class="header-anchor" href="#cac-tinh-huong-ung-dung"><span>C√°c t√¨nh hu·ªëng ·ª©ng d·ª•ng</span></a></h3><p>C√°c t√¨nh hu·ªëng ph·ªï bi·∫øn m√† th∆∞·ªùng x·∫£y ra s·ª± ki·ªán l·∫Øng nghe v·ªõi t·∫ßn su·∫•t cao:</p><ul><li>T√¨nh hu·ªëng ho·∫°t h√¨nh: tr√°nh vi·ªác k√≠ch ho·∫°t ho·∫°t h√¨nh qu√° nhi·ªÅu l·∫ßn trong kho·∫£ng th·ªùi gian ng·∫Øn g√¢y ra v·∫•n ƒë·ªÅ v·ªÅ hi·ªáu su·∫•t.</li><li>T√¨nh hu·ªëng k√©o th·∫£: ch·ªâ th·ª±c thi m·ªôt l·∫ßn trong kho·∫£ng th·ªùi gian c·ªë ƒë·ªãnh, tr√°nh vi·ªác thay ƒë·ªïi v·ªã tr√≠ li√™n t·ª•c v·ªõi t·∫ßn su·∫•t cao (s·ª± ki·ªán <code>mousemove</code>).</li><li>T√¨nh hu·ªëng thu ph√≥ng: theo d√µi k√≠ch th∆∞·ªõc c·ª≠a s·ªï tr√¨nh duy·ªát (s·ª± ki·ªán <code>resize</code>).</li><li>T√¨nh hu·ªëng cu·ªôn: s·ª± ki·ªán cu·ªôn chu·ªôt (s·ª± ki·ªán <code>wheel</code>).</li><li>Ch·ª©c nƒÉng v·∫Ω tr√™n Canvas.</li></ul><blockquote><p>T√≥m l·∫°i: Th√≠ch h·ª£p cho vi·ªác ph√¢n ph·ªëi s·ª± ki·ªán theo th·ªùi gian trong tr∆∞·ªùng h·ª£p c√≥ nhi·ªÅu s·ª± ki·ªán x·∫£y ra.</p></blockquote><h2 id="vi-du-thuc-te" tabindex="-1"><a class="header-anchor" href="#vi-du-thuc-te"><span>V√≠ d·ª• th·ª±c t·∫ø</span></a></h2><h3 id="su-kien-cuon-trang" tabindex="-1"><a class="header-anchor" href="#su-kien-cuon-trang"><span>S·ª± ki·ªán cu·ªôn trang</span></a></h3><p>·ªû ƒë√¢y, ch√∫ng ta l·∫•y v√≠ d·ª• v·ªÅ vi·ªác x√°c ƒë·ªãnh xem trang ƒë√£ cu·ªôn ƒë·∫øn cu·ªëi ch∆∞a. Ph∆∞∆°ng ph√°p th√¥ng th∆∞·ªùng l√† l·∫Øng nghe s·ª± ki·ªán <code>scroll</code> c·ªßa ƒë·ªëi t∆∞·ª£ng Window, sau ƒë√≥ vi·∫øt m√£ logic ƒë·ªÉ ki·ªÉm tra xem trang ƒë√£ cu·ªôn ƒë·∫øn cu·ªëi ch∆∞a.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">on</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;scroll&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">  // M√£ logic ki·ªÉm tra xem trang ƒë√£ cu·ªôn ƒë·∫øn cu·ªëi ch∆∞a</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pageHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;body&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">height</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    scrollTop</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">scrollTop</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    winHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">height</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    thresold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pageHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> scrollTop</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> winHeight</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">thresod</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &gt;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> thresold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &lt;=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 20</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">    console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Cu·ªëi trang&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">});</span></span></code></pre></div><p>M·ªôt ƒëi·ªÉm h·∫°n ch·∫ø c·ªßa c√°ch l√†m n√†y l√† n√≥ t·ªën nhi·ªÅu t√†i nguy√™n, v√¨ khi cu·ªôn trang, tr√¨nh duy·ªát s·∫Ω li√™n t·ª•c t√≠nh to√°n v√† ki·ªÉm tra m√£ logic xem trang ƒë√£ cu·ªôn ƒë·∫øn cu·ªëi ch∆∞a. Trong th·ª±c t·∫ø, ch√∫ng ta kh√¥ng c·∫ßn l√†m nh∆∞ v·∫≠y. Trong th·ª±c t·∫ø, c√≥ th·ªÉ nh∆∞ sau: trong qu√° tr√¨nh cu·ªôn, ch·ªâ c·∫ßn t√≠nh to√°n m√£ logic ki·ªÉm tra sau m·ªói kho·∫£ng th·ªùi gian. V√† ƒëi·ªÅu m√† h√†m throttle l√†m l√† th·ª±c hi·ªán h√†m c·∫ßn thi·∫øt sau m·ªói kho·∫£ng th·ªùi gian. V√¨ v·∫≠y, vi·ªác s·ª≠ d·ª•ng h√†m throttle trong s·ª± ki·ªán cu·ªôn l√† m·ªôt ·ª©ng d·ª•ng t·ªët.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">$</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">on</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#98C379;--shiki-dark:#98C379;">  &#39;scroll&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">  throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#7F848E;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic;">    // M√£ logic ki·ªÉm tra xem trang ƒë√£ cu·ªôn ƒë·∫øn cu·ªëi ch∆∞a</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pageHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;body&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">height</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      scrollTop</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">scrollTop</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      winHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> $</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;">window</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">).</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">height</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      thresold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> pageHeight</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> scrollTop</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> winHeight</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#E06C75;--shiki-dark:#E06C75;">thresold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &gt;</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> -</span><span style="color:#D19A66;--shiki-dark:#D19A66;">100</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> thresold</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> &lt;=</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 20</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      console</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">log</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#98C379;--shiki-dark:#98C379;">&#39;Cu·ªëi trang&#39;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  }, </span><span style="color:#D19A66;--shiki-dark:#D19A66;">300</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span></code></pre></div><p>Sau khi √°p d·ª•ng h√†m throttle, khi trang cu·ªôn, ch·ªâ c√≥ th·ªÉ th·ª±c hi·ªán m√£ logic ki·ªÉm tra sau m·ªói 300ms.</p><p>ƒê∆°n gi·∫£n m√† n√≥i, h√†m throttle s·ª≠ d·ª•ng closure ƒë·ªÉ l∆∞u tr·ªØ m·ªôt bi·ªÉu th·ª©c (th∆∞·ªùng l√† bi·ªÉu th·ª©c ƒë·ªãnh danh th·ªùi gian) v√† ki·ªÉm tra xem bi·ªÉu th·ª©c n√†y c√≥ gi√° tr·ªã l√† <code>true</code> hay kh√¥ng ·ªü ƒë·∫ßu h√†m. N·∫øu gi√° tr·ªã l√† <code>true</code>, h√†m ti·∫øp t·ª•c th·ª±c thi, ng∆∞·ª£c l·∫°i, h√†m s·∫Ω <code>return</code>. Sau khi ki·ªÉm tra bi·ªÉu th·ª©c, bi·ªÉu th·ª©c n√†y s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t th√†nh <code>false</code> ngay l·∫≠p t·ª©c, sau ƒë√≥, h√†m ƒë∆∞·ª£c g·ªçi t·ª´ b√™n ngo√†i s·∫Ω ƒë∆∞·ª£c bao b·ªçc trong m·ªôt <code>setTimeout</code>, cu·ªëi c√πng, sau khi <code>setTimeout</code> th·ª±c thi xong, bi·ªÉu th·ª©c s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t l·∫°i th√†nh <code>true</code> (ƒëi·ªÅu n√†y r·∫•t quan tr·ªçng), ƒë·∫°i di·ªán cho vi·ªác c√≥ th·ªÉ th·ª±c hi·ªán v√≤ng l·∫∑p ti·∫øp theo. Khi <code>setTimeout</code> ch∆∞a ƒë∆∞·ª£c th·ª±c thi, bi·ªÉu th·ª©c <code>canRun</code> lu√¥n l√† <code>false</code>, v√† s·∫Ω ƒë∆∞·ª£c <code>return</code> ·ªü ƒë·∫ßu h√†m.</p><div class="language-js" data-ext="js" data-title="js"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">function</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;"> throttle</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">fn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="color:#E06C75;--shiki-dark:#E06C75;font-style:italic;--shiki-dark-font-style:italic;">interval</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> 300</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  let</span><span style="color:#E06C75;--shiki-dark:#E06C75;"> canRun</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">  return</span><span style="color:#C678DD;--shiki-dark:#C678DD;"> function</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="color:#C678DD;--shiki-dark:#C678DD;">    if</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> (</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;">!</span><span style="color:#E06C75;--shiki-dark:#E06C75;">canRun</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">) </span><span style="color:#C678DD;--shiki-dark:#C678DD;">return</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">    canRun</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> false</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;--shiki-dark:#61AFEF;">    setTimeout</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(() </span><span style="color:#C678DD;--shiki-dark:#C678DD;">=&gt;</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;--shiki-dark:#E5C07B;">      fn</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#61AFEF;--shiki-dark:#61AFEF;">apply</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="color:#E5C07B;--shiki-dark:#E5C07B;">this</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="color:#E06C75;--shiki-dark:#E06C75;">arguments</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E06C75;--shiki-dark:#E06C75;">      canRun</span><span style="color:#56B6C2;--shiki-dark:#56B6C2;"> =</span><span style="color:#D19A66;--shiki-dark:#D19A66;"> true</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">    }, </span><span style="color:#E06C75;--shiki-dark:#E06C75;">interval</span><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"><span style="color:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div>`,31),o=[t];function r(e,p){return a(),n("div",null,o)}const c=s(l,[["render",r],["__file","throttle.html.vue"]]),k=JSON.parse('{"path":"/programming/js/core/function/types/throttle.html","title":"Throttle","lang":"en-US","frontmatter":{"title":"Throttle","tags":["js","programming"],"categories":["js","programming"],"date created":"2023-08-05T00:00:00.000Z","date modified":"2023-08-05T00:00:00.000Z","order":8,"description":"H√†m Throttle H√†m Throttle: Quy ƒë·ªãnh m·ªôt kho·∫£ng th·ªùi gian, trong kho·∫£ng th·ªùi gian n√†y, ch·ªâ c√≥ m·ªôt l·∫ßn g·ªçi l·∫°i h√†m x·ª≠ l√Ω s·ª± ki·ªán ƒë∆∞·ª£c th·ª±c thi. N·∫øu trong c√πng m·ªôt kho·∫£ng th·ªùi gian...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/programming/js/core/function/types/throttle.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Throttle"}],["meta",{"property":"og:description","content":"H√†m Throttle H√†m Throttle: Quy ƒë·ªãnh m·ªôt kho·∫£ng th·ªùi gian, trong kho·∫£ng th·ªùi gian n√†y, ch·ªâ c√≥ m·ªôt l·∫ßn g·ªçi l·∫°i h√†m x·ª≠ l√Ω s·ª± ki·ªán ƒë∆∞·ª£c th·ª±c thi. N·∫øu trong c√πng m·ªôt kho·∫£ng th·ªùi gian..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"programming"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Throttle\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"M·ª•c ƒë√≠ch","slug":"muc-ƒëich","link":"#muc-ƒëich","children":[]},{"level":2,"title":"C√†i ƒë·∫∑t m√£","slug":"cai-ƒëat-ma","link":"#cai-ƒëat-ma","children":[]},{"level":2,"title":"·ª®ng d·ª•ng th·ª±c t·∫ø","slug":"ung-dung-thuc-te","link":"#ung-dung-thuc-te","children":[{"level":3,"title":"·ª®ng d·ª•ng trong nguy√™n b·∫£n","slug":"ung-dung-trong-nguyen-ban","link":"#ung-dung-trong-nguyen-ban","children":[]},{"level":3,"title":"·ª®ng d·ª•ng trong React","slug":"ung-dung-trong-react","link":"#ung-dung-trong-react","children":[]},{"level":3,"title":"C√°c t√¨nh hu·ªëng ·ª©ng d·ª•ng","slug":"cac-tinh-huong-ung-dung","link":"#cac-tinh-huong-ung-dung","children":[]}]},{"level":2,"title":"V√≠ d·ª• th·ª±c t·∫ø","slug":"vi-du-thuc-te","link":"#vi-du-thuc-te","children":[{"level":3,"title":"S·ª± ki·ªán cu·ªôn trang","slug":"su-kien-cuon-trang","link":"#su-kien-cuon-trang","children":[]}]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":5.19,"words":1557},"filePathRelative":"programming/js/core/function/types/throttle.md","localizedDate":"June 28, 2024","excerpt":"\\n<p><strong>H√†m Throttle</strong>: Quy ƒë·ªãnh m·ªôt kho·∫£ng th·ªùi gian, trong kho·∫£ng th·ªùi gian n√†y, ch·ªâ c√≥ m·ªôt l·∫ßn g·ªçi l·∫°i h√†m x·ª≠ l√Ω s·ª± ki·ªán ƒë∆∞·ª£c th·ª±c thi. N·∫øu trong c√πng m·ªôt kho·∫£ng th·ªùi gian m·ªôt s·ª± ki·ªán ƒë∆∞·ª£c g·ªçi l·∫°i nhi·ªÅu l·∫ßn, ch·ªâ c√≥ m·ªôt l·∫ßn ƒë∆∞·ª£c th·ª±c thi. ƒê∆°n gi·∫£n m√† n√≥i, h√†m ƒë∆∞·ª£c th·ª±c thi ngay l·∫≠p t·ª©c khi g·ªçi, nh∆∞ng ƒë·ªÉ th·ª±c thi l·∫ßn ti·∫øp theo, c·∫ßn ph·∫£i ch·ªù m·ªôt kho·∫£ng th·ªùi gian sau khi th·ª±c thi l·∫ßn tr∆∞·ªõc.</p>","autoDesc":true}');export{c as comp,k as data};
