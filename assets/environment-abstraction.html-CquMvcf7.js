import{_ as n,o as r,c as e,a as t}from"./app-B9pwkC50.js";const i={},o=t('<h1 id="spring-environment-truu-tuong" tabindex="-1"><a class="header-anchor" href="#spring-environment-truu-tuong"><span>Spring Environment trừu tượng</span></a></h1><h2 id="hieu-ve-spring-environment-truu-tuong" tabindex="-1"><a class="header-anchor" href="#hieu-ve-spring-environment-truu-tuong"><span>Hiểu về Spring Environment trừu tượng</span></a></h2><p>Quản lý thuộc tính cấu hình Spring thống nhất</p><p>Spring Framework 3.1 đã giới thiệu Environment trừu tượng, nó quản lý việc lưu trữ thuộc tính cấu hình Spring, bao gồm xử lý các placeholder và chuyển đổi kiểu dữ liệu, không chỉ thay thế hoàn toàn PropertyPlaceholderConfigurer mà còn hỗ trợ nguồn thuộc tính cấu hình phong phú hơn (PropertySource).</p><p>Quản lý việc tạo ra các Bean Spring theo điều kiện</p><p>Sử dụng thông tin Profiles trong Environment, giúp Spring Container tạo ra các Bean theo điều kiện.</p><h2 id="cac-truong-hop-su-dung-interface-environment-trong-spring" tabindex="-1"><a class="header-anchor" href="#cac-truong-hop-su-dung-interface-environment-trong-spring"><span>Các trường hợp sử dụng Interface Environment trong Spring</span></a></h2><ul><li>Sử dụng để xử lý placeholder thuộc tính</li><li>Sử dụng để chuyển đổi kiểu dữ liệu thuộc tính cấu hình Spring</li><li>Sử dụng để lưu trữ nguồn thuộc tính cấu hình Spring (PropertySource)</li><li>Sử dụng để duy trì trạng thái Profiles</li></ul><h2 id="xu-ly-placeholder-trong-environment" tabindex="-1"><a class="header-anchor" href="#xu-ly-placeholder-trong-environment"><span>Xử lý placeholder trong Environment</span></a></h2><p>Xử lý placeholder trước Spring 3.1</p><ul><li>Component: org.springframework.beans.factory.config.PropertyPlaceholderConfigurer</li><li>Interface: org.springframework.util.StringValueResolver</li></ul><p>Xử lý placeholder từ Spring 3.1 trở đi</p><ul><li>Component: org.springframework.context.support.PropertySourcesPlaceholderConfigurer</li><li>Interface: org.springframework.beans.factory.config.EmbeddedValueResolver</li></ul><h2 id="hieu-ve-profiles-cau-hinh-đieu-kien-trong-spring" tabindex="-1"><a class="header-anchor" href="#hieu-ve-profiles-cau-hinh-đieu-kien-trong-spring"><span>Hiểu về Profiles cấu hình điều kiện trong Spring</span></a></h2><p>Cấu hình điều kiện từ Spring 3.1</p><ul><li>API: org.springframework.core.env.ConfigurableEnvironment</li><li>Thay đổi: addActiveProfile(String), setActiveProfiles(String…) và setDefaultProfiles(String…)</li><li>Lấy giá trị: getActiveProfiles() và getDefaultProfiles()</li><li>So sánh: acceptsProfiles(String…) và acceptsProfiles(Profiles)</li><li>Annotation: @org.springframework.context.annotation.Profile</li></ul><h2 id="su-tai-cau-truc-profile-trong-spring-4" tabindex="-1"><a class="header-anchor" href="#su-tai-cau-truc-profile-trong-spring-4"><span>Sự tái cấu trúc @Profile trong Spring 4</span></a></h2><p>Dựa trên giao diện org.springframework.context.annotation.Condition từ Spring 4</p><p>org.springframework.context.annotation.ProfileCondition</p><h2 id="tiem-nap-environment" tabindex="-1"><a class="header-anchor" href="#tiem-nap-environment"><span>Tiêm nạp Environment</span></a></h2><p>Tiêm nạp trực tiếp</p><ul><li>Sử dụng giao diện EnvironmentAware</li><li>Tiêm nạp Environment bằng @Autowired</li></ul><p>Tiêm nạp gián tiếp</p><ul><li>Sử dụng giao diện ApplicationContextAware</li><li>Tiêm nạp ApplicationContext bằng @Autowired</li></ul><h2 id="tra-cuu-environment" tabindex="-1"><a class="header-anchor" href="#tra-cuu-environment"><span>Tra cứu Environment</span></a></h2><p>Tra cứu trực tiếp</p><ul><li>Sử dụng org.springframework.context.ConfigurableApplicationContext#ENVIRONMENT_BEAN_NAME</li></ul><p>Tra cứu gián tiếp</p><ul><li>Sử dụng org.springframework.context.ConfigurableApplicationContext#getEnvironment</li></ul><h2 id="dependency-injection-value" tabindex="-1"><a class="header-anchor" href="#dependency-injection-value"><span>Dependency Injection @Value</span></a></h2><p>Tiêm nạp @Value</p><p>Thực hiện - org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor</p><h2 id="su-dung-chuyen-đoi-kieu-du-lieu-trong-environment-cua-spring" tabindex="-1"><a class="header-anchor" href="#su-dung-chuyen-đoi-kieu-du-lieu-trong-environment-cua-spring"><span>Sử dụng chuyển đổi kiểu dữ liệu trong Environment của Spring</span></a></h2><p>Triển khai Environment</p><ul><li>Triển khai cơ bản - org.springframework.core.env.PropertySourcesPropertyResolver</li><li>Phương thức cốt lõi - convertValueIfNecessary(Object, Class)</li><li>Dịch vụ cơ bản - org.springframework.core.convert.ConversionService</li><li>Triển khai mặc định - org.springframework.core.convert.support.DefaultConversionService</li></ul><h2 id="su-dung-chuyen-đoi-kieu-du-lieu-trong-value-cua-spring" tabindex="-1"><a class="header-anchor" href="#su-dung-chuyen-đoi-kieu-du-lieu-trong-value-cua-spring"><span>Sử dụng chuyển đổi kiểu dữ liệu trong @Value của Spring</span></a></h2><p>Triển khai @Value</p><ul><li>Triển khai cơ bản - org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor <ul><li>org.springframework.beans.factory.support.DefaultListableBeanFactory#doResolveDependency</li></ul></li><li>Dịch vụ cơ bản - org.springframework.beans.TypeConverter <ul><li>Triển khai mặc định - org.springframework.beans.TypeConverterDelegate <ul><li>java.beans.PropertyEditor</li><li>org.springframework.core.convert.ConversionService</li></ul></li></ul></li></ul><h2 id="nguon-thuoc-tinh-cau-hinh-propertysource-cua-spring" tabindex="-1"><a class="header-anchor" href="#nguon-thuoc-tinh-cau-hinh-propertysource-cua-spring"><span>Nguồn thuộc tính cấu hình PropertySource của Spring</span></a></h2><ul><li>API <ul><li>Nguồn thuộc tính cấu hình đơn - org.springframework.core.env.PropertySource</li><li>Nguồn thuộc tính cấu hình nhiều - org.springframework.core.env.PropertySources</li></ul></li><li>Annotation <ul><li>Nguồn thuộc tính cấu hình đơn - @org.springframework.context.annotation.PropertySource</li><li>Nguồn thuộc tính cấu hình nhiều - @org.springframework.context.annotation.PropertySources</li></ul></li><li>Liên quan <ul><li>Đối tượng lưu trữ - org.springframework.core.env.MutablePropertySources</li><li>Phương thức liên quan - org.springframework.core.env.ConfigurableEnvironment#getPropertySources()</li></ul></li></ul><h2 id="nguon-thuoc-tinh-cau-hinh-san-co-trong-spring" tabindex="-1"><a class="header-anchor" href="#nguon-thuoc-tinh-cau-hinh-san-co-trong-spring"><span>Nguồn thuộc tính cấu hình sẵn có trong Spring</span></a></h2><p>Nguồn PropertySource tích hợp sẵn</p><table><thead><tr><th>Loại PropertySource</th><th>Mô tả</th></tr></thead><tbody><tr><td>org.springframework.core.env.CommandLinePropertySource</td><td>Nguồn thuộc tính dòng lệnh</td></tr><tr><td>org.springframework.jndi.JndiPropertySource</td><td>Nguồn thuộc tính JNDI</td></tr><tr><td>org.springframework.core.env.PropertiesPropertySource</td><td>Nguồn thuộc tính Properties</td></tr><tr><td>org.springframework.web.context.support.ServletConfigPropertySource</td><td>Nguồn thuộc tính Servlet</td></tr><tr><td>org.springframework.web.context.support.ServletContextPropertySource</td><td>Nguồn thuộc tính ServletContext</td></tr><tr><td>org.springframework.core.env.SystemEnvironmentPropertySource</td><td>Nguồn thuộc tính môi trường</td></tr></tbody></table><h2 id="mo-rong-propertysource-trong-spring-dua-tren-annotation" tabindex="-1"><a class="header-anchor" href="#mo-rong-propertysource-trong-spring-dua-tren-annotation"><span>Mở rộng PropertySource trong Spring dựa trên Annotation</span></a></h2><p>@org.springframework.context.annotation.PropertySource cách thực hiện</p><ul><li>Điểm vào - org.springframework.context.annotation.ConfigurationClassParser#doProcessConfigurationClass <ul><li>org.springframework.context.annotation.ConfigurationClassParser#processPropertySource</li></ul></li><li>4.3 Semantic mới <ul><li>Mã hóa ký tự cấu hình thuộc tính - encoding</li><li>org.springframework.core.io.support.PropertySourceFactory</li></ul></li><li>Đối tượng phù hợp - org.springframework.core.env.CompositePropertySource</li></ul><h2 id="mo-rong-propertysource-trong-spring-dua-tren-api" tabindex="-1"><a class="header-anchor" href="#mo-rong-propertysource-trong-spring-dua-tren-api"><span>Mở rộng PropertySource trong Spring dựa trên API</span></a></h2><ul><li>Tạo PropertySource trước khi khởi động ứng dụng Spring</li><li>Tạo PropertySource sau khi khởi động ứng dụng Spring</li></ul><h2 id="cau-hoi" tabindex="-1"><a class="header-anchor" href="#cau-hoi"><span>Câu hỏi</span></a></h2><p>Giới thiệu về Interface Environment trong Spring?</p><ul><li>Interface cốt lõi - org.springframework.core.env.Environment</li><li>Interface cha - org.springframework.core.env.PropertyResolver</li><li>Interface có thể cấu hình - org.springframework.core.env.ConfigurableEnvironment</li><li>Trách nhiệm: <ul><li>Quản lý nguồn thuộc tính cấu hình Spring</li><li>Quản lý Profiles</li></ul></li></ul>',51),a=[o];function u(c,l){return r(),e("div",null,a)}const p=n(i,[["render",u],["__file","environment-abstraction.html.vue"]]),h=JSON.parse('{"path":"/framework/spring/core/environment-abstraction.html","title":"Spring Environment Abstraction","lang":"en-US","frontmatter":{"title":"Spring Environment Abstraction","tags":["spring","java","backend","acceptsProfiles(String…)"],"categories":["spring","java","backend"],"date created":"2023-07-26T00:00:00.000Z","date modified":"2023-07-26T00:00:00.000Z","order":20,"description":"Spring Environment trừu tượng Hiểu về Spring Environment trừu tượng Quản lý thuộc tính cấu hình Spring thống nhất Spring Framework 3.1 đã giới thiệu Environment trừu tượng, nó q...","head":[["meta",{"property":"og:url","content":"https://vanhung4499.github.io/framework/spring/core/environment-abstraction.html"}],["meta",{"property":"og:site_name","content":"VanHung4499"}],["meta",{"property":"og:title","content":"Spring Environment Abstraction"}],["meta",{"property":"og:description","content":"Spring Environment trừu tượng Hiểu về Spring Environment trừu tượng Quản lý thuộc tính cấu hình Spring thống nhất Spring Framework 3.1 đã giới thiệu Environment trừu tượng, nó q..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-28T15:54:38.000Z"}],["meta",{"property":"article:author","content":"Hung Nguyen"}],["meta",{"property":"article:tag","content":"spring"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"backend"}],["meta",{"property":"article:tag","content":"acceptsProfiles(String…)"}],["meta",{"property":"article:modified_time","content":"2024-06-28T15:54:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spring Environment Abstraction\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-28T15:54:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Hung Nguyen\\",\\"url\\":\\"https://vanhung4499.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Hiểu về Spring Environment trừu tượng","slug":"hieu-ve-spring-environment-truu-tuong","link":"#hieu-ve-spring-environment-truu-tuong","children":[]},{"level":2,"title":"Các trường hợp sử dụng Interface Environment trong Spring","slug":"cac-truong-hop-su-dung-interface-environment-trong-spring","link":"#cac-truong-hop-su-dung-interface-environment-trong-spring","children":[]},{"level":2,"title":"Xử lý placeholder trong Environment","slug":"xu-ly-placeholder-trong-environment","link":"#xu-ly-placeholder-trong-environment","children":[]},{"level":2,"title":"Hiểu về Profiles cấu hình điều kiện trong Spring","slug":"hieu-ve-profiles-cau-hinh-đieu-kien-trong-spring","link":"#hieu-ve-profiles-cau-hinh-đieu-kien-trong-spring","children":[]},{"level":2,"title":"Sự tái cấu trúc @Profile trong Spring 4","slug":"su-tai-cau-truc-profile-trong-spring-4","link":"#su-tai-cau-truc-profile-trong-spring-4","children":[]},{"level":2,"title":"Tiêm nạp Environment","slug":"tiem-nap-environment","link":"#tiem-nap-environment","children":[]},{"level":2,"title":"Tra cứu Environment","slug":"tra-cuu-environment","link":"#tra-cuu-environment","children":[]},{"level":2,"title":"Dependency Injection @Value","slug":"dependency-injection-value","link":"#dependency-injection-value","children":[]},{"level":2,"title":"Sử dụng chuyển đổi kiểu dữ liệu trong Environment của Spring","slug":"su-dung-chuyen-đoi-kieu-du-lieu-trong-environment-cua-spring","link":"#su-dung-chuyen-đoi-kieu-du-lieu-trong-environment-cua-spring","children":[]},{"level":2,"title":"Sử dụng chuyển đổi kiểu dữ liệu trong @Value của Spring","slug":"su-dung-chuyen-đoi-kieu-du-lieu-trong-value-cua-spring","link":"#su-dung-chuyen-đoi-kieu-du-lieu-trong-value-cua-spring","children":[]},{"level":2,"title":"Nguồn thuộc tính cấu hình PropertySource của Spring","slug":"nguon-thuoc-tinh-cau-hinh-propertysource-cua-spring","link":"#nguon-thuoc-tinh-cau-hinh-propertysource-cua-spring","children":[]},{"level":2,"title":"Nguồn thuộc tính cấu hình sẵn có trong Spring","slug":"nguon-thuoc-tinh-cau-hinh-san-co-trong-spring","link":"#nguon-thuoc-tinh-cau-hinh-san-co-trong-spring","children":[]},{"level":2,"title":"Mở rộng PropertySource trong Spring dựa trên Annotation","slug":"mo-rong-propertysource-trong-spring-dua-tren-annotation","link":"#mo-rong-propertysource-trong-spring-dua-tren-annotation","children":[]},{"level":2,"title":"Mở rộng PropertySource trong Spring dựa trên API","slug":"mo-rong-propertysource-trong-spring-dua-tren-api","link":"#mo-rong-propertysource-trong-spring-dua-tren-api","children":[]},{"level":2,"title":"Câu hỏi","slug":"cau-hoi","link":"#cau-hoi","children":[]}],"git":{"createdTime":1719590078000,"updatedTime":1719590078000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":2.62,"words":785},"filePathRelative":"framework/spring/core/environment-abstraction.md","localizedDate":"June 28, 2024","excerpt":"\\n<h2>Hiểu về Spring Environment trừu tượng</h2>\\n<p>Quản lý thuộc tính cấu hình Spring thống nhất</p>\\n<p>Spring Framework 3.1 đã giới thiệu Environment trừu tượng, nó quản lý việc lưu trữ thuộc tính cấu hình Spring, bao gồm xử lý các placeholder và chuyển đổi kiểu dữ liệu, không chỉ thay thế hoàn toàn PropertyPlaceholderConfigurer mà còn hỗ trợ nguồn thuộc tính cấu hình phong phú hơn (PropertySource).</p>","autoDesc":true}');export{p as comp,h as data};
