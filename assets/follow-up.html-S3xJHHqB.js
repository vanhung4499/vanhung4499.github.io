import{_ as e,o as n,c as a,a as i}from"./app-BRTHG7K9.js";const s={},c=i('<h1 id="【通用】跟进记录、待办事项" tabindex="-1"><a class="header-anchor" href="#【通用】跟进记录、待办事项"><span>【通用】跟进记录、待办事项</span></a></h1><p>跟进记录，由 <code>yudao-module-crm-biz</code> 后端模块的 <code>followup</code> 包实现，支持线索、客户、联系人、商机、合同等对象的跟进记录。</p><h2 id="_1-表结构" tabindex="-1"><a class="header-anchor" href="#_1-表结构"><span><a href="#_1-%E8%A1%A8%E7%BB%93%E6%9E%84">#</a> 1. 表结构</span></a></h2><blockquote><p>省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段</p></blockquote><div class="language- line-numbers-mode" data-ext="" data-title=""><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code" style="background-color:#282c34;--shiki-dark-bg:#282c34;color:#abb2bf;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span>CREATE TABLE `crm_follow_up_record` (</span></span>\n<span class="line"><span>  `id` bigint NOT NULL AUTO_INCREMENT COMMENT &#39;编号&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `biz_type` int DEFAULT NULL COMMENT &#39;数据类型&#39;,</span></span>\n<span class="line"><span>  `biz_id` bigint DEFAULT NULL COMMENT &#39;数据编号&#39;,</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>  `next_time` datetime DEFAULT NULL COMMENT &#39;下次联系时间&#39;,  </span></span>\n<span class="line"><span>  `type` int DEFAULT NULL COMMENT &#39;跟进类型&#39;,</span></span>\n<span class="line"><span>  `content` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT &#39;&#39; COMMENT &#39;跟进内容&#39;,</span></span>\n<span class="line"><span>  `pic_urls` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;图片&#39;,</span></span>\n<span class="line"><span>  `file_urls` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &#39;附件&#39;,</span></span>\n<span class="line"><span>  </span></span>\n<span class="line"><span>  `business_ids` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT &#39;&#39; COMMENT &#39;关联的商机编号数组&#39;,</span></span>\n<span class="line"><span>  `contact_ids` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT &#39;&#39; COMMENT &#39;关联的联系人编号数组&#39;,</span></span>\n<span class="line"><span>   PRIMARY KEY (`id`) USING BTREE</span></span>\n<span class="line"><span>) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci ROW_FORMAT=DYNAMIC COMMENT=&#39;CRM 跟进记录&#39;;</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>① <code>biz_type</code>、<code>biz_id</code> 字段：关联被跟进的对象，其中 <code>biz_type</code> 由 CrmBizTypeEnum 枚举，包括线索、客户、联系人、商机、合同等等。</p><p>② 从 <code>type</code> 到 <code>file_urls</code> 字段：跟进记录的基本信息，包括跟进类型、跟进内容、下次联系时间、图片、附件等等。比较重要的是 <code>next_time</code> 字段，用于提醒用户下次联系时间。</p><p>③ <code>business_ids</code>、<code>contact_ids</code> 字段：关联的商机编号数组、关联的联系人编号数组。例如说，某个跟进记录关联了 3 个商机、2 个联系人。</p><h2 id="_2-管理后台" tabindex="-1"><a class="header-anchor" href="#_2-管理后台"><span><a href="#_2-%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0">#</a> 2. 管理后台</span></a></h2><p>在每个数据的详情界面，有一个 [跟进记录] 的功能，可以查看、新增、删除跟进记录。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/CRM手册/跟进记录/跟进记录.png" alt="跟进记录（界面）" tabindex="0" loading="lazy"><figcaption>跟进记录（界面）</figcaption></figure><p>① 点击【写跟进】按钮，会弹出一个对话框，可以填写跟进记录的基本信息。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/CRM手册/跟进记录/写跟进.png" alt="写跟进（界面）" tabindex="0" loading="lazy"><figcaption>写跟进（界面）</figcaption></figure><p>② 确认后，会新增一条跟进记录。另外，在这个过程中，会更新对应对象的 <code>next_time</code> 字段，用于提醒用户下次联系时间。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/CRM手册/跟进记录/写跟进-后端.png" alt="写跟进（代码）" tabindex="0" loading="lazy"><figcaption>写跟进（代码）</figcaption></figure><p>也就是说，<code>crm_follow_up_record</code> 用于记录每一次跟进，<code>biz_type</code> + <code>biz_id</code> 对应的对象（客户、商机、联系人等等）自己也会记录最后一次的跟进信息。</p><h2 id="_2-待办事项" tabindex="-1"><a class="header-anchor" href="#_2-待办事项"><span><a href="#_2-%E5%BE%85%E5%8A%9E%E4%BA%8B%E9%A1%B9">#</a> 2. 待办事项</span></a></h2><p>对应 [CRM 系统 -&gt; 待办事项] 菜单，对应 <code>yudao-ui-admin-vue3</code> 项目的 <code>@/views/crm/backlog</code> 目录。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/CRM手册/跟进记录/待办事项.png" alt="待办事项" tabindex="0" loading="lazy"><figcaption>待办事项</figcaption></figure><p>它目前没有单独的表存储，或者专属的后端模块，而是通过每个对象的 Controller 实现的。比如说，客户的待办事项是通过 CrmCustomerController 实现的。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/CRM手册/跟进记录/待办事项-后端.png" alt="待办事项（代码）" tabindex="0" loading="lazy"><figcaption>待办事项（代码）</figcaption></figure>',21),d=[c];function l(o,p){return n(),a("div",null,d)}const r=e(s,[["render",l],["__file","follow-up.html.vue"]]),u=JSON.parse('{"path":"/project/rouyi-vue-pro/crm/follow-up.html","title":"【通用】跟进记录、待办事项","lang":"en-US","frontmatter":{"title":"【通用】跟进记录、待办事项","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":127,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. 表结构","slug":"_1-表结构","link":"#_1-表结构","children":[]},{"level":2,"title":"# 2. 管理后台","slug":"_2-管理后台","link":"#_2-管理后台","children":[]},{"level":2,"title":"# 2. 待办事项","slug":"_2-待办事项","link":"#_2-待办事项","children":[]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":2.76,"words":828},"filePathRelative":"project/rouyi-vue-pro/crm/follow-up.md","localizedDate":"July 7, 2024"}');export{r as comp,u as data};
