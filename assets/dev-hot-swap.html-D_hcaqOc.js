import{_ as a,o as i,c as l,a as o}from"./app-5QVbWi7Z.js";const n={};function t(r,e){return i(),l("div",null,e[0]||(e[0]=[o('<h1 id="代码热加载" tabindex="-1"><a class="header-anchor" href="#代码热加载"><span>代码热加载</span></a></h1><p>在日常开发中，我们需要经常修改 Java 代码，手动重启项目，查看修改后的效果。如果在项目小时，重启速度比较快，等待的时间是较短的。但是随着项目逐渐变大，重启的速度变慢，等待时间 1-2 min 是比较常见的。</p><p>这样就导致我们开发效率降低，影响我们的下班时间，哈哈哈~</p><p>那么是否有方式能够实现，在我们修改完 Java 代码之后，能够不重启项目呢？答案是有的，通过 <strong>代码热加载</strong> 的方式。实现方案有三种：</p><ol><li>spring-boot-devtools【不推荐】</li><li>IDEA 自带 HowSwap 功能【推荐】</li><li>JRebel 插件【最推荐】</li></ol><h2 id="_1-spring-boot-devtools" tabindex="-1"><a class="header-anchor" href="#_1-spring-boot-devtools"><span><a href="#_1-spring-boot-devtools">#</a> 1. spring-boot-devtools</span></a></h2><p><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.running-your-application.hot-swapping" target="_blank" rel="noopener noreferrer">spring-boot-devtools</a> 是 Spring Boot 提供的开发者工具，它会监控当前应用所在的 classpath 下的文件发生变化，进行<strong>自动重启</strong>。</p><p>devtools 存在重启速度较慢的问题，所以不推荐！</p><h2 id="_2-idea-自带-howswap-功能" tabindex="-1"><a class="header-anchor" href="#_2-idea-自带-howswap-功能"><span><a href="#_2-idea-%E8%87%AA%E5%B8%A6-howswap-%E5%8A%9F%E8%83%BD">#</a> 2. IDEA 自带 HowSwap 功能</span></a></h2><p>该功能是 IDEA Ultimate 旗舰版的专属功能，不支持 IDEA Community 社区版。</p><h3 id="_2-1-如何使用" tabindex="-1"><a class="header-anchor" href="#_2-1-如何使用"><span><a href="#_2-1-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">#</a> 2.1 如何使用</span></a></h3><p>① 设置 Spring Boot 启动类，开启 HotSwap 功能。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/IDEA配置热加载.png" alt="IDEA 配置热加载" tabindex="0" loading="lazy"><figcaption>IDEA 配置热加载</figcaption></figure><p>② Debug 运行该启动类，等待项目启动完成。</p><p>③ 每次修改 Java 代码后，点击左下角的「热加载」按钮，即可实现代码热加载。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/IDEA代码热加载.png" alt="IDEA 代码热加载" tabindex="0" loading="lazy"><figcaption>IDEA 代码热加载</figcaption></figure><h3 id="_2-2-存在问题" tabindex="-1"><a class="header-anchor" href="#_2-2-存在问题"><span><a href="#_2-2-%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98">#</a> 2.2 存在问题</span></a></h3><p>IDEA 自带 HowSwap 功能，支持比较有限，很多修改都不支持。例如说：</p><ul><li>只能增加方法或字段但不可以减少方法或字段</li><li>只能增加可见性不能减少</li><li>只能维持已有方法的签名而不能修改等等。</li></ul><p>你可以认为，只支持方法内的代码修改热加载。</p><p>如果想要相对完美的方案，建议使用 JRebel 插件。</p><h2 id="_3-jrebel-插件【最推荐】" tabindex="-1"><a class="header-anchor" href="#_3-jrebel-插件【最推荐】"><span><a href="#_3-jrebel-%E6%8F%92%E4%BB%B6%E3%80%90%E6%9C%80%E6%8E%A8%E8%8D%90%E3%80%91">#</a> 3. JRebel 插件【最推荐】</span></a></h2><p>JRebel 插件是目前最好用的热加载插件，它支持 IDEA Ultimate 旗舰版、Community 社区版。</p><h3 id="_3-1-如何安装" tabindex="-1"><a class="header-anchor" href="#_3-1-如何安装"><span><a href="#_3-1-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85">#</a> 3.1 如何安装</span></a></h3><p>① 点击 <a href="https://plugins.jetbrains.com/plugin/4441-jrebel-and-xrebel/versions" target="_blank" rel="noopener noreferrer">https://plugins.jetbrains.com/plugin/4441-jrebel-and-xrebel/versions</a> 地址，必须下载 <strong>2022.4.1</strong> 版本。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel下载.png" alt="JRebel 下载" tabindex="0" loading="lazy"><figcaption>JRebel 下载</figcaption></figure><p>② 打开 [Preference -&gt; Plugins] 菜单，点击「Install Plugin from Disk...」按钮，选择刚下载的 JRebel 插件的压缩包。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel安装.png" alt="JRebel 安装" tabindex="0" loading="lazy"><figcaption>JRebel 安装</figcaption></figure><p>安装完成后，需要重启 IDEA 生效。</p><p>③ 打开 [Preference -&gt; JRebel &amp; XRebel] 菜单，输入 GUID address 为 <code>https://jrebel.qekang.com/1e67ec1b-122f-4708-87d0-c1995dc0cdaa</code> ，邮件随便写，完成 JRebel 的激活。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel激活.png" alt="JRebel 激活" tabindex="0" loading="lazy"><figcaption>JRebel 激活</figcaption></figure><p>之后，点击「Work Offline」按钮，设置 JRebel 为离线，避免因为网络问题导致激活失效。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel离线.png" alt="JRebel 离线" tabindex="0" loading="lazy"><figcaption>JRebel 离线</figcaption></figure><h3 id="_3-2-如何使用" tabindex="-1"><a class="header-anchor" href="#_3-2-如何使用"><span><a href="#_3-2-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8">#</a> 3.2 如何使用</span></a></h3><p>① 点击「Debug With JRebel」按钮，使用 JRebel 启动项目。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel启动项目.png" alt="JRebel 启动项目" tabindex="0" loading="lazy"><figcaption>JRebel 启动项目</figcaption></figure><p>② 每次修改 Java 代码后，点击左下角的「热加载」按钮，即可实现代码热加载。如下图所示：</p><figure><img src="https://doc.iocoder.cn/img/代码热加载/JRebel代码热加载.png" alt="JRebel 代码热加载" tabindex="0" loading="lazy"><figcaption>JRebel 代码热加载</figcaption></figure>',38)]))}const s=a(n,[["render",t],["__file","dev-hot-swap.html.vue"]]),g=JSON.parse('{"path":"/project/rouyi-vue-pro/dev-hot-swap.html","title":"代码热加载","lang":"en-US","frontmatter":{"title":"代码热加载","tags":["project","java","spring-boot","spring-cloud"],"categories":["project"],"order":11,"feed":false,"seo":false,"head":[]},"headers":[{"level":2,"title":"# 1. spring-boot-devtools","slug":"_1-spring-boot-devtools","link":"#_1-spring-boot-devtools","children":[]},{"level":2,"title":"# 2. IDEA 自带 HowSwap 功能","slug":"_2-idea-自带-howswap-功能","link":"#_2-idea-自带-howswap-功能","children":[{"level":3,"title":"# 2.1 如何使用","slug":"_2-1-如何使用","link":"#_2-1-如何使用","children":[]},{"level":3,"title":"# 2.2 存在问题","slug":"_2-2-存在问题","link":"#_2-2-存在问题","children":[]}]},{"level":2,"title":"# 3. JRebel 插件【最推荐】","slug":"_3-jrebel-插件【最推荐】","link":"#_3-jrebel-插件【最推荐】","children":[{"level":3,"title":"# 3.1 如何安装","slug":"_3-1-如何安装","link":"#_3-1-如何安装","children":[]},{"level":3,"title":"# 3.2 如何使用","slug":"_3-2-如何使用","link":"#_3-2-如何使用","children":[]}]}],"git":{"createdTime":1720365235000,"updatedTime":1720365235000,"contributors":[{"name":"Hung Nguyen Van","email":"vanhung4499@gmail.com","commits":1}]},"readingTime":{"minutes":3.38,"words":1014},"filePathRelative":"project/rouyi-vue-pro/dev-hot-swap.md","localizedDate":"July 7, 2024"}');export{s as comp,g as data};
